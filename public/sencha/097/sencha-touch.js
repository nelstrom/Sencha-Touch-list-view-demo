/*
    Copyright(c) 2010 Sencha Inc.
    licensing@sencha.com
    http://www.sencha.com/touchlicense
*/
if(typeof Ext==="undefined"){Ext={}}Ext.apply=function(b,a,d){if(d){Ext.apply(b,d)}if(b&&a&&typeof a=="object"){for(var c in a){b[c]=a[c]}}return b};Ext.apply(Ext,{platformVersion:"0.2",platformVersionDetail:{major:0,minor:2,patch:0},userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1000,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",isStrict:document.compatMode=="CSS1Compat",windowId:"ext-window",documentId:"ext-document",emptyFn:function(){},isSecure:/^https/i.test(window.location.protocol),isReady:false,enableGarbageCollector:true,enableListenerCollection:true,applyIf:function(b,a){var c,d;if(b){for(c in a){if(b[c]===d){b[c]=a[c]}}}return b},repaint:function(){var a=Ext.getBody().createChild({cls:"x-mask x-mask-transparent"});setTimeout(function(){a.remove()},0)},id:function(a,b){a=Ext.getDom(a)||{};if(a===document){a.id=this.documentId}else{if(a===window){a.id=this.windowId}}a.id=a.id||((b||"ext-gen")+(++Ext.idSeed));return a.id},extend:function(){var b=function(d){for(var c in d){if(!d.hasOwnProperty(c)){continue}this[c]=d[c]}};var a=Object.prototype.constructor;return function(c,h,f){if(Ext.isObject(h)){f=h;h=c;c=f.constructor!=a?f.constructor:function(){h.apply(this,arguments)}}if(!h){throw"Attempting to extend from a class which has not been loaded on the page."}var e=function(){},d,g=h.prototype;e.prototype=g;d=c.prototype=new e();d.constructor=c;c.superclass=g;if(g.constructor==a){g.constructor=h}c.override=function(j){Ext.override(c,j)};d.superclass=d.supr=(function(){return g});d.override=b;d.proto=d;c.override(f);c.extend=function(j){return Ext.extend(c,j)};return c}}(),override:function(a,b){Ext.apply(a.prototype,b)},namespace:function(){var e=arguments.length,d,f,c,a,h,g,b;for(d=0;d<e;d++){f=arguments[d];g=f.split(".");if(window.Ext){b=window[g[0]]=Object(window[g[0]])}else{b=arguments.callee.caller.arguments[0]}for(a=1,h=g.length;a<h;a++){b=b[g[a]]=Object(b[g[a]])}}return b},urlEncode:function(f,d){var b,a=[],c=encodeURIComponent;Ext.iterate(f,function(e,g){b=Ext.isEmpty(g);Ext.each(b?e:g,function(h){a.push("&",c(e),"=",(!Ext.isEmpty(h)&&(h!=e||!b))?(Ext.isDate(h)?Ext.encode(h).replace(/"/g,""):c(h)):"")})});if(!d){a.shift();d=""}return d+a.join("")},urlDecode:function(c,b){if(Ext.isEmpty(c)){return{}}var g={},f=c.split("&"),h=decodeURIComponent,a,e;Ext.each(f,function(d){d=d.split("=");a=h(d[0]);e=h(d[1]);g[a]=b||!g[a]?e:[].concat(g[a]).concat(e)});return g},htmlEncode:function(a){return Ext.util.Format.htmlEncode(a)},htmlDecode:function(a){return Ext.util.Format.htmlDecode(a)},urlAppend:function(a,b){if(!Ext.isEmpty(b)){return a+(a.indexOf("?")===-1?"?":"&")+b}return a},toArray:function(c,b,a){return Array.prototype.slice.call(c,b||0,a||c.length)},each:function(e,d,c){if(Ext.isEmpty(e,true)){return 0}if(!Ext.isIterable(e)||Ext.isPrimitive(e)){e=[e]}for(var b=0,a=e.length;b<a;b++){if(d.call(c||e[b],e[b],b,e)===false){return b}}return true},iterate:function(c,b,a){if(Ext.isEmpty(c)){return}if(Ext.isIterable(c)){Ext.each(c,b,a);return}else{if(Ext.isObject(c)){for(var d in c){if(c.hasOwnProperty(d)){if(b.call(a||c,d,c[d],c)===false){return}}}}}},pluck:function(a,c){var b=[];Ext.each(a,function(d){b.push(d[c])});return b},getBody:function(){return Ext.get(document.body||false)},getHead:function(){var a;return function(){if(a==undefined){a=Ext.get(DOC.getElementsByTagName("head")[0])}return a}}(),getDoc:function(){return Ext.get(document)},getCmp:function(a){return Ext.ComponentMgr.get(a)},getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},isIterable:function(a){if(!a){return false}if(Ext.isArray(a)||a.callee){return true}if(/NodeList|HTMLCollection/.test(Object.prototype.toString.call(a))){return true}return((typeof a.nextNode!="undefined"||a.item)&&Ext.isNumber(a.length))||false},num:function(b,a){b=Number(Ext.isEmpty(b)||Ext.isArray(b)||typeof b=="boolean"||(typeof b=="string"&&Ext.util.Format.trim(b).length==0)?NaN:b);return isNaN(b)?a:b},isEmpty:function(d,a){var b=d==null,c=(Ext.isArray(d)&&!d.length),e=!a?d==="":false;return b||c||e},isArray:function(a){return Object.prototype.toString.apply(a)==="[object Array]"},isDate:function(a){return Object.prototype.toString.apply(a)==="[object Date]"},isObject:function(a){return !!a&&Object.prototype.toString.call(a)==="[object Object]"},isPrimitive:function(a){return Ext.isString(a)||Ext.isNumber(a)||Ext.isBoolean(a)},isFunction:function(a){return Object.prototype.toString.apply(a)==="[object Function]"},isNumber:function(a){return Object.prototype.toString.apply(a)==="[object Number]"&&isFinite(a)},isString:function(a){return typeof a==="string"},isBoolean:function(a){return Object.prototype.toString.apply(a)==="[object Boolean]"},isElement:function(a){return a?!!a.tagName:false},isDefined:function(a){return typeof a!=="undefined"},destroy:function(){var c=arguments.length,b,a;for(b=0;b<c;b++){a=arguments[b];if(a){if(Ext.isArray(a)){this.destroy.apply(this,a)}else{if(Ext.isFunction(a.destroy)){a.destroy()}else{if(a.dom){a.remove()}}}}}}});Ext.SSL_SECURE_URL=Ext.isSecure&&"about:blank";Ext.ns=Ext.namespace;Ext.ns("Ext.util","Ext.data","Ext.list","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.plugins","Ext.direct","Ext.lib","Ext.gesture");Ext.util.Observable=Ext.extend(Object,{isObservable:true,constructor:function(a){var b=this;Ext.apply(b,a);if(b.listeners){b.on(b.listeners);delete b.listeners}b.events=b.events||{};if(this.bubbleEvents){this.enableBubble(this.bubbleEvents)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal)$/,addManagedListener:function(h,d,f,e,c){var a=this.managedListeners=this.managedListeners||[],g=this,b;if(Ext.isObject(d)){c=d;for(d in c){if(!c.hasOwnProperty(d)){continue}b=c[d];if(!g.eventOptionsRe.test(d)){g.addManagedListener(h,d,b.fn||b,b.scope||c.scope,b.fn?b:c)}}}else{a.push({item:h,ename:d,fn:f,scope:e,options:c});h.on(d,f,e,c)}},removeManagedListener:function(k,e,h,l){var g=this,b,d,j,c,a,f;if(Ext.isObject(e)){b=e;for(e in b){if(!b.hasOwnProperty(e)){continue}d=b[e];if(!g.eventOptionsRe.test(e)){g.removeManagedListener(k,e,d.fn||d,d.scope||b.scope)}}}j=this.managedListeners?this.managedListeners.slice():[];a=j.length;for(f=0;f<a;f++){c=j[f];if(c.item===k&&c.ename===e&&(!h||c.fn===h)&&(!l||c.scope===l)){this.managedListeners.remove(c);k.un(c.ename,c.fn,c.scope)}}},fireEvent:function(){var h=this,c=Ext.toArray(arguments),e=c[0].toLowerCase(),d=true,g=h.events[e],b=h.eventQueue,f;if(h.eventsSuspended===true){if(b){b.push(c)}return false}else{if(g&&Ext.isObject(g)&&g.bubble){if(g.fire.apply(g,c.slice(1))===false){return false}f=h.getBubbleTarget&&h.getBubbleTarget();if(f&&f.isObservable){if(!f.events[e]||!Ext.isObject(f.events[e])||!f.events[e].bubble){f.enableBubble(e)}return f.fireEvent.apply(f,c)}}else{if(g&&Ext.isObject(g)){c.shift();d=g.fire.apply(g,c)}}}return d},addListener:function(b,d,c,g){var f=this,a,e;if(Ext.isObject(b)){g=b;for(b in g){if(!g.hasOwnProperty(b)){continue}a=g[b];if(!f.eventOptionsRe.test(b)){f.addListener(b,a.fn||a,a.scope||g.scope,a.fn?a:g)}}}else{b=b.toLowerCase();f.events[b]=f.events[b]||true;e=f.events[b]||true;if(Ext.isBoolean(e)){f.events[b]=e=new Ext.util.Event(f,b)}e.addListener(d,c,Ext.isObject(g)?g:{})}},removeListener:function(b,d,c){var f=this,a,e;if(Ext.isObject(b)){var g=b;for(b in g){if(!g.hasOwnProperty(b)){continue}a=g[b];if(!f.eventOptionsRe.test(b)){f.removeListener(b,a.fn||a,a.scope||g.scope)}}}else{b=b.toLowerCase();e=f.events[b];if(e.isEvent){e.removeListener(d,c)}}},purgeListeners:function(){var b=this.events,c,a;for(a in b){if(!b.hasOwnProperty(a)){continue}c=b[a];if(c.isEvent){c.clearListeners()}}this.purgeManagedListeners()},purgeManagedListeners:function(){var b=this.managedListeners||[],d=b.length,c,a;for(c=0;c<d;c++){a=b[c];a.item.un(a.ename,a.fn,a.scope)}this.managedListener=[]},addEvents:function(e){var d=this;d.events=d.events||{};if(Ext.isString(e)){var b=arguments,c=b.length;while(c--){d.events[b[c]]=d.events[b[c]]||true}}else{Ext.applyIf(d.events,e)}},hasListener:function(a){var b=this.events[a];return b.isEvent===true&&b.listeners.length>0},suspendEvents:function(a){this.eventsSuspended=true;if(a&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var a=this,b=a.eventQueue||[];a.eventsSuspended=false;delete a.eventQueue;Ext.each(b,function(c){a.fireEvent.apply(a,c)})},relayEvents:function(b,e,h){h=h||"";var g=this,a=e.length,d,c;function f(j){return function(){return g.fireEvent.apply(g,[h+j].concat(Array.prototype.slice.call(arguments,0,-1)))}}for(d=0,a=e.length;d<a;d++){c=e[d].substr(h.length);g.events[c]=g.events[c]||true;b.on(c,f(c),g)}},enableBubble:function(a){var b=this;if(!Ext.isEmpty(a)){a=Ext.isArray(a)?a:Ext.toArray(arguments);Ext.each(a,function(c){c=c.toLowerCase();var d=b.events[c]||true;if(Ext.isBoolean(d)){d=new Ext.util.Event(b,c);b.events[c]=d}d.bubble=true})}}});Ext.override(Ext.util.Observable,{on:Ext.util.Observable.prototype.addListener,un:Ext.util.Observable.prototype.removeListener,mon:Ext.util.Observable.prototype.addManagedListener,mun:Ext.util.Observable.prototype.removeManagedListener});Ext.util.Observable.releaseCapture=function(a){a.fireEvent=Ext.util.Observable.prototype.fireEvent};Ext.util.Observable.capture=function(c,b,a){c.fireEvent=Ext.createInterceptor(c.fireEvent,b,a)};Ext.util.Observable.observe=function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new Ext.util.Observable());Ext.util.Observable.capture(a.prototype,a.fireEvent,a)}if(typeof b=="object"){a.on(b)}return a}};Ext.util.Observable.observeClass=Ext.util.Observable.observe;Ext.util.Event=Ext.extend(Object,(function(){function b(e,f,g,d){f.task=new Ext.util.DelayedTask();return function(){f.task.delay(g.buffer,e,d,Ext.toArray(arguments))}}function a(e,f,g,d){return function(){var h=new Ext.util.DelayedTask();if(!f.tasks){f.tasks=[]}f.tasks.push(h);h.delay(g.delay||10,e,d,Ext.toArray(arguments))}}function c(e,f,g,d){return function(){f.ev.removeListener(f.fn,d);return e.apply(d,arguments)}}return{isEvent:true,constructor:function(e,d){this.name=d;this.observable=e;this.listeners=[]},addListener:function(f,e,d){var g=this,h;e=e||g.observable;if(!g.isListening(f,e)){h=g.createListener(f,e,d);if(g.firing){g.listeners=g.listeners.slice(0)}g.listeners.push(h)}},createListener:function(f,e,h){h=h||{};e=e||this.observable;var g={fn:f,scope:e,o:h,ev:this},d=f;if(h.delay){d=a(d,g,h,e)}if(h.buffer){d=b(d,g,h,e)}if(h.single){d=c(d,g,h,e)}g.fireFn=d;return g},findListener:function(h,g){var f=this.listeners,d=f.length,j,e;while(d--){j=f[d];if(j){e=j.scope;if(j.fn==h&&(e==g||e==this.observable)){return d}}}return -1},isListening:function(e,d){return this.findListener(e,d)!==-1},removeListener:function(g,f){var h=this,e,j,d;if((e=h.findListener(g,f))!=-1){j=h.listeners[e];if(h.firing){h.listeners=h.listeners.slice(0)}if(j.task){j.task.cancel();delete j.task}d=j.tasks&&j.tasks.length;if(d){while(d--){j.tasks[d].cancel()}delete j.tasks}h.listeners.splice(e,1);return true}return false},clearListeners:function(){var e=this.listeners,d=e.length;while(d--){this.removeListener(e[d].fn,e[d].scope)}},fire:function(){var h=this,f=h.listeners,g=f.length,e,d,j;if(g>0){h.firing=true;for(e=0;e<g;e++){j=f[e];d=arguments.length?Array.prototype.slice.call(arguments,0):[];if(j.o){d.push(j.o)}if(j&&j.fireFn.apply(j.scope||h.observable,d)===false){return(h.firing=false)}}}h.firing=false;return true}}})());Ext.util.Stateful=Ext.extend(Ext.util.Observable,{editing:false,dirty:false,persistanceProperty:"data",constructor:function(a){Ext.applyIf(this,{data:{}});this.modified={};this[this.persistanceProperty]={};Ext.util.Stateful.superclass.constructor.call(this,a)},get:function(a){return this[this.persistanceProperty][a]},set:function(e,c){var a=this.fields,d,b;if(arguments.length==1&&Ext.isObject(e)){for(b in e){if(!e.hasOwnProperty(b)){continue}this.set(b,e[b])}}else{if(a){d=a.get(e);if(d&&d.convert){c=d.convert(c,this)}}this[this.persistanceProperty][e]=c;this.dirty=true;if(!this.editing){this.afterEdit()}}},getChanges:function(){var a=this.modified,b={},c;for(c in a){if(a.hasOwnProperty(c)){b[c]=this[this.persistanceProperty][c]}}return b},isModified:function(a){return !!(this.modified&&this.modified.hasOwnProperty(a))},markDirty:function(){this.dirty=true;if(!this.modified){this.modified={}}this.fields.each(function(a){this.modified[a.name]=this[this.persistanceProperty][a.name]},this)},reject:function(a){var b=this.modified,c;for(c in b){if(!b.hasOwnProperty(c)){continue}if(typeof b[c]!="function"){this[this.persistanceProperty][c]=b[c]}}this.dirty=false;this.editing=false;delete this.modified;if(a!==true){this.afterReject()}},commit:function(a){this.dirty=false;this.editing=false;delete this.modified;if(a!==true){this.afterCommit()}},copy:function(a){return new this.constructor(Ext.apply({},this[this.persistanceProperty]),a||this.internalId)}});Ext.util.MixedCollection=function(b,a){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=b===true;if(a){this.getKey=a}Ext.util.MixedCollection.superclass.constructor.call(this)};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(b,c){if(arguments.length==1){c=arguments[0];b=this.getKey(c)}if(typeof b!="undefined"&&b!==null){var a=this.map[b];if(typeof a!="undefined"){return this.replace(b,c)}this.map[b]=c}this.length++;this.items.push(c);this.keys.push(b);this.fireEvent("add",this.length-1,c,b);return c},getKey:function(a){return a.id},replace:function(c,d){if(arguments.length==1){d=arguments[0];c=this.getKey(d)}var a=this.map[c];if(typeof c=="undefined"||c===null||typeof a=="undefined"){return this.add(c,d)}var b=this.indexOfKey(c);this.items[b]=d;this.map[c]=d;this.fireEvent("replace",c,a,d);return d},addAll:function(e){if(arguments.length>1||Ext.isArray(e)){var b=arguments.length>1?arguments:e;for(var d=0,a=b.length;d<a;d++){this.add(b[d])}}else{for(var c in e){if(!e.hasOwnProperty(c)){continue}if(this.allowFunctions||typeof e[c]!="function"){this.add(c,e[c])}}}},each:function(e,d){var b=[].concat(this.items);for(var c=0,a=b.length;c<a;c++){if(e.call(d||b[c],b[c],c,a)===false){break}}},eachKey:function(d,c){for(var b=0,a=this.keys.length;b<a;b++){d.call(c||window,this.keys[b],this.items[b],b,a)}},find:function(d,c){for(var b=0,a=this.items.length;b<a;b++){if(d.call(c||window,this.items[b],this.keys[b])){return this.items[b]}}return null},insert:function(a,b,c){if(arguments.length==2){c=arguments[1];b=this.getKey(c)}if(this.containsKey(b)){this.suspendEvents();this.removeKey(b);this.resumeEvents()}if(a>=this.length){return this.add(b,c)}this.length++;this.items.splice(a,0,c);if(typeof b!="undefined"&&b!==null){this.map[b]=c}this.keys.splice(a,0,b);this.fireEvent("add",a,c,b);return c},remove:function(a){return this.removeAt(this.indexOf(a))},removeAt:function(a){if(a<this.length&&a>=0){this.length--;var c=this.items[a];this.items.splice(a,1);var b=this.keys[a];if(typeof b!="undefined"){delete this.map[b]}this.keys.splice(a,1);this.fireEvent("remove",c,b);return c}return false},removeKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return this.items.indexOf(a)},indexOfKey:function(a){return this.keys.indexOf(a)},item:function(b){var a=this.map[b],c=a!==undefined?a:(typeof b=="number")?this.items[b]:undefined;return typeof c!="function"||this.allowFunctions?c:null},itemAt:function(a){return this.items[a]},key:function(a){return this.map[a]},contains:function(a){return this.indexOf(a)!=-1},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(j,a,h){var d,e,b=String(a).toUpperCase()=="DESC"?-1:1,g=[],k=this.keys,f=this.items;h=h||function(l,c){return l-c};for(d=0,e=f.length;d<e;d++){g[g.length]={key:k[d],value:f[d],index:d}}g.sort(function(l,c){var m=h(l[j],c[j])*b;if(m===0){m=(l.index<c.index?-1:1)}return m});for(d=0,e=g.length;d<e;d++){f[d]=g[d].value;k[d]=g[d].key}this.fireEvent("sort",this)},sort:function(c,e){var d=c;if(Ext.isString(c)){d=[new Ext.util.Sorter({property:c,direction:e||"ASC"})]}else{if(c instanceof Ext.util.Sorter){d=[c]}else{if(Ext.isObject(c)){d=[new Ext.util.Sorter(c)]}}}var b=d.length;if(b==0){return}var a=function(h,g){var f=d[0].sort(h,g),k=d.length,j;for(j=1;j<k;j++){f=f||d[j].sort.call(this,h,g)}return f};this.sortBy(a)},sortBy:function(c){var b=this.items,f=this.keys,e=b.length,a=[],d;for(d=0;d<e;d++){a[d]={key:f[d],value:b[d],index:d}}a.sort(function(h,g){var j=c(h.value,g.value);if(j===0){j=(h.index<g.index?-1:1)}return j});for(d=0;d<e;d++){b[d]=a[d].value;f[d]=a[d].key}this.fireEvent("sort",this)},reorder:function(d){this.suspendEvents();var b=this.items,c=0,f=b.length,a=[],e=[],g;for(g in d){a[d[g]]=b[g]}for(c=0;c<f;c++){if(d[c]==undefined){e.push(b[c])}}for(c=0;c<f;c++){if(a[c]==undefined){a[c]=e.shift()}}this.clear();this.addAll(a);this.resumeEvents();this.fireEvent("sort",this)},keySort:function(a,b){this._sort("key",a,b||function(d,c){var f=String(d).toUpperCase(),e=String(c).toUpperCase();return f>e?1:(f<e?-1:0)})},getRange:function(e,a){var b=this.items;if(b.length<1){return[]}e=e||0;a=Math.min(typeof a=="undefined"?this.length-1:a,this.length-1);var c,d=[];if(e<=a){for(c=e;c<=a;c++){d[d.length]=b[c]}}else{for(c=e;c>=a;c--){d[d.length]=b[c]}}return d},filter:function(d,c,f,a){var b=[];if(Ext.isString(d)){b.push(new Ext.util.Filter({property:d,value:c,anyMatch:f,caseSensitive:a}))}else{if(Ext.isArray(d)||d instanceof Ext.util.Filter){b=b.concat(d)}}var e=function(g){var m=true,n=b.length,h;for(h=0;h<n;h++){var l=b[h],k=l.filter,j=l.scope;m=m&&k.call(j,g)}return m};return this.filterBy(e)},filterBy:function(e,d){var a=new Ext.util.MixedCollection(),g=this.keys,b=this.items,f=b.length,c;a.getKey=this.getKey;for(c=0;c<f;c++){if(e.call(d||this,b[c],g[c])){a.add(g[c],b[c])}}return a},findIndex:function(c,b,e,d,a){if(Ext.isEmpty(b,false)){return -1}b=this.createValueMatcher(b,d,a);return this.findIndexBy(function(f){return f&&b.test(f[c])},null,e)},findIndexBy:function(f,e,g){var b=this.keys,d=this.items;for(var c=(g||0),a=d.length;c<a;c++){if(f.call(e||this,d[c],b[c])){return c}}return -1},createValueMatcher:function(c,e,a,b){if(!c.exec){var d=Ext.util.Format.escapeRegex;c=String(c);if(e===true){c=d(c)}else{c="^"+d(c);if(b===true){c+="$"}}c=new RegExp(c,a?"":"i")}return c},clone:function(){var e=new Ext.util.MixedCollection();var b=this.keys,d=this.items;for(var c=0,a=d.length;c<a;c++){e.add(b[c],d[c])}e.getKey=this.getKey;return e}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;Ext.AbstractManager=Ext.extend(Object,{typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.MixedCollection();this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,d){var b=a[this.typeName]||a.type||d,c=this.types[b];if(c==undefined){throw new Error(Ext.util.Format.format("The '{0}' type has not been registered with this manager",b))}return new c(a)},onAvailable:function(d,c,b){var a=this.all;a.on("add",function(e,f){if(f.id==d){c.call(b||f,f);a.un("add",c,b)}})}});Ext.util.DelayedTask=function(d,c,a){var e=this,f,b=function(){clearInterval(f);f=null;d.apply(c,a||[])};this.delay=function(h,k,j,g){e.cancel();d=k||d;c=j||c;a=g||a;f=setInterval(b,h)};this.cancel=function(){if(f){clearInterval(f);f=null}}};Ext.util.GeoLocation=Ext.extend(Ext.util.Observable,{hasGeoLocation:false,autoUpdate:true,latitude:null,longitude:null,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,speed:null,timestamp:null,enableHighAccuracy:false,timeout:Infinity,maximumAge:0,setMaximumAge:function(a){this.maximumAge=a;this.setAutoUpdate(this.autoUpdate)},setTimeout:function(a){this.timeout=a;this.setAutoUpdate(this.autoUpdate)},setEnableHighAccuracy:function(a){this.enableHighAccuracy=a;this.setAutoUpdate(this.autoUpdate)},factory:null,watchOperation:null,constructor:function(a){Ext.apply(this,a);this.coords=this;if(typeof navigator!="undefined"&&typeof navigator.geolocation!="undefined"){this.factory=navigator.geolocation}else{if(typeof google!="undefined"&&typeof google.gears!="undefined"){try{this.factory=google.gears.factory.create("beta.geolocation")}catch(c){}}}this.hasGeoLocation=this.factory!==null;this.addEvents("update","locationerror","locationupdate");Ext.util.GeoLocation.superclass.constructor.call(this);if(this.autoUpdate){var b=this;setTimeout(function(){b.setAutoUpdate(b.autoUpdate)},0)}},setAutoUpdate:function(a){if(this.watchOperation!==null){this.factory.clearWatch(this.watchOperation);this.watchOperation=null}if(!a){return true}if(!this.hasGeoLocation){this.fireEvent("locationerror",this,false,false,true,null);return false}try{this.watchOperation=this.factory.watchPosition(Ext.createDelegate(this.fireUpdate,this),Ext.createDelegate(this.fireError,this),this.parseOptions())}catch(b){this.autoUpdate=false;this.fireEvent("locationerror",this,false,false,true,b.message);return false}return true},updateLocation:function(g,a,c){var b=this;var f=function(h,e){if(e){b.fireError(e)}else{b.fireEvent("locationerror",b,false,false,true,h)}if(g){g.call(a||b,null,b)}b.fireEvent("update",false,b)};if(!this.hasGeoLocation){setTimeout(function(){f(null)},0);return}try{this.factory.getCurrentPosition(function(e){b.fireUpdate(e);if(g){g.call(a||b,b,b)}b.fireEvent("update",b,b)},function(e){f(null,e)},c?c:this.parseOptions())}catch(d){setTimeout(function(){f(d.message)},0)}},fireUpdate:function(a){this.timestamp=a.timestamp;this.latitude=a.coords.latitude;this.longitude=a.coords.longitude;this.accuracy=a.coords.accuracy;this.altitude=a.coords.altitude;this.altitudeAccuracy=a.coords.altitudeAccuracy;this.heading=typeof a.coords.heading=="undefined"?null:a.coords.heading;this.speed=typeof a.coords.speed=="undefined"?null:a.coords.speed;this.fireEvent("locationupdate",this)},fireError:function(a){this.fireEvent("locationerror",this,a.code==a.TIMEOUT,a.code==a.PERMISSION_DENIED,a.code==a.POSITION_UNAVAILABLE,a.message==undefined?null:a.message)},parseOptions:function(){var a={maximumAge:this.maximumAge,enableHighAccuracy:this.enableHighAccuracy};if(this.timeout!==Infinity){a.timeout=this.timeout}return a},getLocation:function(c,a){var b=this;if(this.latitude!==null){c.call(a||b,b,b)}else{b.updateLocation(c,a)}}});Ext.util.Region=Ext.extend(Object,{constructor:function(d,f,a,c){var e=this;e.top=d;e[1]=d;e.right=f;e.bottom=a;e.left=c;e[0]=c},contains:function(b){var a=this;return(b.left>=a.left&&b.right<=a.right&&b.top>=a.top&&b.bottom<=a.bottom)},intersect:function(g){var f=this,d=Math.max(f.top,g.top),e=Math.min(f.right,g.right),a=Math.min(f.bottom,g.bottom),c=Math.max(f.left,g.left);if(a>d&&e>c){return new Ext.util.Region(d,e,a,c)}else{return false}},union:function(g){var f=this,d=Math.min(f.top,g.top),e=Math.max(f.right,g.right),a=Math.max(f.bottom,g.bottom),c=Math.min(f.left,g.left);return new Ext.util.Region(d,e,a,c)},constrainTo:function(b){var a=this,c=Ext.util.Numbers.constrain;a.top=c(a.top,b.top,b.bottom);a.bottom=c(a.bottom,b.top,b.bottom);a.left=c(a.left,b.left,b.right);a.right=c(a.right,b.left,b.right);return a},adjust:function(d,f,a,c){var e=this;e.top+=d;e.left+=c;e.right+=f;e.bottom+=a;return e}});Ext.util.Region.getRegion=function(a){return Ext.fly(a).getPageBox(true)};Ext.Template=function(d){var e=this,b=arguments,c=[];if(Ext.isArray(d)){d=d.join("")}else{if(b.length>1){Ext.each(b,function(a){if(Ext.isObject(a)){Ext.apply(e,a)}else{c.push(a)}});d=c.join("")}}e.html=d;if(e.compiled){e.compile()}};Ext.Template.prototype={isTemplate:true,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,argsRe:/^\s*['"](.*)["']\s*$/,compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,disableFormats:false,applyTemplate:function(h){var e=this,a=e.disableFormats!==true,g=Ext.util.Format,c=e,j,b,d;if(e.compiled){return e.compiled(h)}function f(k,n,o,l){if(o&&a){if(o.substr(0,5)=="this."){return c.call(o.substr(5),h[n],h)}else{if(l){j=e.argsRe;l=l.split(",");for(b=0,d=l.length;b<d;b++){l[b]=l[b].replace(j,"$1")}l=[h[n]].concat(l)}else{l=[h[n]]}return g[o].apply(g,l)}}else{return h[n]!==undefined?h[n]:""}}return e.html.replace(e.re,f)},set:function(a,c){var b=this;b.html=a;b.compiled=null;return c?b.compile():b},compile:function(){var me=this,fm=Ext.util.Format,useF=me.disableFormats!==true,body;function fn(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"',"+format+"values['"+name+"']"+args+") ,'"}body=["this.compiled = function(values){ return ['"];body.push(me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn));body.push("'].join('');};");body=body.join("");eval(body);return me},insertFirst:function(b,a,c){return this.doInsert("afterBegin",b,a,c)},insertBefore:function(b,a,c){return this.doInsert("beforeBegin",b,a,c)},insertAfter:function(b,a,c){return this.doInsert("afterEnd",b,a,c)},append:function(b,a,c){return this.doInsert("beforeEnd",b,a,c)},doInsert:function(c,e,b,a){e=Ext.getDom(e);var d=Ext.DomHelper.insertHtml(c,e,this.applyTemplate(b));return a?Ext.get(d,true):d},overwrite:function(b,a,c){b=Ext.getDom(b);b.innerHTML=this.applyTemplate(a);return c?Ext.get(b.firstChild,true):b.firstChild},call:function(c,b,a){return this[c](b,a)}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(b,a){b=Ext.getDom(b);return new Ext.Template(b.value||b.innerHTML,a||"")};Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var x=this,h=x.html,p=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,d=/^<tpl\b[^>]*?for="(.*?)"/,u=/^<tpl\b[^>]*?if="(.*?)"/,w=/^<tpl\b[^>]*?exec="(.*?)"/,o=0,j=[],n="values",v="parent",k="xindex",l="xcount",e="return ",c="with(values){ ",q,b,a,z,f,g,r,y,t;h=["<tpl>",h,"</tpl>"].join("");while((q=h.match(p))){b=q[0].match(d);a=q[0].match(u);z=q[0].match(w);f=null;g=null;r=null;y=b&&b[1]?b[1]:"";if(a){f=a&&a[1]?a[1]:null;if(f){g=new Function(n,v,k,l,c+"try{"+e+(Ext.util.Format.htmlDecode(f))+";}catch(e){return;}}")}}if(z){f=z&&z[1]?z[1]:null;if(f){r=new Function(n,v,k,l,c+(Ext.util.Format.htmlDecode(f))+"; }")}}if(y){switch(y){case".":y=new Function(n,v,c+e+n+"; }");break;case"..":y=new Function(n,v,c+e+v+"; }");break;default:y=new Function(n,v,c+e+y+"; }")}}j.push({id:o,target:y,exec:r,test:g,body:q[1]||""});h=h.replace(q[0],"{xtpl"+o+"}");++o}for(t=j.length-1;t>=0;--t){x.compileTpl(j[t])}x.master=j[j.length-1];x.tpls=j};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(a,j,h,d,c){var g=this,f,l=g.tpls[a],k,b=[],e;if((l.test&&!l.test.call(g,j,h,d,c))||(l.exec&&l.exec.call(g,j,h,d,c))){return""}k=l.target?l.target.call(g,j,h):j;f=k.length;h=l.target?j:h;if(l.target&&Ext.isArray(k)){for(e=0,f=k.length;e<f;e++){b[b.length]=l.compiled.call(g,k[e],h,e+1,f)}return b.join("")}return l.compiled.call(g,k,h,d,c)},compileTpl:function(tpl){var fm=Ext.util.Format,useF=this.disableFormats!==true,body;function fn(m,name,format,args,math){var v;if(name.substr(0,4)=="xtpl"){return"',this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount),'"}if(name=="."){v='typeof values == "string" ? values : ""'}else{if(name=="#"){v="xindex"}else{if(name.indexOf(".")!=-1){v="values."+name}else{v="values['"+name+"']"}}}if(math){v="("+v+math+")"}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="("+v+" === undefined ? '' : "}return"',"+format+v+args+"),'"}function codeFn(m,code){return"',("+code.replace(/\\'/g,"'")+"),'"}body=["tpl.compiled = function(values, parent, xindex, xcount){return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("");eval(body);return this},applyTemplate:function(a){return this.master.compiled.call(this,a,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(b,a){b=Ext.getDom(b);return new Ext.XTemplate(b.value||b.innerHTML,a||{})};Ext.util.Sorter=Ext.extend(Object,{direction:"ASC",constructor:function(a){Ext.apply(this,a);if(this.property==undefined&&this.sorterFn==undefined){throw"A Sorter requires either a property or a sorter function"}this.sort=this.createSortFunction(this.sorterFn||this.defaultSorterFn)},createSortFunction:function(b){var c=this,d=c.property,e=c.direction,a=e.toUpperCase()=="DESC"?-1:1;return function(g,f){return a*b.call(c,g,f)}},defaultSorterFn:function(b,a){var d=this.getRoot(b)[this.property],c=this.getRoot(a)[this.property];return d>c?1:(d<c?-1:0)},getRoot:function(a){return this.root==undefined?a:a[this.root]}});Ext.util.Filter=Ext.extend(Object,{anyMatch:false,exactMatch:false,caseSensitive:false,constructor:function(a){Ext.apply(this,a);if(this.filter==undefined){if(this.property==undefined||this.value==undefined){throw"A filter requires either a property or a filter function to be set"}else{this.filter=this.createFilterFn()}}},createFilterFn:function(){var a=this,c=a.createValueMatcher(),b=a.property;return function(d){return c.test(a.getRoot.call(a,d)[b])}},getRoot:function(a){return this.root==undefined?a:a[this.root]},createValueMatcher:function(){var d=this,e=d.value,f=d.anyMatch,c=d.exactMatch,a=d.caseSensitive,b=Ext.util.Format.escapeRegex;if(!e.exec){e=String(e);if(f===true){e=b(e)}else{e="^"+b(e);if(c===true){e+="$"}}e=new RegExp(e,a?"":"i")}return e}});Ext.util.Functions={createInterceptor:function(c,b,a){var d=c;if(!Ext.isFunction(b)){return c}else{return function(){var f=this,e=arguments;b.target=f;b.method=c;return(b.apply(a||f||window,e)!==false)?c.apply(f||window,e):null}}},createDelegate:function(c,d,b,a){if(!Ext.isFunction(c)){return c}return function(){var f=b||arguments;if(a===true){f=Array.prototype.slice.call(arguments,0);f=f.concat(b)}else{if(Ext.isNumber(a)){f=Array.prototype.slice.call(arguments,0);var e=[a,0].concat(b);Array.prototype.splice.apply(f,e)}}return c.apply(d||window,f)}},defer:function(d,c,e,b,a){d=Ext.util.Functions.createDelegate(d,e,b,a);if(c>0){return setTimeout(d,c)}d();return 0},createSequence:function(c,b,a){if(!Ext.isFunction(b)){return c}else{return function(){var d=c.apply(this||window,arguments);b.apply(a||this||window,arguments);return d}}}};Ext.defer=Ext.util.Functions.defer;Ext.createInterceptor=Ext.util.Functions.createInterceptor;Ext.createSequence=Ext.util.Functions.createSequence;Ext.createDelegate=Ext.util.Functions.createDelegate;Ext.util.Date={getElapsed:function(b,a){return Math.abs(b-(a||new Date))}};Ext.util.Numbers={constrain:function(c,b,a){c=parseFloat(c);if(!isNaN(b)){c=Math.max(c,b)}if(!isNaN(a)){c=Math.min(c,a)}return c}};Ext.util.Format={defaultDateFormat:"m/d/Y",escapeRe:/('|\\)/g,trimRe:/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,formatRe:/\{(\d+)\}/g,escapeRegexRe:/([-.*+?^${}()|[\]\/\\])/g,ellipsis:function(c,a,d){if(c&&c.length>a){if(d){var e=c.substr(0,a-2),b=Math.max(e.lastIndexOf(" "),e.lastIndexOf("."),e.lastIndexOf("!"),e.lastIndexOf("?"));if(b==-1||b<(a-15)){return c.substr(0,a-3)+"..."}else{return e.substr(0,b)+"..."}}else{return c.substr(0,a-3)+"..."}}return c},escapeRegex:function(a){return a.replace(Ext.util.Format.escapeRegexRe,"\\$1")},escape:function(a){return a.replace(Ext.util.Format.escapeRe,"\\$1")},toggle:function(b,c,a){return b==c?a:c},trim:function(a){return a.replace(Ext.util.Format.trimRe,"")},leftPad:function(d,b,c){var a=String(d);c=c||" ";while(a.length<b){a=c+a}return a},format:function(b){var a=Ext.toArray(arguments,1);return b.replace(Ext.util.Format.formatRe,function(c,d){return a[d]})},htmlEncode:function(a){return !a?a:String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(a){return !a?a:String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},date:function(a,b){if(!a){return""}if(!Ext.isDate(a)){a=new Date(Date.parse(a))}return a.dateFormat(b||Ext.util.Format.defaultDateFormat)}};Ext.applyIf(Array.prototype,{indexOf:function(b,c){var a=this.length;c=c||0;c+=(c<0)?a:0;for(;c<a;++c){if(this[c]===b){return c}}return -1},remove:function(b){var a=this.indexOf(b);if(a!=-1){this.splice(a,1)}return this},contains:function(a){return this.indexOf(a)!==-1}});Ext.ComponentMgr=new Ext.AbstractManager({typeName:"xtype",create:function(b,d){if(b.isComponent){return b}else{var c=b.xtype||d,a=this.types[c];if(!a){throw"Attempting to create a component with an xtype that has not been registered: "+c}return new a(b)}return b.render?b:new (b)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b;a.prototype[this.typeName]=b}});Ext.reg=function(){return Ext.ComponentMgr.registerType.apply(Ext.ComponentMgr,arguments)};Ext.create=function(){return Ext.ComponentMgr.create.apply(Ext.ComponentMgr,arguments)};Ext.ComponentQuery={modeRe:/^(\s?[>]\s?|\s|$)/,tokenRe:/^(#)?([\w-\*]+)/,matchers:[{re:/^\.([\w-]+)/,method:"getByXType"},{re:/^(?:[\[\{](?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,method:"getByAttribute"},{re:/^#([\w-]+)/,method:"getById"}],cache:{},query:function(a,j){var k=a.split(","),d=k.length,b,f,c=[],l=[],h={},e,g;for(b=0;b<d;b++){a=Ext.util.Format.trim(k[b]);f=this.cache[a];if(!f){this.cache[a]=f=this.parse(a)}c=c.concat(f.execute(j))}if(d>1){e=c.length;for(b=0;b<e;b++){g=c[b];if(!h[g.id]){l.push(g);h[g.id]=true}}c=l}return c},parse:function(b){var c=this.matchers,a=[],h=c.length,j,d,k,l,g,e,f;while(b&&j!=b){j=b;d=b.match(this.tokenRe);if(d){if(d[1]=="#"){a.push({method:"getById",args:[Ext.util.Format.trim(d[2])]})}else{a.push({method:"getByXType",args:[Ext.util.Format.trim(d[2])]})}b=b.replace(d[0],"")}while(!(k=b.match(this.modeRe))){for(e=0;e<h;e++){f=c[e];l=b.match(f.re);if(l){a.push({method:f.method,args:l.splice(1)});b=b.replace(l[0],"")}}}if(k[1]){a.push({mode:k[1]});b=b.replace(k[1],"")}}return new Ext.ComponentQuery.Query({operations:a})}};Ext.ComponentQuery.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(b){var d=this.operations,f=d.length,c,e,a;if(!b){a=Ext.ComponentMgr.all.items.slice()}for(e=0;e<f;e++){c=d[e];if(c.mode){a=this.getItems(a||[b],c.mode)}else{a=this.filterItems(a||this.getItems([b]),c)}if(e==f-1){return a}}return[]},filterItems:function(b,a){var h=[],f=b.length,d,e,c,g;for(d=0;d<f;d++){e=b[d];c=[e].concat(a.args);g=this[a.method].apply(this,c);if(g){h.push(e)}}return h},getItems:function(b,f){var a=[],e=b.length,d,c;f=f?Ext.util.Format.trim(f):"";for(c=0;c<e;c++){d=b[c];if(d.getRefItems){a=a.concat(d.getRefItems(f!=">"))}}return a},getByXType:function(a,b){return b==="*"||a.isXType(b)},getByAttribute:function(b,d,a,c){return(c===undefined)?!!b[d]:(b[d]==c)},getById:function(a,b){return a.getItemId()==b}});Ext.PluginMgr=new Ext.AbstractManager({typeName:"ptype",create:function(b,c){var a=this.types[b.ptype||c];if(a.init){return a}else{return new a(b)}},findByType:function(c,f){var e=[],b=this.types;for(var a in b){if(!b.hasOwnProperty(a)){continue}var d=b[a];if(d.type==c&&(f===true&&d.isDefault)){e.push(d)}}return e}});Ext.preg=function(){return Ext.PluginMgr.registerType.apply(Ext.PluginMgr,arguments)};Ext.EventManager={optionsRe:/^(?:capture|scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|horizontal|vertical|holdThreshold|doubleTapThreshold|cancelThreshold|singleTapThreshold)$/,touchRe:/^(?:pinch|pinchstart|pinchend|tap|singletap|doubletap|swipe|swipeleft|swiperight|scroll|scrollstart|scrollend|touchdown|touchstart|touchmove|touchend|taphold|tapstart|tapcancel)$/i,addListener:function(b,a,e,d,g){if(Ext.isObject(a)){this.handleListenerConfig(b,a);return}var f=Ext.getDom(b);if(!f){throw'Error listening for "'+a+'". Element "'+b+"\" doesn't exist."}if(!e){throw'Error listening for "'+a+'". No handler function specified'}var h=this.touchRe.test(a);var c=this.createListenerWrap(f,a,e,d,g,h);this.getEventListenerCache(f,a).push({fn:e,wrap:c,scope:d});if(h){Ext.gesture.Manager.addEventListener(f,a,c,g)}else{g=g||{};f.addEventListener(a,c,g.capture||false)}},removeListener:function(g,k,l,m){if(Ext.isObject(k)){this.handleListenerConfig(g,k,true);return}var e=Ext.getDom(g),a=this.getEventListenerCache(e,k),h=a.length,f,c,b,d;while(h--){c=a[h];if(c&&(!l||c.fn==l)&&(!m||c.scope===m)){b=c.wrap;if(b.task){clearTimeout(b.task);delete b.task}f=b.tasks&&b.tasks.length;if(f){while(f--){clearTimeout(b.tasks[f])}delete b.tasks}if(this.touchRe.test(k)){Ext.gesture.Manager.removeEventListener(e,k,b)}else{e.removeEventListener(k,b,false)}a.splice(h,1)}}},removeAll:function(b){var d=Ext.getDom(b),a=this.getElementEventCache(d),c;for(c in a){if(!a.hasOwnProperty(c)){continue}this.removeListener(c)}Ext.cache[d.id].events={}},purgeElement:function(d,e,b){var f=Ext.getDom(d),c=0,a;if(b){this.removeListener(f,b)}else{this.removeAll(f)}if(e&&f&&f.childNodes){for(a=d.childNodes.length;c<a;c++){this.purgeElement(d.childNodes[c],e,b)}}},handleListenerConfig:function(d,b,a){var c,e;for(c in b){if(!b.hasOwnProperty(c)){continue}if(!this.optionsRe.test(c)){e=b[c];if(Ext.isFunction(e)){this[(a?"remove":"add")+"Listener"](d,c,e,b.scope,b)}else{this[(a?"remove":"add")+"Listener"](d,c,b.fn,b.scope,b)}}}},getId:function(a){var b=false,c;a=Ext.getDom(a);if(a===document||a===window){b=true}c=Ext.id(a);if(!Ext.cache[c]){Ext.Element.addToCache(new Ext.Element(a),c);if(b){Ext.cache[c].skipGarbageCollection=true}}return c},createListenerWrap:function(h,a,c,b,g,j){g=!Ext.isObject(g)?{}:g;var d=["if(!window.Ext) {return;}"];if(j){d.push("e = new Ext.TouchEventObjectImpl(e, args);")}else{if(g.buffer||g.delay){d.push("e = new Ext.EventObjectImpl(e);")}else{d.push("e = Ext.EventObject.setEvent(e);")}}if(g.delegate){d.push('var t = e.getTarget("'+g.delegate+'", this);');d.push("if(!t) {return;}")}else{d.push("var t = e.target;")}if(g.target){d.push("if(e.target !== o.target) {return;}")}if(g.stopEvent){d.push("e.stopEvent();")}else{if(g.preventDefault){d.push("e.preventDefault();")}if(g.stopPropagation){d.push("e.stopPropagation();")}}if(g.normalized===false){d.push("e = e.browserEvent;")}if(g.buffer){d.push("(wrap.task && clearTimeout(wrap.task));");d.push("wrap.task = setTimeout(function(){")}if(g.delay){d.push("wrap.tasks = wrap.tasks || [];");d.push("wrap.tasks.push(setTimeout(function(){")}d.push("fn.call(scope || dom, e, t, o);");if(g.single){d.push("Ext.EventManager.removeListener(dom, ename, fn, scope);")}if(g.delay){d.push("}, "+g.delay+"));")}if(g.buffer){d.push("}, "+g.buffer+");")}var e=new Function("e","o","fn","scope","ename","dom","wrap","args",d.join("\n"));return function(k,f){e.call(h,k,g,c,b,a,h,arguments.callee,f)}},getEventListenerCache:function(c,a){var b=this.getElementEventCache(c);return b[a]||(b[a]=[])},getElementEventCache:function(b){var a=Ext.cache[this.getId(b)];return a.events||(a.events={})},onDocumentReady:function(d,c,b){var f=this,g=f.readyEvent,e;if(Ext.isReady){g||(g=new Ext.util.Event());g.addListener(d,c,b);g.fire();g.listeners=[]}else{if(!g){g=f.readyEvent=new Ext.util.Event();var a=function(){Ext.isReady=true;window.removeEventListener("load",arguments.callee,false);if(e){clearInterval(e)}setTimeout(function(){Ext.supports.init();Ext.gesture.Manager.init();Ext.orientation=Ext.Element.getOrientation();g.fire({orientation:Ext.orientation,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()});g.listeners=[]},50)};e=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(e);e=null;a()}},10);window.addEventListener("load",a,false)}b=b||{};b.delay=b.delay||1;g.addListener(d,c,b)}},onWindowResize:function(c,b,a){var e=this,f=e.resizeEvent;if(!f){e.resizeEvent=f=new Ext.util.Event();var d=function(){f.fire(Ext.Element.getViewportWidth(),Ext.Element.getViewportHeight())};this.addListener(window,"resize",d,this)}f.addListener(c,b,a)},onOrientationChange:function(c,b,a){var e=this,d=e.orientationEvent;if(!d){e.orientationEvent=d=new Ext.util.Event();var f=function(g){Ext.orientation=Ext.Element.getOrientation();if(Ext.stretchEl){Ext.stretchEl.setSize(window.innerWidth,window.innerHeight)}if(Ext.is.Desktop){d.fire(Ext.orientation,window.innerWidth,window.innerHeight)}else{setTimeout(function(){Ext.hideAddressBar(function(){d.fire(Ext.orientation,window.innerWidth,window.innerHeight)})},5)}};if(Ext.supports.OrientationChange){this.addListener(window,"orientationchange",f,this)}else{this.addListener(window,"resize",f,this,{buffer:200})}}d.addListener(c,b,a)},unOrientationChange:function(c,b,a){var e=this,d=e.orientationEvent;if(d){d.removeListener(c,b,a)}}};Ext.EventManager.on=Ext.EventManager.addListener;Ext.EventManager.un=Ext.EventManager.removeListener;Ext.onReady=Ext.EventManager.onDocumentReady;Ext.EventObjectImpl=Ext.extend(Object,{constructor:function(a){if(a){this.setEvent(a.browserEvent||a)}},setEvent:function(c){var b=this;if(c==b||(c&&c.browserEvent)){return c}b.browserEvent=c;if(c){b.type=c.type;var a=c.target;b.target=a&&a.nodeType==3?a.parentNode:a;b.xy=[c.pageX,c.pageY];b.timestamp=c.timeStamp}else{b.target=null;b.xy=[0,0]}return b},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){if(this.browserEvent){this.browserEvent.preventDefault()}},stopPropagation:function(){if(this.browserEvent){this.browserEvent.stopPropagation()}},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(b,c,a){return b?Ext.fly(this.target).findParent(b,c,a):(a?Ext.get(this.target):this.target)},getTime:function(){return this.timestamp}});Ext.EventObject=new Ext.EventObjectImpl();Ext.is={init:function(){var b=this.platforms,d=b.length,c,a;for(c=0;c<d;c++){a=b[c];this[a.identity]=a.regex.test(a.string)}this.Desktop=this.Mac||this.Windows||(this.Linux&&!this.Android);this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod},platforms:[{string:navigator.platform,regex:/iPhone/i,identity:"iPhone"},{string:navigator.platform,regex:/iPod/i,identity:"iPod"},{string:navigator.userAgent,regex:/iPad/i,identity:"iPad"},{string:navigator.userAgent,regex:/Blackberry/i,identity:"Blackberry"},{string:navigator.userAgent,regex:/Android/i,identity:"Android"},{string:navigator.platform,regex:/Mac/i,identity:"Mac"},{string:navigator.platform,regex:/Win/i,identity:"Windows"},{string:navigator.platform,regex:/Linux/i,identity:"Linux"}]};Ext.is.init();Ext.supports={init:function(){var d=document,f=d.createElement("div"),b=this.tests,c=b.length,a,e;f.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="float:left; background-color:transparent;"></div>'].join("");d.body.appendChild(f);for(a=0;a<c;a++){e=b[a];this[e.identity]=e.fn.call(this,d,f)}d.body.removeChild(f)},OrientationChange:!Ext.is.Desktop&&(window.orientation!==undefined),tests:[{identity:"Transitions",fn:function(f,h){var e=["webkit","Moz","o","ms","khtml"],g="TransitionEnd",a=[e[0]+g,"transitionend",e[2]+g,e[3]+g,e[4]+g],d=e.length,c=0,b=false;h=Ext.get(h);for(;c<d;c++){if(h.getStyle(e[c]+"TransitionProperty")){Ext.supports.CSS3Prefix=e[c];Ext.supports.CSS3TransitionEnd=a[c];b=true;break}}return b}},{identity:"Touch",fn:function(a,b){return(!Ext.is.Desktop&&("ontouchstart" in b))}},{identity:"RightMargin",fn:function(b,c,a){a=b.defaultView;return !(a&&a.getComputedStyle(c.firstChild.firstChild,null).marginRight!="0px")}},{identity:"TransparentColor",fn:function(b,c,a){a=b.defaultView;return !(a&&a.getComputedStyle(c.lastChild,null).backgroundColor!="transparent")}},{identity:"SVG",fn:function(a){return !!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(a){return !!a.createElement("canvas").getContext}},{identity:"VML",fn:function(a){var b=a.createElement("div");b.innerHTML="<!--[if vml]><br><br><![endif]-->";return(b.childNodes.length==2)}},{identity:"Float",fn:function(a,b){return !!b.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(a){return !!a.createElement("audio").canPlayType}}]};Ext.data.Batch=Ext.extend(Ext.util.Observable,{autoStart:false,current:-1,total:0,running:false,complete:false,exception:false,pauseOnException:true,constructor:function(a){this.addEvents("complete","exception","operation-complete");Ext.data.Batch.superclass.constructor.call(this,a);this.operations=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a)},start:function(){this.exception=false;this.running=true;this.runNextOperation()},runNextOperation:function(){this.runOperation(this.current+1)},pause:function(){this.running=false},runOperation:function(d){var c=this.operations,b=c[d];if(b==undefined){this.running=false;this.complete=true;this.fireEvent("complete",this,c[c.length-1])}else{this.current=d;var a=function(e){var f=e.hasException();if(f){this.fireEvent("exception",this,e)}else{this.fireEvent("operation-complete",this,e)}if(f&&this.pauseOnException){this.pause()}else{e.markCompleted();this.runNextOperation()}};b.markStarted();this.proxy[b.action](b,a,this)}}});Ext.data.Model=Ext.extend(Ext.util.Stateful,{evented:false,isModel:true,phantom:false,idProperty:"id",defaultProxyType:"ajax",constructor:function(e,g){e=e||{};if(this.evented){this.addEvents()}this.internalId=(g||g===0)?g:Ext.data.Model.id(this);Ext.data.Model.superclass.constructor.apply(this);var a=this.fields.items,d=a.length,f,b,c;for(c=0;c<d;c++){f=a[c];b=f.name;if(e[b]==undefined){e[b]=f.defaultValue}}this.set(e);if(this.getId()){this.phantom=false}if(typeof this.init=="function"){this.init()}},validate:function(){var j=new Ext.data.Errors(),c=this.validations,e=Ext.data.validations,b,d,h,a,g,f;if(c){b=c.length;for(f=0;f<b;f++){d=c[f];h=d.field;g=d.type;a=e[g](d,this.get(h));if(!a){j.add({field:h,message:d.message||e[g+"Message"]})}}}return j},getProxy:function(){return this.constructor.proxy},save:function(j){var b=this.phantom?"create":"update";j=j||{};Ext.apply(j,{records:[this],action:b});var c=new Ext.data.Operation(j),d=j.success,a=j.failure,f=j.callback,h=j.scope,e;var g=function(k){e=k.getRecords()[0];if(k.wasSuccessful()){if(typeof d=="function"){d.call(h,e,k)}}else{if(typeof a=="function"){a.call(h,e,k)}}if(typeof f=="function"){f.call(h,e,k)}};this.getProxy()[b](c,g,this)},getId:function(){return this.get(this.idProperty)},setId:function(a){this.set(this.idProperty,a)},join:function(a){this.store=a},unjoin:function(a){delete this.store},afterEdit:function(){this.callStore("afterEdit")},afterReject:function(){this.callStore("afterReject")},afterCommit:function(){this.callStore("afterCommit")},callStore:function(b){var a=this.store;if(a!=undefined&&typeof a[b]=="function"){a[b](this)}}});Ext.apply(Ext.data.Model,{setProxy:function(a){a=Ext.data.ProxyMgr.create(a);a.setModel(this);this.proxy=a;return a},load:function(a,c){c=Ext.applyIf(c||{},{action:"read",id:a});var d=new Ext.data.Operation(c),g=c.callback,e=c.success,b=c.failure,j=c.scope,f,h;h=function(k){f=k.getRecords()[0];if(k.wasSuccessful()){if(typeof e=="function"){e.call(j,f,k)}}else{if(typeof b=="function"){b.call(j,f,k)}}if(typeof g=="function"){g.call(j,f,k)}};this.proxy.read(d,h,this)}});Ext.data.Model.id=function(a){a.phantom=true;return[Ext.data.Model.PREFIX,"-",Ext.data.Model.AUTO_ID++].join("")};Ext.ns("Ext.data.Record");Ext.data.Record.id=Ext.data.Model.id;Ext.data.Model.PREFIX="ext-record";Ext.data.Model.AUTO_ID=1;Ext.data.Model.EDIT="edit";Ext.data.Model.REJECT="reject";Ext.data.Model.COMMIT="commit";Ext.data.Association=Ext.extend(Object,{primaryKey:"id",constructor:function(b){Ext.apply(this,b);var c=Ext.ModelMgr.types,d=b.ownerModel,f=b.associatedModel,e=c[d],g=c[f],a;if(e==undefined){throw ("The configured ownerModel was not valid (you tried "+d+")")}if(g==undefined){throw ("The configured associatedModel was not valid (you tried "+f+")")}this.ownerModel=e;this.associatedModel=g;Ext.applyIf(this,{ownerName:d,associatedName:f})}});Ext.data.HasManyAssociation=Ext.extend(Ext.data.Association,{constructor:function(c){Ext.data.HasManyAssociation.superclass.constructor.apply(this,arguments);var a=this.ownerModel.prototype,b=this.name;Ext.applyIf(this,{foreignKey:this.ownerName.toLowerCase()+"_id"});a[b]=this.createStore()},createStore:function(){var e=this.associatedModel,b=this.name+"Store",c=this.foreignKey,a=this.primaryKey,d=this.storeConfig||{};return function(){var j=this,g,h,f={};if(j[b]==undefined){h={property:c,value:j.get(a),exactMatch:true};f[c]=j.get(a);g=Ext.apply({},d,{model:e,filters:[h],remoteFilter:false,modelDefaults:f});j[b]=new Ext.data.Store(g)}return j[b]}}});Ext.data.BelongsToAssociation=Ext.extend(Ext.data.Association,{constructor:function(c){Ext.data.BelongsToAssociation.superclass.constructor.apply(this,arguments);var e=this,a=e.ownerModel.prototype,f=e.associatedName,d=e.getterName||"get"+f,b=e.setterName||"set"+f;Ext.applyIf(e,{name:f,foreignKey:f.toLowerCase()+"_id"});a[d]=e.createGetter();a[b]=e.createSetter()},createSetter:function(){var c=this,d=c.ownerModel,e=c.associatedModel,b=c.foreignKey,a=c.primaryKey;return function(h,f,g){this.set(b,h);if(typeof f=="function"){f={callback:f,scope:g||this}}if(Ext.isObject(f)){return this.save(f)}}},createGetter:function(){var d=this,f=d.ownerModel,e=d.associatedName,g=d.associatedModel,c=d.foreignKey,b=d.primaryKey,a=d.name+"BelongsToInstance";return function(k,l){k=k||{};var m=this.get(c),h,j;if(this[a]==undefined){h=Ext.ModelMgr.create({},e);h.set(b,m);if(typeof k=="function"){k={callback:k,scope:l||this}}g.load(m,k)}else{h=this[a];if(typeof k=="function"){k.call(l||this,h)}if(k.success){k.success.call(l||this,h)}if(k.callback){k.callback.call(l||this,h)}return h}}}});Ext.data.PolymorphicAssociation=Ext.extend(Ext.data.Association,{constructor:function(c){Ext.data.PolymorphicAssociation.superclass.constructor.call(this,c);var a=this.ownerModel.prototype,b=this.name;Ext.applyIf(this,{associationIdField:this.ownerName.toLowerCase()+"_id"});a[b]=this.createStore()},createStore:function(){var b=this,f=this.ownerName,d=this.name+"Store",g=this.associatedModel,c=this.primaryKey,a="associated_id",e="associated_model";return function(){var l=this,h={},j,k;if(l[d]==undefined){k=[{property:a,value:l.get(c),exactMatch:true},{property:e,value:f,exactMatch:true}];h[a]=l.get(c);h[e]=f;j=Ext.apply({},b.storeConfig||{},{model:g,filters:k,remoteFilter:false,modelDefaults:h});l[d]=new Ext.data.Store(j)}return l[d]}}});Ext.data.Field=Ext.extend(Object,{constructor:function(b){if(Ext.isString(b)){b={name:b}}Ext.apply(this,b);var d=Ext.data.Types,a=this.sortType,c;if(this.type){if(Ext.isString(this.type)){this.type=d[this.type.toUpperCase()]||d.AUTO}}else{this.type=d.AUTO}if(Ext.isString(a)){this.sortType=Ext.data.SortTypes[a]}else{if(Ext.isEmpty(a)){this.sortType=this.type.sortType}}if(!this.convert){this.convert=this.type.convert}},dateFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true});Ext.data.SortTypes={none:function(a){return a},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}};Ext.data.Types=new function(){var a=Ext.data.SortTypes;Ext.apply(this,{stripRe:/[\$,%]/g,AUTO:{convert:function(b){return b},sortType:a.none,type:"auto"},STRING:{convert:function(b){return(b===undefined||b===null)?"":String(b)},sortType:a.asUCString,type:"string"},INT:{convert:function(b){return b!==undefined&&b!==null&&b!==""?parseInt(String(b).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:a.none,type:"int"},FLOAT:{convert:function(b){return b!==undefined&&b!==null&&b!==""?parseFloat(String(b).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:a.none,type:"float"},BOOL:{convert:function(b){return b===true||b==="true"||b==1},sortType:a.none,type:"bool"},DATE:{convert:function(c){var d=this.dateFormat;if(!c){return null}if(Ext.isDate(c)){return c}if(d){if(d=="timestamp"){return new Date(c*1000)}if(d=="time"){return new Date(parseInt(c,10))}return Date.parseDate(c,d)}var b=Date.parse(c);return b?new Date(b):null},sortType:a.asDate,type:"date"}});Ext.apply(this,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})};Ext.ModelMgr=new Ext.AbstractManager({typeName:"mtype",defaultProxyType:"ajax",associationStack:[],registerType:function(s,r){var e=Ext.PluginMgr,l=e.findByType("model",true),k=r.fields||[],p=r.associations||[],o=r.belongsTo,h=r.hasMany,q=r.extend,j=r.plugins||[],b,c,d,n,f,a,g,m;if(o){if(!Ext.isArray(o)){o=[o]}for(n=0;n<o.length;n++){b=o[n];if(!Ext.isObject(b)){b={model:b}}Ext.apply(b,{type:"belongsTo"});p.push(b)}delete r.belongsTo}if(h){if(!Ext.isArray(h)){h=[h]}for(n=0;n<h.length;n++){b=h[n];if(!Ext.isObject(b)){b={model:b}}Ext.apply(b,{type:"hasMany"});p.push(b)}delete r.hasMany}if(q){f=this.types[q];a=f.prototype;g=a.validations;m=f.proxy;k=a.fields.items.concat(k);p=a.associations.items.concat(p);r.validations=g?g.concat(r.validations):r.validations}else{f=Ext.data.Model;m=r.proxy}c=Ext.extend(f,r);for(n=0,d=j.length;n<d;n++){l.push(e.create(j[n]))}this.types[s]=c;Ext.override(c,{plugins:l,fields:this.createFields(k),associations:this.createAssociations(p,s)});c.modelName=s;Ext.data.Model.setProxy.call(c,m||this.defaultProxyType);c.getProxy=c.prototype.getProxy;c.load=function(){Ext.data.Model.load.apply(this,arguments)};for(n=0,d=l.length;n<d;n++){l[n].bootstrap(c,r)}c.defined=true;this.onModelDefined(c);return c},onModelDefined:function(c){var a=this.associationStack,f=a.length,e=[],b,d;for(d=0;d<f;d++){b=a[d];if(b.associatedModel==c.modelName){e.push(b)}}f=e.length;for(d=0;d<f;d++){this.addAssociation(e[d],this.types[e[d].ownerModel].prototype.associations);a.remove(e[d])}},createAssociations:function(e,b){var f=e.length,d,c,a;c=new Ext.util.MixedCollection(false,function(g){return g.name});for(d=0;d<f;d++){a=e[d];Ext.apply(a,{ownerModel:b,associatedModel:a.model});if(this.types[a.model]==undefined){this.associationStack.push(a)}else{this.addAssociation(a,c)}}return c},addAssociation:function(a,b){var c=a.type;if(c=="belongsTo"){b.add(new Ext.data.BelongsToAssociation(a))}if(c=="hasMany"){b.add(new Ext.data.HasManyAssociation(a))}if(c=="polymorphic"){b.add(new Ext.data.PolymorphicAssociation(a))}},createFields:function(a){var d=a.length,c,b;b=new Ext.util.MixedCollection(false,function(e){return e.name});for(c=0;c<d;c++){b.add(new Ext.data.Field(a[c]))}return b},getModel:function(b){var a=b;if(typeof a=="string"){a=this.types[a]}return a},create:function(c,b){var a=typeof b=="function"?b:this.types[b||c.name];return new a(c)}});Ext.regModel=function(){return Ext.ModelMgr.registerType.apply(Ext.ModelMgr,arguments)};Ext.data.Operation=Ext.extend(Object,{synchronous:true,action:undefined,filters:undefined,sorters:undefined,group:undefined,start:undefined,limit:undefined,batch:undefined,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,constructor:function(a){Ext.apply(this,a||{})},markStarted:function(){this.started=true;this.running=true},markCompleted:function(){this.complete=true;this.running=false},markSuccessful:function(){this.success=true},markException:function(a){this.exception=true;this.success=false;this.running=false;this.error=a},hasException:function(){return this.exception===true},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return(a==undefined?this.records:a.records)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},setBatch:function(a){this.batch=a},allowWrite:function(){return this.action!="read"}});Ext.data.ProxyMgr=new Ext.AbstractManager({create:function(a){if(a==undefined||typeof a=="string"){a={type:a}}if(!(a instanceof Ext.data.Proxy)){Ext.applyIf(a,{type:this.defaultProxyType,model:this.model});var b=a[this.typeName]||a.type,c=this.types[b];if(c==undefined){throw new Error(Ext.util.Format.format("The '{0}' type has not been registered with this manager",b))}return new c(a)}else{return a}}});Ext.data.ReaderMgr=new Ext.AbstractManager({typeName:"rtype"});Ext.data.Request=Ext.extend(Object,{action:undefined,params:undefined,method:"GET",url:undefined,constructor:function(a){Ext.apply(this,a)}});Ext.data.ResultSet=Ext.extend(Object,{loaded:true,count:0,total:0,success:false,constructor:function(a){Ext.apply(this,a);this.totalRecords=this.total;if(a.count==undefined){this.count=this.records.length}}});Ext.data.AbstractStore=Ext.extend(Ext.util.Observable,{remoteSort:false,remoteFilter:false,autoLoad:false,autoSave:false,batchUpdateMode:"operation",filterOnLoad:true,sortOnLoad:true,defaultSortDirection:"ASC",implicitModel:false,defaultProxyType:"memory",isDestroyed:false,isStore:true,constructor:function(a){this.addEvents("add","remove","update","datachanged","beforeload","load","beforesync");Ext.apply(this,a);this.removed=[];this.sortToggle={};Ext.data.AbstractStore.superclass.constructor.apply(this,arguments);this.model=Ext.ModelMgr.getModel(a.model);Ext.applyIf(this,{modelDefaults:{}});if(!this.model&&a.fields){this.model=Ext.regModel("ImplicitModel-"+this.storeId||Ext.id(),{fields:a.fields});delete this.fields;this.implicitModel=true}this.setProxy(a.proxy||this.model.proxy);if(this.id&&!this.storeId){this.storeId=this.id;delete this.id}if(this.storeId){Ext.StoreMgr.register(this)}},setProxy:function(a){if(a instanceof Ext.data.Proxy){a.setModel(this.model)}else{Ext.applyIf(a,{model:this.model});a=Ext.data.ProxyMgr.create(a)}this.proxy=a;return this.proxy},getProxy:function(){return this.proxy},create:function(d,c){var a=Ext.ModelMgr.create(Ext.applyIf(d,this.modelDefaults),this.model.modelName),b;c=c||{};Ext.applyIf(c,{action:"create",records:[a]});b=new Ext.data.Operation(c);return this.proxy.create(b,this.onProxyWrite,this)},read:function(){return this.load.apply(this,arguments)},onProxyRead:Ext.emptyFn,update:function(b){b=b||{};Ext.applyIf(b,{action:"update",records:this.getUpdatedRecords()});var a=new Ext.data.Operation(b);return this.proxy.update(a,this.onProxyWrite,this)},onProxyWrite:Ext.emptyFn,destroy:function(b){b=b||{};Ext.applyIf(b,{action:"destroy",records:this.getRemovedRecords()});var a=new Ext.data.Operation(b);return this.proxy.destroy(a,this.onProxyWrite,this)},onBatchOperationComplete:function(c,b){if(b.action=="create"){var a=b.records,e=a.length,d;for(d=0;d<e;d++){a[d].needsAdd=false}}},onBatchComplete:function(c,a){var b=c.operations,e=b.length,d;this.suspendEvents();for(d=0;d<e;d++){this.onProxyWrite(b[d])}this.resumeEvents();this.fireEvent("datachanged",this)},onBatchException:function(b,a){},filterNew:function(a){return a.phantom==true||a.needsAdd==true},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},filterDirty:function(a){return a.dirty==true},getRemovedRecords:function(){return this.removed},sort:function(b,a){},decodeSorters:function(d){if(!Ext.isArray(d)){if(d==undefined){d=[]}else{d=[d]}}var c=d.length,e=Ext.util.Sorter,a,b;for(b=0;b<c;b++){a=d[b];if(!(a instanceof e)){if(Ext.isString(a)){a={property:a}}Ext.applyIf(a,{root:"data",direction:"ASC"});if(a.fn){a.sorterFn=a.fn}if(typeof a=="function"){a={sorterFn:a}}d[b]=new e(a)}}return d},filter:function(a,b){},createSortFunction:function(d,c){c=c||"ASC";var b=c.toUpperCase()=="DESC"?-1:1;var a=this.model.prototype.fields,e=a.get(d).sortType;return function(g,f){var j=e(g.data[d]),h=e(f.data[d]);return b*(j>h?1:(j<h?-1:0))}},decodeFilters:function(e){if(!Ext.isArray(e)){if(e!=undefined){e=[e]}else{e=[]}}var d=e.length,a=Ext.util.Filter,b,c;for(c=0;c<d;c++){b=e[c];if(!(b instanceof a)){Ext.apply(b,{root:"data"});if(b.fn){b.filter=b.fn}if(typeof b=="function"){b={filter:b}}e[c]=new a(b)}}return e},clearFilter:function(a){},isFiltered:function(){},filterBy:function(b,a){},sync:function(){var d=this,b={},e=d.getNewRecords(),c=d.getUpdatedRecords(),a=d.getRemovedRecords(),f=false;if(e.length>0){b.create=e;f=true}if(c.length>0){b.update=c;f=true}if(a.length>0){b.destroy=a;f=true}if(f&&d.fireEvent("beforesync",b)!==false){d.proxy.batch(b,d.getBatchListeners())}},getBatchListeners:function(){var a={scope:this,exception:this.onBatchException};if(this.batchUpdateMode=="operation"){a["operation-complete"]=this.onBatchOperationComplete}else{a.complete=this.onBatchComplete}return a},save:function(){return this.sync.apply(this,arguments)},load:function(b){var c=this,a;b=b||{};Ext.applyIf(b,{action:"read",filters:c.filters,sorters:c.sorters});a=new Ext.data.Operation(b);if(c.fireEvent("beforeload",c,a)!==false){c.proxy.read(a,c.onProxyLoad,c)}return c},afterEdit:function(a){this.fireEvent("update",this,a,Ext.data.Model.EDIT)},afterReject:function(a){this.fireEvent("update",this,a,Ext.data.Model.REJECT)},afterCommit:function(a){if(this.autoSave){this.sync()}this.fireEvent("update",this,a,Ext.data.Model.COMMIT)},clearData:Ext.emptFn,destroyStore:function(){if(!this.isDestroyed){if(this.storeId){Ext.StoreMgr.unregister(this)}this.clearData();this.data=null;this.tree=null;this.reader=this.writer=null;this.purgeListeners();this.isDestroyed=true;if(this.implicitModel){Ext.destroy(this.model)}}},getSortState:function(){return this.sortInfo},getCount:function(){},getById:function(a){},removeAll:function(){}});Ext.data.Store=Ext.extend(Ext.data.AbstractStore,{remoteSort:false,remoteFilter:false,groupField:undefined,groupDir:"ASC",pageSize:25,currentPage:undefined,implicitModel:false,defaultProxyType:"memory",isDestroyed:false,isStore:true,constructor:function(a){a=a||{};this.data=new Ext.util.MixedCollection(false,function(d){return d.internalId});if(a.data){this.inlineData=a.data;delete a.data}Ext.data.Store.superclass.constructor.call(this,a);this.sorters=this.decodeSorters(this.sorters);var b=this.proxy,c=this.inlineData;if(c){if(b instanceof Ext.data.MemoryProxy){b.data=c;this.read()}else{this.add.apply(this,c)}this.sort(this.sorters);delete this.inlineData}else{if(this.autoLoad){Ext.defer(this.load,10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined])}}},getGroups:function(){var d=this.data.items,f=d.length,a=[],c={},b,g,h,e;for(e=0;e<f;e++){b=d[e];g=this.getGroupString(b);h=c[g];if(h==undefined){h={name:g,children:[]};a.push(h);c[g]=h}h.children.push(b)}return a},getGroupString:function(a){return a.get(this.groupField)},first:function(){return this.data.first()},last:function(){return this.data.last()},insert:function(d,c){var e,b,a;c=[].concat(c);for(e=0,a=c.length;e<a;e++){c[e].set(this.modelDefaults);this.data.insert(d+e,c[e]);c[e].join(this)}if(this.snapshot){this.snapshot.addAll(c)}this.fireEvent("add",this,c,d);this.fireEvent("datachanged",this)},add:function(){var b=Array.prototype.slice.apply(arguments),d=b.length,a,c;for(c=0;c<d;c++){a=b[c];if(!(a instanceof Ext.data.Model)){a=Ext.ModelMgr.create(a,this.model)}if(a.phantom==false){a.needsAdd=true}b[c]=a}this.insert(this.data.length,b);return b},each:function(b,a){this.data.each(b,a)},remove:function(b){if(!Ext.isArray(b)){b=[b]}var e=b.length,d,c,a;for(d=0;d<e;d++){a=b[d];c=this.data.indexOf(a);if(c>-1){this.removed.push(a);if(this.snapshot){this.snapshot.remove(a)}a.unjoin(this);this.data.remove(a);this.fireEvent("remove",this,a,c)}}this.fireEvent("datachanged",this)},removeAt:function(b){var a=this.getAt(b);if(a){this.remove(a)}},load:function(a){a=a||{};Ext.applyIf(a,{group:{field:this.groupField,direction:this.groupDir},start:0,limit:this.pageSize,addRecords:false});return Ext.data.Store.superclass.load.call(this,a)},onProxyLoad:function(b){var a=b.getRecords();this.loadRecords(a,b.addRecords);this.fireEvent("load",this,a,b.wasSuccessful());this.fireEvent("read",this,a,b.wasSuccessful());var c=b.callback;if(typeof c=="function"){c.call(b.scope||this,a,b,b.wasSuccessful())}},onProxyWrite:function(c){var g=this.data,f=c.action,b=c.getRecords(),e=b.length,h=c.callback,a,d;if(c.wasSuccessful()){if(f=="create"||f=="update"){for(d=0;d<e;d++){a=b[d];a.phantom=false;a.join(this);g.replace(a)}}else{if(f=="destroy"){for(d=0;d<e;d++){a=b[d];a.unjoin(this);g.remove(a)}this.removed=[]}}this.fireEvent("datachanged")}if(typeof h=="function"){h.call(c.scope||this,b,c,c.wasSuccessful())}},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterDirty).items},sort:function(e,d){if(Ext.isString(e)){var c=e,b=this.sortToggle,a=Ext.util.Format.toggle;if(d==undefined){b[c]=a(b[c]||"","ASC","DESC");d=b[c]}e={property:c,direction:d}}this.sorters=this.decodeSorters(e);if(this.remoteSort){this.read()}else{this.data.sort(this.sorters);this.fireEvent("datachanged",this)}},filter:function(a,b){if(Ext.isString(a)){a={property:a,value:b}}this.filters=this.decodeFilters(a);if(this.remoteFilter){this.read()}else{this.snapshot=this.snapshot||this.data.clone();this.data=this.data.filter(this.filters);this.fireEvent("datachanged",this)}},clearFilter:function(a){if(this.isFiltered()){this.data=this.snapshot.clone();delete this.snapshot;if(a!==true){this.fireEvent("datachanged",this)}}},isFiltered:function(){return !!this.snapshot&&this.snapshot!=this.data},filterBy:function(b,a){this.snapshot=this.snapshot||this.data.clone();this.data=this.queryBy(b,a||this);this.fireEvent("datachanged",this)},queryBy:function(b,a){var c=this.snapshot||this.data;return c.filterBy(b,a||this)},loadData:function(f,a){var c=this.model,e=f.length,d,b;for(d=0;d<e;d++){b=f[d];if(!(b instanceof Ext.data.Model)){f[d]=Ext.ModelMgr.create(b,c)}}this.loadRecords(f,a)},loadRecords:function(a,d){if(!d){this.data.clear()}this.data.addAll(a);for(var b=0,c=a.length;b<c;b++){a[b].needsAdd=false;a[b].join(this)}this.suspendEvents();if(this.filterOnLoad&&!this.remoteFilter){this.filter(this.filters)}if(this.sortOnLoad&&!this.remoteSort){this.sort(this.sorters)}this.resumeEvents();this.fireEvent("datachanged",this,a)},loadPage:function(a){this.currentPage=a;this.read({start:(a-1)*this.pageSize,limit:this.pageSize})},nextPage:function(){this.loadPage(this.currentPage+1)},previousPage:function(){this.loadPage(this.currentPage-1)},clearData:function(){this.data.each(function(a){a.unjoin()});this.data.clear()},find:function(d,c,f,e,a){var b=this.createFilterFn(d,c,e,a);return b?this.data.findIndexBy(b,null,f):-1},findRecord:function(){var a=this.find.apply(this,arguments);return a!=-1?this.getAt(a):null},createFilterFn:function(d,c,e,a,b){if(Ext.isEmpty(c)){return false}c=this.data.createValueMatcher(c,e,a,b);return function(f){return c.test(f.data[d])}},findExact:function(b,a,c){return this.data.findIndexBy(function(d){return d.get(b)===a},this,c)},findBy:function(b,a,c){return this.data.findIndexBy(b,a,c)},collect:function(f,g,a){var k=[],h={},b,j,e,d,c;if(a===true&&this.snapshot){d=this.snapshot.items}else{d=this.data.items}b=d.length;for(c=0;c<b;c++){j=d[c].data[f];e=String(j);if((g||!Ext.isEmpty(j))&&!h[e]){h[e]=true;k[k.length]=j}}return k},sum:function(e,f,a){var b=this.data.items,d=0,c;f=f||0;a=(a||a===0)?a:b.length-1;for(c=f;c<=a;c++){d+=(b[c].data[e]||0)}return d},getCount:function(){return this.data.length||0},getAt:function(a){return this.data.itemAt(a)},getRange:function(b,a){return this.data.getRange(b,a)},getById:function(a){return(this.snapshot||this.data).find(function(b){return b.getId()===a})},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},removeAll:function(b){var a=[];this.each(function(c){a.push(c)});this.clearData();if(this.snapshot){this.snapshot.clear()}if(b!==true){this.fireEvent("clear",this,a)}}});Ext.data.TreeStore=Ext.extend(Ext.data.AbstractStore,{clearOnLoad:true,nodeParameter:"node",defaultRootId:"root",constructor:function(c){c=c||{};var a=c.root||{};a.id=a.id||this.defaultRootId;var b=new Ext.data.RecordNode(a);this.tree=new Ext.data.Tree(b);this.tree.treeStore=this;Ext.data.TreeStore.superclass.constructor.call(this,c);if(c.root){this.read({node:b,doPreload:true})}},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},load:function(e){e=e||{};e.params=e.params||{};var f=e.node||this.tree.getRootNode(),d,c,a=this.proxy.reader,b;if(this.clearOnLoad){while(f.firstChild){f.removeChild(f.firstChild)}}if(!e.doPreload){Ext.applyIf(e,{node:f});c=f.getRecord();e.params[this.nodeParameter]=c?c.getId():"root";return Ext.data.TreeStore.superclass.load.call(this,e)}else{b=a.getRoot(f.isRoot?f.attributes:f.getRecord().raw);d=a.extractData(b,true);this.fillNode(f,d);return true}},fillNode:function(g,c){g.loaded=true;var f=c.length,a,e=0,d,b=g.subStore;for(;e<f;e++){d=c[e].raw;c[e].data.leaf=d.leaf;a=new Ext.data.RecordNode({id:c[e].getId(),leaf:d.leaf,record:c[e],expanded:d.expanded});g.appendChild(a);if(c[e].doPreload){this.load({node:a,doPreload:true})}}if(b){if(this.clearOnLoad){b.removeAll()}b.add.apply(b,c)}},onProxyLoad:function(b){var a=b.getRecords();this.fillNode(b.node,a);this.fireEvent("read",this,b.node,a,b.wasSuccessful());var c=b.callback;if(typeof c=="function"){c.call(b.scope||this,a,b,b.wasSuccessful())}},getSubStore:function(a){if(a&&a.node){a=a.node}return a.getSubStore()},removeAll:function(){var a=this.getRootNode();a.destroy()}});Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var a=0,b;(b=arguments[a]);a++){this.add(b)}},unregister:function(){for(var a=0,b;(b=arguments[a]);a++){this.remove(this.lookup(b))}},lookup:function(e){if(Ext.isArray(e)){var b=["field1"],d=!Ext.isArray(e[0]);if(!d){for(var c=2,a=e[0].length;c<=a;++c){b.push("field"+c)}}return new Ext.data.ArrayStore({data:e,fields:b,expandData:d,autoDestroy:true,autoCreated:true})}return Ext.isObject(e)?(e.events?e:Ext.create(e,"store")):this.get(e)},getKey:function(a){return a.storeId}});Ext.regStore=function(b,a){if(a==undefined){a=b}else{a.storeId=b}if(!(a instanceof Ext.data.Store)){a=new Ext.data.Store(a)}return Ext.StoreMgr.register(a)};Ext.data.WriterMgr=new Ext.AbstractManager({});Ext.data.Tree=Ext.extend(Ext.util.Observable,{constructor:function(a){this.nodeHash={};this.root=null;if(a){this.setRootNode(a)}this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this)},pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(a){this.root=a;a.ownerTree=this;a.isRoot=true;this.registerNode(a);return a},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}});Ext.data.Node=Ext.extend(Ext.util.Observable,{constructor:function(a){this.attributes=a||{};this.leaf=this.attributes.leaf;this.id=this.attributes.id;if(!this.id){this.id=Ext.id(null,"xnode-");this.attributes.id=this.id}this.childNodes=[];this.parentNode=null;this.firstChild=null;this.lastChild=null;this.previousSibling=null;this.nextSibling=null;this.addEvents({append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this)},fireEvent:function(b){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===false){return false}var a=this.getOwnerTree();if(a){if(a.proxyNodeEvent.apply(a,arguments)===false){return false}}return true},isLeaf:function(){return this.leaf===true},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},isLast:function(){return(!this.parentNode?true:this.parentNode.lastChild==this)},isFirst:function(){return(!this.parentNode?true:this.parentNode.firstChild==this)},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes()},appendChild:function(e){var f=false,d,a;if(Ext.isArray(e)){f=e}else{if(arguments.length>1){f=arguments}}if(f){a=f.length;for(d=0;d<a;d++){this.appendChild(f[d])}}else{if(this.fireEvent("beforeappend",this.ownerTree,this,e)===false){return false}var b=this.childNodes.length;var c=e.parentNode;if(c){if(e.fireEvent("beforemove",e.getOwnerTree(),e,c,this,b)===false){return false}c.removeChild(e)}b=this.childNodes.length;if(b===0){this.setFirstChild(e)}this.childNodes.push(e);e.parentNode=this;var g=this.childNodes[b-1];if(g){e.previousSibling=g;g.nextSibling=e}else{e.previousSibling=null}e.nextSibling=null;this.setLastChild(e);e.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,e,b);if(c){e.fireEvent("move",this.ownerTree,e,c,this,b)}return e}},removeChild:function(c,b){var a=this.indexOf(c);if(a==-1){return false}if(this.fireEvent("beforeremove",this.ownerTree,this,c)===false){return false}this.childNodes.splice(a,1);if(c.previousSibling){c.previousSibling.nextSibling=c.nextSibling}if(c.nextSibling){c.nextSibling.previousSibling=c.previousSibling}if(this.firstChild==c){this.setFirstChild(c.nextSibling)}if(this.lastChild==c){this.setLastChild(c.previousSibling)}this.fireEvent("remove",this.ownerTree,this,c);if(b){c.destroy(true)}else{c.clear()}return c},clear:function(a){this.setOwnerTree(null,a);this.parentNode=this.previousSibling=this.nextSibling=null;if(a){this.firstChild=this.lastChild=null}},destroy:function(a){if(a===true){this.purgeListeners();this.clear(true);Ext.each(this.childNodes,function(b){b.destroy(true)});this.childNodes=null}else{this.remove(true)}},insertBefore:function(d,a){if(!a){return this.appendChild(d)}if(d==a){return false}if(this.fireEvent("beforeinsert",this.ownerTree,this,d,a)===false){return false}var b=this.indexOf(a),c=d.parentNode,e=b;if(c==this&&this.indexOf(d)<b){e--}if(c){if(d.fireEvent("beforemove",d.getOwnerTree(),d,c,this,b,a)===false){return false}c.removeChild(d)}if(e===0){this.setFirstChild(d)}this.childNodes.splice(e,0,d);d.parentNode=this;var f=this.childNodes[e-1];if(f){d.previousSibling=f;f.nextSibling=d}else{d.previousSibling=null}d.nextSibling=a;a.previousSibling=d;d.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,d,a);if(c){d.fireEvent("move",this.ownerTree,d,c,this,e,a)}return d},remove:function(b){var a=this.parentNode;if(a){a.removeChild(this,b)}return this},removeAll:function(a){var c=this.childNodes,b;while((b=c[0])){this.removeChild(b,a)}return this},item:function(a){return this.childNodes[a]},replaceChild:function(a,c){var b=c?c.nextSibling:null;this.removeChild(c);this.insertBefore(a,b);return c},indexOf:function(a){return this.childNodes.indexOf(a)},getOwnerTree:function(){if(!this.ownerTree){var a=this;while(a){if(a.ownerTree){this.ownerTree=a.ownerTree;break}a=a.parentNode}}return this.ownerTree},getDepth:function(){var b=0,a=this;while(a.parentNode){++b;a=a.parentNode}return b},setOwnerTree:function(a,b){if(a!=this.ownerTree){if(this.ownerTree){this.ownerTree.unregisterNode(this)}this.ownerTree=a;if(b!==true){Ext.each(this.childNodes,function(c){c.setOwnerTree(a)})}if(a){a.registerNode(this)}}},setId:function(b){if(b!==this.id){var a=this.ownerTree;if(a){a.unregisterNode(this)}this.id=this.attributes.id=b;if(a){a.registerNode(this)}this.onIdChange(b)}},onIdChange:Ext.emptyFn,getPath:function(c){c=c||"id";var e=this.parentNode,a=[this.attributes[c]];while(e){a.unshift(e.attributes[c]);e=e.parentNode}var d=this.getOwnerTree().pathSeparator;return d+a.join(d)},bubble:function(c,b,a){var d=this;while(d){if(c.apply(b||d,a||[d])===false){break}d=d.parentNode}},cascade:function(d,c,a){if(d.apply(c||this,a||[this])!==false){var f=this.childNodes,e=f.length,b;for(b=0;b<e;b++){f[b].cascade(d,c,a)}}},eachChild:function(d,c,a){var f=this.childNodes,e=f.length,b;for(b=0;b<e;b++){if(d.apply(c||this,a||[f[b]])===false){break}}},findChild:function(b,c,a){return this.findChildBy(function(){return this.attributes[b]==c},null,a)},findChildBy:function(g,f,b){var e=this.childNodes,a=e.length,d=0,h,c;for(;d<a;d++){h=e[d];if(g.call(f||h,h)===true){return h}else{if(b){c=h.findChildBy(g,f,b);if(c!=null){return c}}}}return null},sort:function(e,d){var c=this.childNodes,a=c.length,b,g;if(a>0){var f=d?function(){return e.apply(d,arguments)}:e;c.sort(f);for(b=0;b<a;b++){g=c[b];g.previousSibling=c[b-1];g.nextSibling=c[b+1];if(b===0){this.setFirstChild(g)}if(b==a-1){this.setLastChild(g)}}}},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){var b=this.parentNode;while(b){if(b==a){return true}b=b.parentNode}return false},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}});Ext.data.RecordNode=Ext.extend(Ext.data.Node,{constructor:function(a){a=a||{};if(a.record){a.record.node=this}Ext.data.RecordNode.superclass.constructor.call(this,a)},getChildRecords:function(){var e=this.childNodes,d=e.length,b=0,a=[],c;for(;b<d;b++){c=e[b].attributes.record;c.data.leaf=e[b].leaf;a.push(c)}return a},getRecord:function(){return this.attributes.record},getSubStore:function(){if(this.leaf){throw"Attempted to get a substore of a leaf node."}var b=this.getOwnerTree().treeStore;if(!this.subStore){this.subStore=new Ext.data.Store({model:b.model});var a=this.getChildRecords();this.subStore.add.apply(this.subStore,a)}if(!this.loaded){b.load({node:this})}return this.subStore},destroy:function(b){if(this.subStore){this.subStore.destroyStore()}var a=this.attributes;if(a.record){delete a.record.node;delete a.record}return Ext.data.RecordNode.superclass.destroy.call(this,b)}});Ext.data.Proxy=Ext.extend(Ext.util.Observable,{batchOrder:"create,update,destroy",defaultReaderType:"json",defaultWriterType:"json",setModel:function(a,b){this.model=Ext.ModelMgr.getModel(a);if(b&&this.store){this.store.setModel(this.model)}},getModel:function(){return this.model},setReader:function(a){if(a==undefined||typeof a=="string"){a={type:a}}if(!(a instanceof Ext.data.Reader)){Ext.applyIf(a,{proxy:this,model:this.model,type:this.defaultReaderType});a=Ext.data.ReaderMgr.create(a)}this.reader=a;return this.reader},getReader:function(){return this.reader},setWriter:function(a){if(a==undefined||typeof a=="string"){a={type:a}}if(!(a instanceof Ext.data.Writer)){Ext.applyIf(a,{model:this.model,type:this.defaultWriterType});a=Ext.data.WriterMgr.create(a)}this.writer=a;return this.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(b,c){var a=new Ext.data.Batch({proxy:this,listeners:c||{}});Ext.each(this.batchOrder.split(","),function(d){if(b[d]){a.add(new Ext.data.Operation({action:d,records:b[d]}))}},this);a.start();return a}});Ext.data.DataProxy=Ext.data.Proxy;Ext.data.ProxyMgr.registerType("proxy",Ext.data.Proxy);Ext.data.ServerProxy=Ext.extend(Ext.data.Proxy,{noCache:true,cacheString:"_dc",timeout:30000,constructor:function(a){Ext.data.ServerProxy.superclass.constructor.call(this,a);this.extraParams=a.extraParams||{};this.nocache=this.noCache;this.setReader(this.reader);this.setWriter(this.writer)},setModel:function(b){Ext.data.ServerProxy.superclass.setModel.call(this,b);b=this.model;var a=this.reader;if(a&&!a.model){this.reader.setModel(b)}if(this.writer){this.writer.model=b}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},buildRequest:function(a){var c=Ext.applyIf(a.params||{},this.extraParams||{});c=Ext.applyIf(c,this.getParams(c));var b=new Ext.data.Request({params:c,action:a.action,records:a.records,operation:a});b.url=this.buildUrl(b);a.request=b;return b},getParams:function(f){var b=["start","limit","group","filters","sorters"],e={},a=b.length,d,c;for(d=0;d<a;++d){c=b[d];if(f[c]!==undefined){e[c]=f[c]}}return e},buildUrl:function(b){var a=b.url||this.url;if(!a){throw"You are using a ServerProxy but have not supplied it with a url. "}if(this.noCache){a=Ext.urlAppend(a,Ext.util.Format.format("{0}={1}",this.cacheString,(new Date().getTime())))}return a},doRequest:function(a,c,b){throw new Error("The doRequest function has not been implemented on your Ext.data.ServerProxy subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer);Ext.data.ServerProxy.superclass.destroy.apply(this,arguments)}});Ext.data.AjaxProxy=Ext.extend(Ext.data.ServerProxy,{actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},constructor:function(){this.addEvents("exception");Ext.data.AjaxProxy.superclass.constructor.apply(this,arguments)},doRequest:function(a,e,b){var d=this.getWriter(),c=this.buildRequest(a,e,b);if(a.allowWrite()){c=d.write(c)}Ext.apply(c,{headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(c,a,e,b),method:this.getMethod(c)});Ext.Ajax.request(c);return c},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(d,a,e,b){var c=this;return function(j,k,h){if(k===true){var g=c.getReader(),f=g.read(h);Ext.apply(a,{response:h,resultSet:f});a.markCompleted()}else{c.fireEvent("exception",this,h,a);a.markException()}if(typeof e=="function"){e.call(b||c,a)}c.afterRequest(d,true)}}});Ext.data.ProxyMgr.registerType("ajax",Ext.data.AjaxProxy);Ext.data.HttpProxy=Ext.data.AjaxProxy;Ext.data.RestProxy=Ext.extend(Ext.data.AjaxProxy,{actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},api:{create:"create",read:"read",update:"update",destroy:"destroy"}});Ext.data.ProxyMgr.registerType("rest",Ext.data.RestProxy);Ext.apply(Ext,{getHead:function(){var a;return function(){if(a==undefined){a=Ext.get(document.getElementsByTagName("head")[0])}return a}}()});Ext.data.ScriptTagProxy=Ext.extend(Ext.data.ServerProxy,{defaultWriterType:"base",callbackParam:"callback",scriptIdPrefix:"stcScript",callbackPrefix:"stcCallback",recordParam:"records",lastRequest:undefined,constructor:function(){this.addEvents("exception");Ext.data.ScriptTagProxy.superclass.constructor.apply(this,arguments)},doRequest:function(f,k,l){var j=Ext.util.Format.format,a=++Ext.data.ScriptTagProxy.TRANS_ID,c=j("{0}{1}",this.scriptIdPrefix,a),d=j("{0}{1}",this.callbackPrefix,a);var e=this.getWriter(),g=this.buildRequest(f),b=Ext.urlAppend(g.url,j("{0}={1}",this.callbackParam,d));if(f.allowWrite()){g=e.write(g)}Ext.apply(g,{url:b,transId:a,scriptId:c,stCallback:d});g.timeoutId=Ext.defer(this.createTimeoutHandler,this.timeout,this,[g,f]);window[d]=this.createRequestCallback(g,f,k,l);var h=document.createElement("script");h.setAttribute("src",b);h.setAttribute("type","text/javascript");h.setAttribute("id",c);Ext.getHead().appendChild(h);f.markStarted();this.lastRequest=g;return g},createRequestCallback:function(d,a,e,b){var c=this;return function(h){var g=c.getReader(),f=g.read(h);Ext.apply(a,{response:h,resultSet:f});a.markCompleted();if(typeof e=="function"){e.call(b||c,a)}c.afterRequest(d,true)}},afterRequest:function(){var a=function(b){return function(){window[b]=undefined;try{delete window[b]}catch(c){}}};return function(c,b){Ext.get(c.scriptId).remove();clearTimeout(c.timeoutId);var d=c.stCallback;if(b){a(d)();this.lastRequest.completed=true}else{window[d]=a(d)}}}(),buildUrl:function(c){var b=Ext.data.ScriptTagProxy.superclass.buildUrl.call(this,c);b=Ext.urlAppend(b,Ext.urlEncode(c.params));var a=c.records;if(Ext.isArray(a)&&a.length>0){b=Ext.urlAppend(b,Ext.util.Format.format("{0}={1}",this.recordParam,this.encodeRecords(a)))}return b},destroy:function(){this.abort();Ext.data.ScriptTagProxy.superclass.destroy.apply(this,arguments)},isLoading:function(){var a=this.lastRequest;return(a!=undefined&&!a.completed)},abort:function(){if(this.isLoading()){this.afterRequest(this.lastRequest)}},encodeRecords:function(a){var d="";for(var b=0,c=a.length;b<c;b++){d+=Ext.urlEncode(a[b].data)}return d},createTimeoutHandler:function(b,a){this.afterRequest(b,false);this.fireEvent("exception",this,b,a);if(typeof b.callback=="function"){b.callback.call(b.scope||window,null,b.options,false)}}});Ext.data.ScriptTagProxy.TRANS_ID=1000;Ext.data.ProxyMgr.registerType("scripttag",Ext.data.ScriptTagProxy);Ext.data.ClientProxy=Ext.extend(Ext.data.Proxy,{clear:function(){throw new Error("The Ext.data.ClientProxy subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}});Ext.data.MemoryProxy=Ext.extend(Ext.data.ClientProxy,{constructor:function(a){Ext.data.MemoryProxy.superclass.constructor.call(this,a);this.setReader(this.reader)},read:function(c,e,d){var b=this.getReader(),a=b.read(this.data);Ext.apply(c,{resultSet:a});c.markCompleted();if(typeof e=="function"){e.call(d||this,c)}},clear:Ext.emptyFn});Ext.data.ProxyMgr.registerType("memory",Ext.data.MemoryProxy);Ext.data.WebStorageProxy=Ext.extend(Ext.data.ClientProxy,{id:undefined,constructor:function(a){Ext.data.WebStorageProxy.superclass.constructor.call(this,a);this.cache={};if(this.getStorageObject()==undefined){throw"Local Storage is not supported in this browser, please use another type of data proxy"}this.id=this.id||(this.store?this.store.storeId:undefined);if(this.id==undefined){throw"No unique id was provided to the local storage proxy. See Ext.data.LocalStorageProxy documentation for details"}this.initialize()},create:function(e,h,j){var d=e.records,c=d.length,a=this.getIds(),b,g,f;e.markStarted();for(f=0;f<c;f++){g=d[f];if(g.phantom){g.phantom=false;b=this.getNextId()}else{b=g.getId()}this.setRecord(g,b);a.push(b)}this.setIds(a);e.markCompleted();e.markSuccessful();if(typeof h=="function"){h.call(j||this,e)}},read:function(e,h,j){var d=[],a=this.getIds(),c=a.length,f,b,g;if(e.id){g=this.getRecord(e.id);if(g){d.push(g);e.markSuccessful()}}else{for(f=0;f<c;f++){d.push(this.getRecord(a[f]))}e.markSuccessful()}e.markCompleted();e.resultSet=new Ext.data.ResultSet({records:d,total:d.length,loaded:true});if(typeof h=="function"){h.call(j||this,e)}},update:function(e,h,j){var d=e.records,c=d.length,a=this.getIds(),g,b,f;e.markStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(a.indexOf(b)==-1){a.push(b)}}this.setIds(a);e.markCompleted();e.markSuccessful();if(typeof h=="function"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.records,f=a.length,d=this.getIds(),g=[].concat(d),c;for(c=0;c<f;c++){g.remove(a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);if(typeof h=="function"){h.call(e||this,b)}},getRecord:function(c){if(this.cache[c]==undefined){var a=Ext.decode(this.getStorageObject().getItem(this.getRecordKey(c))),f={},e=this.model,j=e.prototype.fields.items,d=j.length,g,k,b,h;for(g=0;g<d;g++){k=j[g];b=k.name;if(typeof k.decode=="function"){f[b]=k.decode(a[b])}else{f[b]=a[b]}}h=new e(f);h.phantom=false;this.cache[c]=h}return this.cache[c]},setRecord:function(j,c){if(c){j.setId(c)}else{c=j.getId()}var a=j.data,f={},h=this.model,k=h.prototype.fields.items,d=k.length,g,l,b;for(g=0;g<d;g++){l=k[g];b=l.name;if(typeof l.encode=="function"){f[b]=l.encode(a[b],j)}else{f[b]=a[b]}}var e=this.getStorageObject(),m=this.getRecordKey(c);this.cache[c]=j;e.removeItem(m);e.setItem(m,Ext.encode(f))},removeRecord:function(c,b){if(c instanceof Ext.data.Model){c=c.getId()}if(b!==false){var a=this.getIds();a.remove(c);this.setIds(a)}this.getStorageObject().removeItem(this.getRecordKey(c))},getRecordKey:function(a){if(a instanceof Ext.data.Model){a=a.getId()}return Ext.util.Format.format("{0}-{1}",this.id,a)},getRecordCounterKey:function(){return Ext.util.Format.format("{0}-counter",this.id)},getIds:function(){var b=(this.getStorageObject().getItem(this.id)||"").split(","),c=b.length,a;if(c==1&&b[0]==""){b=[]}else{for(a=0;a<c;a++){b[a]=parseInt(b[a],10)}}return b},setIds:function(a){var b=this.getStorageObject(),c=a.join(",");if(Ext.isEmpty(c)){b.removeItem(this.id)}else{b.setItem(this.id,c)}},getNextId:function(){var d=this.getStorageObject(),a=this.getRecordCounterKey(),c=d[a],b,e;if(c==undefined){b=this.getIds();c=b[b.length-1]||0}e=parseInt(c,10)+1;d.setItem(a,e);return e},initialize:function(){var a=this.getStorageObject();a.setItem(this.id,a.getItem(this.id)||"")},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b])}d.removeItem(this.getRecordCounterKey());d.removeItem(this.id)},getStorageObject:function(){throw new Error("The getStorageObject function has not been defined in your Ext.data.WebStorageProxy subclass")}});Ext.data.LocalStorageProxy=Ext.extend(Ext.data.WebStorageProxy,{getStorageObject:function(){return window.localStorage}});Ext.data.ProxyMgr.registerType("localstorage",Ext.data.LocalStorageProxy);Ext.data.SessionStorageProxy=Ext.extend(Ext.data.WebStorageProxy,{getStorageObject:function(){return window.sessionStorage}});Ext.data.ProxyMgr.registerType("sessionstorage",Ext.data.SessionStorageProxy);Ext.data.Reader=Ext.extend(Object,{idProperty:"id",totalProperty:"total",successProperty:"success",root:"",implicitIncludes:true,constructor:function(a){Ext.apply(this,a||{});this.model=Ext.ModelMgr.getModel(a.model);if(this.model){this.buildExtractors()}},setModel:function(a,b){this.model=Ext.ModelMgr.getModel(a);this.buildExtractors(true);if(b&&this.proxy){this.proxy.setModel(this.model,true)}},read:function(a){var b=a;if(a.responseText){b=this.getResponseData(a)}return this.readRecords(b)},readRecords:function(f){this.rawData=f;f=this.getData(f);var a=this.getRoot(f),d=a.length,g=true,e,b,c;if(this.totalProperty){e=parseInt(this.getTotal(f),10);if(!isNaN(e)){d=e}}if(this.successProperty){e=this.getSuccess(f);if(e===false||e==="false"){g=false}}b=this.extractData(a,true);c=b.length;return new Ext.data.ResultSet({total:d||c,count:c,records:b,success:g})},extractData:function(j,a){var k=[],f=[],d=this.model,c=j.length,l=this.idProperty,e,b,h,g;for(g=0;g<c;g++){e=j[g];k=this.extractValues(e);b=this.getId(e);if(a===true){h=new d(k,b);h.raw=e;f.push(h);if(this.implicitIncludes){this.readAssociated(h,e)}}else{k[l]=b;f.push(k)}}return f},readAssociated:function(g,f){var d=g.associations.items,a=d.length,c,l,b,j,h,k,e;for(e=0;e<a;e++){c=d[e];l=c.name;b=f[c.associationKey||l];if(b){j=c.associatedModel.getProxy();if(j){h=j.getReader()}if(!h){h=new this.constructor({model:c.associatedName});if(c.type=="hasMany"){k=g[l]();k.add.apply(k,h.read(b).records)}else{if(c.type=="belongsTo"){g[l+"BelongsToInstance"]=h.read([b]).records[0]}}}}}},extractValues:function(f){var a=this.model.prototype.fields.items,d=a.length,b={},g,e,c;for(c=0;c<d;c++){g=a[c];e=this.extractorFunctions[c](f)||g.defaultValue;b[g.name]=e}return b},getData:function(a){return a},getRoot:function(a){return a},getResponseData:function(a){throw new Error("getResponseData must be implemented in the Ext.data.Reader subclass")},onMetaChange:function(c){var a=c.fields,b;Ext.apply(this,c);if(a){b=Ext.regModel("JsonReader-Model"+Ext.id(),{fields:a});this.setModel(b,true)}else{this.buildExtractors(true)}},buildExtractors:function(d){if(d===true){delete this.extractorFunctions}if(this.extractorFunctions){return}var f=this.id||this.idProperty,c=this.totalProperty,b=this.successProperty,e=this.messageProperty;if(c){this.getTotal=this.createAccessor(c)}if(b){this.getSuccess=this.createAccessor(b)}if(e){this.getMessage=this.createAccessor(e)}if(f){var a=this.createAccessor(f);this.getId=function(g){var h=a(g);return(h==undefined||h=="")?null:h}}else{this.getId=function(){return null}}this.buildFieldExtractors()},buildFieldExtractors:function(){var a=this.model.prototype.fields.items,c=a.length,b=0,f=[],e,d;for(;b<c;b++){e=a[b];d=(e.mapping!==undefined&&e.mapping!==null)?e.mapping:e.name;f.push(this.createAccessor(d))}this.extractorFunctions=f}});Ext.data.Writer=Ext.extend(Object,{constructor:function(a){Ext.apply(this,a)},write:function(e){var b=e.operation,a=b.records||[],d=a.length,c=0,f=[];for(;c<d;c++){f.push(this.getRecordData(a[c]))}return this.writeRecords(e,f)},getRecordData:function(a){return a.data}});Ext.data.WriterMgr.registerType("base",Ext.data.Writer);Ext.data.JsonWriter=Ext.extend(Ext.data.Writer,{root:"records",encode:false,writeRecords:function(a,b){if(this.encode===true){b=Ext.encode(b)}a.jsonData=a.jsonData||{};a.jsonData[this.root]=b;return a}});Ext.data.WriterMgr.registerType("json",Ext.data.JsonWriter);Ext.data.JsonReader=Ext.extend(Ext.data.Reader,{readRecords:function(a){if(a.metaData){this.onMetaChange(a.metaData)}this.jsonData=a;return Ext.data.JsonReader.superclass.readRecords.call(this,a)},getResponseData:function(a){try{var c=Ext.decode(a.responseText)}catch(b){throw"Ext.data.JsonReader.getResponseData: Unable to parse JSON returned by Server."}if(!c){throw"Ext.data.JsonReader.getResponseData: JSON object not found"}return c},buildExtractors:function(){Ext.data.JsonReader.superclass.buildExtractors.apply(this,arguments);if(this.root){this.getRoot=this.createAccessor(this.root)}else{this.getRoot=function(a){return a}}},createAccessor:function(){var a=/[\[\.]/;return function(c){if(Ext.isEmpty(c)){return Ext.emptyFn}if(Ext.isFunction(c)){return c}var b=String(c).search(a);if(b>=0){return new Function("obj","return obj"+(b>0?".":"")+c)}return function(d){return d[c]}}}()});Ext.data.ReaderMgr.registerType("json",Ext.data.JsonReader);Ext.data.TreeReader=Ext.extend(Ext.data.JsonReader,{extractData:function(b,e){var c=Ext.data.TreeReader.superclass.extractData.call(this,b,e),f=c.length,d=0,a;if(e){for(;d<f;d++){a=c[d];a.doPreload=!!this.getRoot(a.raw)}}return c}});Ext.data.ReaderMgr.registerType("tree",Ext.data.TreeReader);Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{buildExtractors:function(){Ext.data.ArrayReader.superclass.buildExtractors.apply(this,arguments);var a=this.model.prototype.fields.items,c=a.length,d=[],b;for(b=0;b<c;b++){d.push(function(e){return function(f){return f[e]}}(a[b].mapping||b))}this.extractorFunctions=d}});Ext.data.ReaderMgr.registerType("array",Ext.data.ArrayReader);Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(a){a=a||{};Ext.applyIf(a,{proxy:{type:"memory",reader:"array"}});Ext.data.ArrayStore.superclass.constructor.call(this,a)},loadData:function(e,a){if(this.expandData===true){var d=[],b=0,c=e.length;for(;b<c;b++){d[d.length]=[e[b]]}e=d}Ext.data.ArrayStore.superclass.loadData.call(this,e,a)}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(a){a=a||{};Ext.applyIf(a,{proxy:{type:"ajax",reader:"json",writer:"json"}});Ext.data.JsonStore.superclass.constructor.call(this,a)}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.data.JsonPStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.JsonPStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.JsonReader(a),proxy:new Ext.data.ScriptTagProxy(a)}))}});Ext.reg("jsonpstore",Ext.data.JsonPStore);Ext.data.XmlWriter=Ext.extend(Ext.data.Writer,{documentRoot:"xmlData",header:"",record:"record",writeRecords:function(b,c){var a=this.buildTpl(b,c);b.xmlData=a.apply(c);return b},buildTpl:function(e,f){if(this.tpl){return this.tpl}var c=[],b=this.documentRoot,a=this.record,g,d;if(this.header){c.push(this.header)}c.push("<",b,">");if(f.length>0){c.push('<tpl for="."><',a,">");g=f[0];for(d in g){if(g.hasOwnProperty(d)){c.push("<",d,">{",d,"}</",d,">")}}c.push("</",a,"></tpl>")}c.push("</",b,">");this.tpl=new Ext.XTemplate(c.join(""));return this.tpl}});Ext.data.WriterMgr.registerType("xml",Ext.data.XmlWriter);Ext.data.XmlReader=Ext.extend(Ext.data.Reader,{createAccessor:function(){var a=function(d,c,b){var e=Ext.DomQuery.selectNode(d,c),f;if(e&&e.firstChild){f=e.firstChild.nodeValue}return Ext.isEmpty(f)?b:f};return function(b){var c;if(b==this.totalProperty){c=function(e,d){var f=a(b,e,d);return parseFloat(f)}}else{if(b==this.successProperty){c=function(e,d){var f=a(b,e,true);return(f!==false&&f!=="false")}}else{c=function(e,d){return a(b,e,d)}}}return c}}(),getResponseData:function(a){var b=a.responseXML;if(!b){throw {message:"Ext.data.XmlReader.read: XML data not found"}}return b},getData:function(a){return a.documentElement||a},getRoot:function(a){return Ext.DomQuery.select(this.root,a)},constructor:function(a){a=a||{};Ext.applyIf(a,{idProperty:a.idPath||a.id,successProperty:a.success,root:a.record});Ext.data.XmlReader.superclass.constructor.call(this,a)},readRecords:function(a){this.xmlData=a;return Ext.data.XmlReader.superclass.readRecords.call(this,a)}});Ext.data.ReaderMgr.registerType("xml",Ext.data.XmlReader);Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(a){a=a||{};a=a||{};Ext.applyIf(a,{proxy:{type:"ajax",reader:"xml",writer:"xml"}});Ext.data.XmlStore.superclass.constructor.call(this,a)}});Ext.reg("xmlstore",Ext.data.XmlStore);(function(){var c=Ext.Element=Ext.extend(Object,{defaultUnit:"px",constructor:function(d,e){var f=typeof d=="string"?document.getElementById(d):d,g;if(!f){return null}g=f.id;if(!e&&g&&Ext.cache[g]){return Ext.cache[g].el}this.dom=f;this.id=g||Ext.id(f);return this},set:function(h,e){var f=this.dom,d,g;for(d in h){if(h.hasOwnProperty(d)){g=h[d];if(d=="style"){this.applyStyles(g)}else{if(d=="cls"){f.className=g}else{if(e!==false){f.setAttribute(d,g)}else{f[d]=g}}}}}return this},is:function(d){return Ext.DomQuery.is(this.dom,d)},getValue:function(d){var e=this.dom.value;return d?parseInt(e,10):e},addListener:function(d,g,f,e){Ext.EventManager.on(this.dom,d,g,f||this,e);return this},removeListener:function(d,f,e){Ext.EventManager.un(this.dom,d,f,e);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this,true);return this},remove:function(){var d=this,e=d.dom;if(e){delete d.dom;Ext.removeNode(e)}},isAncestor:function(e){var d=this.dom;e=Ext.getDom(e);if(d&&e){return d.contains(e)}return false},isDescendent:function(d){return Ext.fly(d).isAncestor(this)},contains:function(d){return !d?false:this.isAncestor(d)},getAttribute:function(e,f){var g=this.dom;return g.getAttributeNS(f,e)||g.getAttribute(f+":"+e)||g.getAttribute(e)||g[e]},setHTML:function(d){if(this.dom){this.dom.innerHTML=d}return this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){this.setVisible(false);return this},show:function(){this.setVisible(true);return this},setVisible:function(h,d){var e=this,g=e.dom,f=this.getVisibilityMode();switch(f){case c.VISIBILITY:this.removeClass(["x-hidden-display","x-hidden-offsets"]);this[h?"removeClass":"addClass"]("x-hidden-visibility");break;case c.DISPLAY:this.removeClass(["x-hidden-visibility","x-hidden-offsets"]);this[h?"removeClass":"addClass"]("x-hidden-display");break;case c.OFFSETS:this.removeClass(["x-hidden-visibility","x-hidden-display"]);this[h?"removeClass":"addClass"]("x-hidden-offsets");break}return e},getVisibilityMode:function(){var e=this.dom,d=c.data(e,"visibilityMode");if(d===undefined){c.data(e,"visibilityMode",d=c.DISPLAY)}return d},setDisplayMode:function(d){c.data(this.dom,"visibilityMode",d);return this}});var a=c.prototype;c.VISIBILITY=1;c.DISPLAY=2;c.OFFSETS=3;c.addMethods=function(d){Ext.apply(a,d)};a.on=a.addListener;a.un=a.removeListener;a.update=a.setHTML;c.get=function(d){var g,f,h;if(!d){return null}if(typeof d=="string"){if(!(f=document.getElementById(d))){return null}if(Ext.cache[d]&&Ext.cache[d].el){g=Ext.cache[d].el;g.dom=f}else{g=c.addToCache(new c(f))}return g}else{if(d.tagName){if(!(h=d.id)){h=Ext.id(d)}if(Ext.cache[h]&&Ext.cache[h].el){g=Ext.cache[h].el;g.dom=d}else{g=c.addToCache(new c(d))}return g}else{if(d instanceof c){if(d!=c.docEl){d.dom=document.getElementById(d.id)||d.dom}return d}else{if(d.isComposite){return d}else{if(Ext.isArray(d)){return c.select(d)}else{if(d==document){if(!c.docEl){var e=function(){};e.prototype=a;c.docEl=new e();c.docEl.dom=document;c.docEl.id=Ext.id(document)}return c.docEl}}}}}}return null};c.addToCache=function(d,e){e=e||d.id;Ext.cache[e]={el:d,data:{},events:{}};return d};c.data=function(e,d,f){e=c.get(e);if(!e){return null}var g=Ext.cache[e.id].data;if(arguments.length==2){return g[d]}else{return(g[d]=f)}};c.garbageCollect=function(){if(!Ext.enableGarbageCollector){clearInterval(c.collectorThreadId)}else{var f,e,d=Ext.cache;for(f in d){if(!d.hasOwnProperty(f)){continue}if(d[f].skipGarbageCollection){continue}e=d[f].el.dom;if(!e||!e.parentNode||(!e.offsetParent&&!document.getElementById(f))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(e)}delete d[f]}}}};c.Flyweight=function(d){this.dom=d};var b=function(){};b.prototype=a;c.Flyweight.prototype=new b;c.Flyweight.prototype.isFlyweight=true;c._flyweights={};c.fly=function(f,d){var e=null;d=d||"_global";f=Ext.getDom(f);if(f){(c._flyweights[d]=c._flyweights[d]||new c.Flyweight()).dom=f;e=c._flyweights[d]}return e};Ext.get=c.get;Ext.fly=c.fly})();Ext.applyIf(Ext.Element,{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(a){if(a===""||a=="auto"||a===null||a===undefined){a=a||""}else{if(!isNaN(a)||!this.unitRe.test(a)){a=a+(this.defaultUnit||"px")}}return a},parseBox:function(b){if(typeof b!="string"){b=b.toString()}var c=b.split(" "),a=c.length;if(a==1){c[1]=c[2]=c[3]=c[0]}else{if(a==2){c[2]=c[0];c[3]=c[1]}else{if(a==3){c[3]=c[1]}}}return{top:parseFloat(c[0])||0,right:parseFloat(c[1])||0,bottom:parseFloat(c[2])||0,left:parseFloat(c[3])||0}},unitizeBox:function(b){var a=this.addUnits,c=this.parseBox(b);return a(c.top)+" "+a(c.right)+" "+a(c.bottom)+" "+a(c.left)},camelReplaceFn:function(b,c){return c.charAt(1).toUpperCase()},normalize:function(a){return this.propertyCache[a]||(this.propertyCache[a]=a=="float"?"cssFloat":a.replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return(window.innerHeight>window.innerWidth)?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))}});Ext.Element.addMethods({getY:function(a){return this.getXY(a)[1]},getX:function(a){return this.getXY(a)[0]},getXY:function(){var a=window.webkitConvertPointFromNodeToPage(this.dom,new WebKitPoint(0,0));return[a.x,a.y]},getOffsetsTo:function(a){var c=this.getXY(),b=Ext.fly(a,"_internal").getXY();return[c[0]-b[0],c[1]-b[1]]},setXY:function(d){var b=this;if(arguments.length>1){d=[d,arguments[1]]}var c=b.translatePoints(d),a=b.dom.style;for(d in c){if(!c.hasOwnProperty(d)){continue}if(!isNaN(c[d])){a[d]=c[d]+"px"}}return b},setX:function(a){return this.setXY([a,this.getY()])},setY:function(a){return this.setXY([this.getX(),a])},setLeft:function(a){this.setStyle("left",Ext.Element.addUnits(a));return this},setTop:function(a){this.setStyle("top",Ext.Element.addUnits(a));return this},setTopLeft:function(c,b){var a=Ext.Element.addUnits;this.setStyle("top",a(c));this.setStyle("left",a(b));return this},setRight:function(a){this.setStyle("right",Ext.Element.addUnits(a));return this},setBottom:function(a){this.setStyle("bottom",Ext.Element.addUnits(a));return this},getLeft:function(a){return parseInt(this.getStyle("left"),10)||0},getRight:function(a){return parseInt(this.getStyle("right"),10)||0},getTop:function(a){return parseInt(this.getStyle("top"),10)||0},getBottom:function(a){return parseInt(this.getStyle("bottom"),10)||0},setBox:function(d,c,b,a){var e;if(Ext.isObject(d)){b=d.width;a=d.height;c=d.top;d=d.left}if(d!==e){this.setLeft(d)}if(c!==e){this.setTop(c)}if(b!==e){this.setWidth(b)}if(a!==e){this.setHeight(a)}return this},getBox:function(g,k){var h=this,e=h.dom,c=e.offsetWidth,m=e.offsetHeight,o,f,d,a,n,j;if(!k){o=h.getXY()}else{if(g){o=[0,0]}else{o=[parseInt(h.getStyle("left"),10)||0,parseInt(h.getStyle("top"),10)||0]}}if(!g){f={x:o[0],y:o[1],0:o[0],1:o[1],width:c,height:m}}else{d=h.getBorderWidth.call(h,"l")+h.getPadding.call(h,"l");a=h.getBorderWidth.call(h,"r")+h.getPadding.call(h,"r");n=h.getBorderWidth.call(h,"t")+h.getPadding.call(h,"t");j=h.getBorderWidth.call(h,"b")+h.getPadding.call(h,"b");f={x:o[0]+d,y:o[1]+n,0:o[0]+d,1:o[1]+n,width:c-(d+a),height:m-(n+j)}}f.left=f.x;f.top=f.y;f.right=f.x+f.width;f.bottom=f.y+f.height;return f},getPageBox:function(e){var g=this,c=g.dom,k=c.offsetWidth,f=c.offsetHeight,n=g.getXY(),m=n[1],a=n[0]+k,j=n[1]+f,d=n[0];if(e){return new Ext.util.Region(m,a,j,d)}else{return{left:d,top:m,width:k,height:f,right:a,bottom:j}}},translatePoints:function(a,g){g=isNaN(a[1])?g:a[1];a=isNaN(a[0])?a:a[0];var d=this,e=d.isStyle("position","relative"),f=d.getXY(),b=parseInt(d.getStyle("left"),10),c=parseInt(d.getStyle("top"),10);b=!isNaN(b)?b:(e?0:d.dom.offsetLeft);c=!isNaN(c)?c:(e?0:d.dom.offsetTop);return{left:(a-f[0]+b),top:(g-f[1]+c)}}});(function(){Ext.Element.classReCache={};var b=Ext.Element,a=document.defaultView;b.addMethods({marginRightRe:/marginRight/i,trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,addClass:function(g){var h=this,f,c,e,d=[];if(!Ext.isArray(g)){if(g&&!this.hasClass(g)){h.dom.className+=" "+g}}else{for(f=0,c=g.length;f<c;f++){e=g[f];if(e&&!h.hasClass(e)){d.push(e)}}if(d.length){h.dom.className+=" "+d.join(" ")}}return h},removeClass:function(h){var j=this,g,d,c,f,e;if(!Ext.isArray(h)){h=[h]}if(j.dom&&j.dom.className){e=j.dom.className.replace(this.trimRe,"").split(this.spacesRe);for(g=0,c=h.length;g<c;g++){f=h[g];if(typeof f=="string"){f=f.replace(this.trimRe,"");d=e.indexOf(f);if(d!=-1){e.splice(d,1)}}}j.dom.className=e.join(" ")}return j},mask:function(j,e){var g=this,h=g.dom,f=Ext.Element.data(h,"mask"),c,d;g.addClass("x-masked");if(g.getStyle("position")=="static"){g.addClass("x-masked-relative")}if(f){f.remove()}c=g.createChild({cls:"x-mask"+(j?" x-mask-transparent":""),html:e||""});d=g.getSize();Ext.Element.data(h,"mask",c);if(h===document.body){d.height=window.innerHeight;if(g.orientationHandler){Ext.EventManager.unOrientationChange(g.orientationHandler,g)}g.orientationHandler=function(){d=g.getSize();d.height=window.innerHeight;c.setSize(d)};Ext.EventManager.onOrientationChange(g.orientationHandler,g)}c.setSize(d);if(Ext.is.iPad){Ext.repaint()}},unmask:function(){var d=this,e=d.dom,c=Ext.Element.data(e,"mask");if(c){c.remove();Ext.Element.data(e,"mask",undefined)}d.removeClass(["x-masked","x-masked-relative"]);if(e===document.body){Ext.EventManager.unOrientationChange(d.orientationHandler,d);delete d.orientationHandler}},radioClass:function(f){var g=this.dom.parentNode.childNodes,d;f=Ext.isArray(f)?f:[f];for(var e=0,c=g.length;e<c;e++){d=g[e];if(d&&d.nodeType==1){Ext.fly(d,"_internal").removeClass(f)}}return this.addClass(f)},toggleClass:function(c){return this.hasClass(c)?this.removeClass(c):this.addClass(c)},hasClass:function(c){return c&&(" "+this.dom.className+" ").indexOf(" "+c+" ")!=-1},replaceClass:function(d,c){return this.removeClass(d).addClass(c)},isStyle:function(c,d){return this.getStyle(c)==d},getStyle:function(j){var h=this.dom,d,g,f,c=Ext.is,e=h.style;j=b.normalize(j);f=(a)?a.getComputedStyle(h,""):h.currentStyle;d=(f)?f[j]:null;if(d&&!c.correctRightMargin&&this.marginRightRe.test(j)&&e.position!="absolute"&&d!="0px"){g=e.display;e.display="inline-block";d=a.getComputedStyle(h,null)[j];e.display=g}d||(d=e[j]);if(!c.correctTransparentColor&&d=="rgba(0, 0, 0, 0)"){d="transparent"}return d},setStyle:function(f,e){var c,d;if(typeof f=="string"){c={};c[f]=e;f=c}for(d in f){if(f.hasOwnProperty(d)){this.dom.style[b.normalize(d)]=f[d]}}return this},applyStyles:function(e){if(e){var d,c,f=this.dom;if(typeof e=="function"){e=e.call()}if(typeof e=="string"){e=Ext.util.Format.trim(e).split(/\s*(?::|;)\s*/);for(d=0,c=e.length;d<c;){f.style[b.normalize(e[d++])]=e[d++]}}else{if(typeof e=="object"){this.setStyle(e)}}}},getHeight:function(d){var e=this.dom,c=d?(e.clientHeight-this.getPadding("tb")):e.offsetHeight;return c>0?c:0},getWidth:function(c){var e=this.dom,d=c?(e.clientWidth-this.getPadding("lr")):e.offsetWidth;return d>0?d:0},setWidth:function(c){var d=this;d.dom.style.width=b.addUnits(c);return d},setHeight:function(c){var d=this;d.dom.style.height=b.addUnits(c);return d},setSize:function(e,c){var f=this,d=f.dom.style;if(Ext.isObject(e)){c=e.height;e=e.width}d.width=b.addUnits(e);d.height=b.addUnits(c);return f},getBorderWidth:function(c){return this.sumStyles(c,b.borders)},getPadding:function(c){return this.sumStyles(c,b.paddings)},getMargin:function(c){return this.sumStyles(c,b.margins)},getViewSize:function(){var c=document,d=this.dom;if(d==c||d==c.body){return{width:b.getViewportWidth(),height:b.getViewportHeight()}}else{return{width:d.clientWidth,height:d.clientHeight}}},getSize:function(d){var c=this.dom;return{width:Math.max(0,d?(c.clientWidth-this.getPadding("lr")):c.offsetWidth),height:Math.max(0,d?(c.clientHeight-this.getPadding("tb")):c.offsetHeight)}},repaint:function(){var c=this.dom;this.addClass("x-repaint");c.style.background="transparent none";setTimeout(function(){c.style.background=null;Ext.get(c).removeClass("x-repaint")},1);return this},getOuterWidth:function(){return this.getWidth()+this.getMargin("lr")},getOuterHeight:function(){return this.getHeight()+this.getMargin("tb")},sumStyles:function(h,g){var j=0,d=h.match(/\w/g),c=d.length,f,e;for(e=0;e<c;e++){f=d[e]&&parseFloat(this.getStyle(g[d[e]]))||0;if(f){j+=Math.abs(f)}}return j}})})();Ext.Element.addMethods({findParent:function(h,g,c){var e=this.dom,a=document.body,f=0,d;g=g||50;if(isNaN(g)){d=Ext.getDom(g);g=Number.MAX_VALUE}while(e&&e.nodeType==1&&f<g&&e!=a&&e!=d){if(Ext.DomQuery.is(e,h)){return c?Ext.get(e):e}f++;e=e.parentNode}return null},getScrollParent:function(){var b=this.dom,a;while(b&&b!=document.body){if(b.id&&(a=Ext.ScrollManager.get(b.id))){return a}b=b.parentNode}return null},findParentNode:function(d,c,a){var b=Ext.fly(this.dom.parentNode,"_internal");return b?b.findParent(d,c,a):null},up:function(b,a){return this.findParentNode(b,a,true)},select:function(a,b){return Ext.Element.select(a,this.dom,b)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(a,b){var c=Ext.DomQuery.selectNode(a,this.dom);return b?c:Ext.get(c)},child:function(a,b){var d,c=this,e;e=Ext.get(c).id;e=e.replace(/[\.:]/g,"\\$0");d=Ext.DomQuery.selectNode("#"+e+" > "+a,c.dom);return b?d:Ext.get(d)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(b,e,a,c){var d=this.dom[e];while(d){if(d.nodeType==1&&(!a||Ext.DomQuery.is(d,a))){return !c?Ext.get(d):d}d=d[b]}return null}});Ext.Element.addMethods({appendChild:function(a){return Ext.get(a).appendTo(this)},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(b,a){b=b||{};if(b.nodeType||b.dom||typeof b=="string"){b=Ext.getDom(b);this.dom.insertBefore(b,this.dom.firstChild);return !a?Ext.get(b):b}else{return this.createChild(b,this.dom.firstChild,a)}},insertSibling:function(e,c,d){var f=this,b,a=(c||"before").toLowerCase()=="after",g;if(Ext.isArray(e)){g=f;Ext.each(e,function(h){b=Ext.fly(g,"_internal").insertSibling(h,c,d);if(a){g=b}});return b}e=e||{};if(e.nodeType||e.dom){b=f.dom.parentNode.insertBefore(Ext.getDom(e),a?f.dom.nextSibling:f.dom);if(!d){b=Ext.get(b)}}else{if(a&&!f.dom.nextSibling){b=Ext.DomHelper.append(f.dom.parentNode,e,!d)}else{b=Ext.DomHelper[a?"insertAfter":"insertBefore"](f.dom,e,!d)}}return b},replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this},createChild:function(b,a,c){b=b||{tag:"div"};if(a){return Ext.DomHelper.insertBefore(a,b,c!==true)}else{return Ext.DomHelper[!this.dom.firstChild?"overwrite":"append"](this.dom,b,c!==true)}},wrap:function(a,b){var c=Ext.DomHelper.insertBefore(this.dom,a||{tag:"div"},!b);c.dom?c.dom.appendChild(this.dom):c.appendChild(this.dom);return c},insertHtml:function(b,c,a){var d=Ext.DomHelper.insertHtml(b,this.dom,c);return a?Ext.get(d):d}});Ext.Element.addMethods({getAnchorXY:function(f,k,n){f=(f||"tl").toLowerCase();n=n||{};var j=this,a=j.dom==document.body||j.dom==document,b=n.width||a?window.innerWidth:j.getWidth(),l=n.height||a?window.innerHeight:j.getHeight(),m,c=Math.round,d=j.getXY(),h=a?0:!k?d[0]:0,g=a?0:!k?d[1]:0,e={c:[c(b*0.5),c(l*0.5)],t:[c(b*0.5),0],l:[0,c(l*0.5)],r:[b,c(l*0.5)],b:[c(b*0.5),l],tl:[0,0],bl:[0,l],br:[b,l],tr:[b,0]};m=e[f];return[m[0]+h,m[1]+g]},getAlignToXY:function(e,w,h){e=Ext.get(e);if(!e||!e.dom){throw"Element.alignToXY with an element that doesn't exist"}h=h||[0,0];if(!w||w=="?"){w="tl-bl?"}else{if(!(/-/).test(w)&&w!==""){w="tl-"+w}}w=w.toLowerCase();var u=this,d=w.match(/^([a-z]+)-([a-z]+)(\?)?$/),n=window.innerWidth,t=window.innerHeight,c="",a="",z,v,m,l,q,o,f,b,k,j,r,p,g,s;if(!d){throw"Element.alignTo with an invalid alignment "+w}c=d[1];a=d[2];s=!!d[3];z=u.getAnchorXY(c,true);v=e.getAnchorXY(a,false);m=v[0]-z[0]+h[0];l=v[1]-z[1]+h[1];if(s){r=u.getWidth();p=u.getHeight();g=e.getPageBox();b=c.charAt(0);f=c.charAt(c.length-1);j=a.charAt(0);k=a.charAt(a.length-1);o=((b=="t"&&j=="b")||(b=="b"&&j=="t"));q=((f=="r"&&k=="l")||(f=="l"&&k=="r"));if(m+r>n){m=q?g.left-r:n-r}if(m<0){m=q?g.right:0}if(l+p>t){l=o?g.top-p:t-p}if(l<0){l=o?g.bottom:0}}return[m,l]}});Ext.CompositeElement=function(b,a){this.elements=[];this.add(b,a);this.el=new Ext.Element.Flyweight()};Ext.CompositeElement.prototype={isComposite:true,getElement:function(a){var b=this.el;b.dom=a;b.id=a.id;return b},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(d,b){var e=this,f=e.elements;if(!d){return this}if(typeof d=="string"){d=Ext.Element.selectorFunction(d,b)}else{if(d.isComposite){d=d.elements}else{if(!Ext.isIterable(d)){d=[d]}}}for(var c=0,a=d.length;c<a;++c){f.push(e.transformElement(d[c]))}return e},invoke:function(f,b){var g=this,d=g.elements,a=d.length,h,c;for(c=0;c<a;c++){h=d[c];if(h){Ext.Element.prototype[f].apply(g.getElement(h),b)}}return g},item:function(b){var d=this,c=d.elements[b],a=null;if(c){a=d.getElement(c)}return a},addListener:function(b,h,g,f){var d=this.elements,a=d.length,c,j;for(c=0;c<a;c++){j=d[c];if(j){Ext.EventManager.on(j,b,h,g||j,f)}}return this},each:function(f,d){var g=this,c=g.elements,a=c.length,b,h;for(b=0;b<a;b++){h=c[b];if(h){h=this.getElement(h);if(f.call(d||h,h,g,b)){break}}}return g},fill:function(a){var b=this;b.elements=[];b.add(a);return b},filter:function(a){var b=[],d=this,e=d.elements,c=Ext.isFunction(a)?a:function(f){return f.is(a)};d.each(function(h,f,g){if(c(h,g)!==false){b[b.length]=d.transformElement(h)}});d.elements=b;return d},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},indexOf:function(a){return this.elements.indexOf(this.transformElement(a))},clear:function(){this.elements=[]}};Ext.CompositeElement.prototype.on=Ext.CompositeElement.prototype.addListener;(function(){var c,b=Ext.Element.prototype,a=Ext.CompositeElement.prototype;for(c in b){if(Ext.isFunction(b[c])){(function(d){a[d]=a[d]||function(){return this.invoke(d,arguments)}}).call(a,c)}}})();if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select}Ext.Element.select=function(a,b,d){var c;d=(d===false)?false:true;if(typeof a=="string"){c=Ext.Element.selectorFunction(a,b)}else{if(a.length!==undefined){c=a}else{throw"Invalid selector"}}return d?new Ext.CompositeElement(c):c};Ext.select=Ext.Element.select;Ext.CompositeElementLite=Ext.CompositeElement;Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(c,a){if(!c){return this}if(typeof c=="string"){c=Ext.Element.selectorFunction(c,a)}var b=this.elements;Ext.each(c,function(d){b.push(Ext.get(d))});return this},removeElement:function(d,e){var c=this,a=this.elements,b;Ext.each(d,function(f){if((b=(a[f]||a[f=c.indexOf(f)]))){if(e){if(b.dom){b.remove()}else{Ext.removeNode(b)}}a.splice(f,1)}});return this},replaceElement:function(e,c,a){var b=!isNaN(e)?e:this.indexOf(e),f;if(b>-1){c=Ext.getDom(c);if(a){f=this.elements[b];f.parentNode.insertBefore(c,f);Ext.removeNode(f)}this.elements.splice(b,1,c)}return this}});Ext.DomHelper={emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/tag|children|cn|html$/i,endRe:/end/i,markup:function(h){var d="",c,g,f,a,j;if(typeof h=="string"){d=h}else{if(Ext.isArray(h)){for(var e=0;e<h.length;e++){if(h[e]){d+=this.markup(h[e])}}}else{d+="<"+(h.tag=h.tag||"div");for(c in h){if(!h.hasOwnProperty(c)){continue}g=h[c];if(!this.confRe.test(c)){if(typeof g=="object"){d+=" "+c+'="';for(f in g){if(!g.hasOwnProperty(f)){continue}d+=f+":"+g[f]+";"}d+='"'}else{d+=" "+({cls:"class",htmlFor:"for"}[c]||c)+'="'+g+'"'}}}if(this.emptyTags.test(h.tag)){d+="/>"}else{d+=">";if((j=h.children||h.cn)){d+=this.markup(j)}else{if(h.html){d+=h.html}}d+="</"+h.tag+">"}}}return d},applyStyles:function(d,e){if(e){var b=0,a,c;d=Ext.fly(d);if(typeof e=="function"){e=e.call()}if(typeof e=="string"){e=Ext.util.Format.trim(e).split(/\s*(?::|;)\s*/);for(a=e.length;b<a;){d.setStyle(e[b++],e[b++])}}else{if(Ext.isObject(e)){d.setStyle(e)}}}},insertHtml:function(f,a,g){var e={},c,j,h,k,d,b;f=f.toLowerCase();e.beforebegin=["BeforeBegin","previousSibling"];e.afterend=["AfterEnd","nextSibling"];h=a.ownerDocument.createRange();j="setStart"+(this.endRe.test(f)?"After":"Before");if(e[f]){h[j](a);k=h.createContextualFragment(g);a.parentNode.insertBefore(k,f=="beforebegin"?a:a.nextSibling);return a[(f=="beforebegin"?"previous":"next")+"Sibling"]}else{d=(f=="afterbegin"?"first":"last")+"Child";if(a.firstChild){h[j](a[d]);k=h.createContextualFragment(g);if(f=="afterbegin"){a.insertBefore(k,a.firstChild)}else{a.appendChild(k)}}else{a.innerHTML=g}return a[d]}throw'Illegal insertion point -> "'+f+'"'},insertBefore:function(a,c,b){return this.doInsert(a,c,b,"beforebegin")},insertAfter:function(a,c,b){return this.doInsert(a,c,b,"afterend","nextSibling")},insertFirst:function(a,c,b){return this.doInsert(a,c,b,"afterbegin","firstChild")},append:function(a,c,b){return this.doInsert(a,c,b,"beforeend","",true)},overwrite:function(a,c,b){a=Ext.getDom(a);a.innerHTML=this.markup(c);return b?Ext.get(a.firstChild):a.firstChild},doInsert:function(d,f,e,g,c,a){var b=this.insertHtml(g,Ext.getDom(d),this.markup(f));return e?Ext.get(b,true):b}};Ext.DomQuery={select:function(h,b){var g=[],d,f,e,c,a;b=b||document;if(typeof b=="string"){b=document.getElementById(b)}h=h.split(",");for(f=0,c=h.length;f<c;f++){if(typeof h[f]=="string"){d=b.querySelectorAll(h[f]);for(e=0,a=d.length;e<a;e++){g.push(d[e])}}}return g},selectNode:function(b,a){return Ext.DomQuery.select(b,a)[0]},is:function(a,b){if(typeof a=="string"){a=document.getElementById(a)}return Ext.DomQuery.select(b).indexOf(a)!==-1}};Ext.Element.selectorFunction=Ext.DomQuery.select;Ext.query=Ext.DomQuery.select;Ext.Anim=Ext.extend(Object,{isAnim:true,disableAnimations:(Ext.is.Android||Ext.is.Blackberry)?true:false,defaultConfig:{from:{},to:{},duration:250,delay:0,easing:"ease-in-out",autoClear:true,autoReset:false,autoShow:true,out:true,direction:null,reverse:false},opposites:{left:"right",right:"left",up:"down",down:"up"},constructor:function(a){a=Ext.apply({},a||{},this.defaultConfig);this.config=a;Ext.Anim.superclass.constructor.call(this);this.running=[]},initConfig:function(c,b){var e=this,d={},a=Ext.apply({},b||{},e.config);a.el=c=Ext.get(c);if(a.reverse&&e.opposites[a.direction]){a.direction=e.opposites[a.direction]}if(e.config.before){e.config.before.call(a,c,a)}if(b.before){b.before.call(a.scope||a,c,a)}return a},run:function(c,a){c=Ext.get(c);a=a||{};var d=this,b=c.dom.style,e,f=a.after;a=this.initConfig(c,a);if(this.disableAnimations){for(e in a.to){if(!a.to.hasOwnProperty(e)){continue}b[e]=a.to[e]}this.onTransitionEnd(null,c,{config:a,after:f});return d}c.un("webkitTransitionEnd",d.onTransitionEnd,d);b.webkitTransitionDuration="0ms";for(e in a.from){if(!a.from.hasOwnProperty(e)){continue}b[e]=a.from[e]}setTimeout(function(){if(a.is3d===true){c.parent().setStyle({"-webkit-perspective":"1200","-webkit-transform-style":"preserve-3d"})}b.webkitTransitionDuration=a.duration+"ms";b.webkitTransitionProperty="all";b.webkitTransitionTimingFunction=a.easing;c.on("webkitTransitionEnd",d.onTransitionEnd,d,{single:true,config:a,after:f});for(e in a.to){if(!a.to.hasOwnProperty(e)){continue}b[e]=a.to[e]}},a.delay||5);d.running[c.id]=a;return d},onTransitionEnd:function(e,c,g){c=Ext.get(c);var b=c.dom.style,a=g.config,f,d=this;if(a.autoClear){for(f in a.to){if(!a.to.hasOwnProperty(f)){continue}b[f]=""}}b.webkitTransitionDuration=null;b.webkitTransitionProperty=null;b.webkitTransitionTimingFunction=null;if(a.is3d){c.parent().setStyle({"-webkit-perspective":"","-webkit-transform-style":""})}if(d.config.after){d.config.after.call(a,c,a)}if(g.after){g.after.call(a.scope||d,c,a)}delete d.running[c.id]}});Ext.Anim.seed=1000;Ext.Anim.run=function(b,c,a){if(b.isComponent){b=b.el}a=a||{};if(c.isAnim){c.run(b,a)}else{if(Ext.isObject(c)){if(a.before&&c.before){a.before=Ext.createInterceptor(a.before,c.before,c.scope)}if(a.after&&c.after){a.after=Ext.createInterceptor(a.after,c.after,c.scope)}a=Ext.apply({},a,c);c=c.type}if(!Ext.anims[c]){throw c+" is not a valid animation type."}else{if(b&&b.dom){Ext.anims[c].run(b,a)}}}};Ext.anims={fade:new Ext.Anim({before:function(b){var c=1,a=1,e=b.getStyle("z-index")=="auto"?0:b.getStyle("z-index"),d=e;if(this.out){a=0}else{d=e+1;c=0}this.from={opacity:c,"z-index":d};this.to={opacity:a,"z-index":d}}}),slide:new Ext.Anim({direction:"left",cover:false,reveal:false,before:function(b){var a=b.getStyle("z-index")=="auto"?0:b.getStyle("z-index"),e=a+1,h=0,f=0,j=0,g=0,c=b.getHeight(),d=b.getWidth();if(this.direction=="left"||this.direction=="right"){if(this.out==true){h=-d}else{j=d}}else{if(this.direction=="up"||this.direction=="down"){if(this.out==true){f=-c}else{g=c}}}if(this.direction=="right"||this.direction=="down"){f*=-1;h*=-1;g*=-1;j*=-1}if(this.cover&&this.out){h=0;f=0;e=a}else{if(this.reveal&&!this.out){j=0;g=0;e=a}}this.from={"-webkit-transform":"translate3d("+j+"px, "+g+"px, 0)","z-index":e,opacity:0.99};this.to={"-webkit-transform":"translate3d("+h+"px, "+f+"px, 0)","z-index":e,opacity:1}}}),cardslide:new Ext.Anim({direction:"left",cover:false,reveal:false,previousIndex:0,newIndex:0,before:function(b){var a=b.getStyle("z-index")=="auto"?0:b.getStyle("z-index"),e=a+1,h=0,f=0,j=0,g=0,c=b.getHeight(),d=b.getWidth();if(/left|right/i.test(this.direction)){if(this.previousIndex||this.newIndex){this.direction=this.previousIndex>this.newIndex?"right":"left"}if(this.out===true){h=-d}else{j=d}}if(this.direction=="right"){f*=-1;h*=-1;g*=-1;j*=-1}if(this.cover&&this.out){h=0;f=0;e=a}else{if(this.reveal&&!this.out){j=0;g=0;e=a}}this.from={"-webkit-transform":"translate3d("+j+"px, "+g+"px, 0)","z-index":e,opacity:0.99};this.to={"-webkit-transform":"translate3d("+h+"px, "+f+"px, 0)","z-index":e,opacity:1}}}),flip:new Ext.Anim({is3d:true,direction:"left",before:function(c){var f="Y",a=1,b=1,e=0,d=0;if(this.out){d=-180;b=0.8}else{e=180;a=0.8}if(this.direction=="up"||this.direction=="down"){f="X"}if(this.direction=="right"||this.direction=="left"){d*=-1;e*=-1}this.from={"-webkit-transform":"rotate"+f+"("+e+"deg) scale("+a+")","-webkit-backface-visibility":"hidden"};this.to={"-webkit-transform":"rotate"+f+"("+d+"deg) scale("+b+")","-webkit-backface-visibility":"hidden"}}}),cube:new Ext.Anim({is3d:true,direction:"left",style:"outer",before:function(b){var o="0% 0%",p=0,a=0,l="Y",h=0,j=0,m=1,e=1,g,f=b.getWidth(),d=b.getHeight(),n=true,c=" translateX(0)",k="";if(this.direction=="left"||this.direction=="right"){if(this.out){o="100% 100%";j=f;e=0.5;a=-90}else{o="0% 0%";h=f;m=0.5;p=90}}else{if(this.direction=="up"||this.direction=="down"){l="X";if(this.out){o="100% 100%";j=d;a=90}else{o="0% 0%";h=d;p=-90}}}if(this.direction=="down"||this.direction=="right"){p*=-1;a*=-1;o=(o=="0% 0%")?"100% 100%":"0% 0%"}if(this.style=="inner"){h*=-1;j*=-1;p*=-1;a*=-1;if(!this.out){k=" translateX(0px)";o="0% 50%"}else{k=c;o="100% 50%"}}this.from={"-webkit-transform":"rotate"+l+"("+p+"deg)"+(n?" translateZ("+h+"px)":"")+c,"-webkit-transform-origin":o};this.to={"-webkit-transform":"rotate"+l+"("+a+"deg) translateZ("+j+"px)"+k,"-webkit-transform-origin":o}},duration:250}),pop:new Ext.Anim({scaleOnExit:true,before:function(d){var b=1,c=1,g=1,a=1,h=d.getStyle("z-index")=="auto"?0:d.getStyle("z-index"),f=h,e=h;if(!this.out){b=0.01;f=h+1;e=h+1;g=0}else{if(this.scaleOnExit){c=0.01;a=0}else{a=0.8}}this.from={"-webkit-transform":"scale("+b+")","-webkit-transform-origin":"50% 50%",opacity:g,"z-index":f};this.to={"-webkit-transform":"scale("+c+")","-webkit-transform-origin":"50% 50%",opacity:a,"z-index":e}}}),wipe:new Ext.Anim({before:function(d){var e=d.getStyle("z-index"),a="",b="100%",c="100%";if(!this.out){zindex=e+1;a="-webkit-gradient(linear, left bottom, right bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))";b=d.getHeight()*100+"px";c=d.getHeight();this.from={"-webkit-mask-image":a,"-webkit-mask-size":d.getWidth()*3+"px "+d.getHeight()+"px","z-index":zIndex,"-webkit-mask-position-x":0};this.to={"-webkit-mask-image":a,"-webkit-mask-size":d.getWidth()*3+"px "+d.getHeight()+"px","z-index":zIndex,"-webkit-mask-position-x":-d.getWidth()*2+"px"}}},duration:500})};Ext.apply(Ext,{version:"0.9.7",versionDetail:{major:0,minor:9,patch:7},setup:function(b){if(b&&typeof b=="object"){if(b.addMetaTags!==false){var c=Ext.get(document.getElementsByTagName("head")[0]),a,d;if(!Ext.is.Desktop){a=Ext.get(document.createElement("meta"));a.set({name:"viewport",content:"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0;"});c.appendChild(a)}if(Ext.is.iOS){if(b.fullscreen!==false){a=Ext.get(document.createElement("meta"));a.set({name:"apple-mobile-web-app-capable",content:"yes"});c.appendChild(a);if(Ext.isString(b.statusBarStyle)){a=Ext.get(document.createElement("meta"));a.set({name:"apple-mobile-web-app-status-bar-style",content:b.statusBarStyle});c.appendChild(a)}}if(b.tabletStartupScreen&&Ext.is.iPad){a=Ext.get(document.createElement("link"));a.set({rel:"apple-touch-startup-image",href:b.tabletStartupScreen});c.appendChild(a)}if(b.phoneStartupScreen&&!Ext.is.iPad){a=Ext.get(document.createElement("link"));a.set({rel:"apple-touch-startup-image",href:b.phoneStartupScreen});c.appendChild(a)}if(b.icon){b.phoneIcon=b.tabletIcon=b.icon}d=(b.glossOnIcon===false)?"-precomposed":"";if(Ext.is.iPad&&Ext.isString(b.tabletIcon)){a=Ext.get(document.createElement("link"));a.set({rel:"apple-touch-icon"+d,href:b.tabletIcon});c.appendChild(a)}else{if(!Ext.is.iPad&&Ext.isString(b.phoneIcon)){a=Ext.get(document.createElement("link"));a.set({rel:"apple-touch-icon"+d,href:b.phoneIcon});c.appendChild(a)}}}}if(Ext.isFunction(b.onReady)){Ext.onReady(function(){var e=arguments;if(b.fullscreen!==false){Ext.stretchEl=Ext.getBody().createChild({cls:"x-body-stretcher"});Ext.stretchEl.setSize(window.innerWidth,window.innerHeight);Ext.hideAddressBar(function(){if(Ext.is.Android){setInterval(function(){window.scrollTo(0,Ext.is.Android?1:0)},250)}else{document.body.addEventListener("touchstart",function(){Ext.hideAddressBar()},true)}b.onReady.apply(this,e)},this)}else{b.onReady.apply(this,e)}},b.scope)}}},hideAddressBar:function(b,a){setTimeout(function(){window.scrollTo(0,Ext.is.Android?1:0);if(b){setTimeout(function(){b.apply(a||this)},300)}},100)},getDom:function(a){if(!a||!document){return null}return a.dom?a.dom:(typeof a=="string"?document.getElementById(a):a)},removeNode:function(a){if(a&&a.parentNode&&a.tagName!="BODY"){Ext.EventManager.removeAll(a);a.parentNode.removeChild(a);delete Ext.cache[a.id]}}});(function(){var a=function(){var c=Ext.getBody(),b=[];if(!c){return false}var d=Ext.is;if(d.Phone){b.push("x-phone")}else{if(d.Tablet){b.push("x-tablet")}else{if(d.Desktop){b.push("x-desktop")}}}if(d.iPad){b.push("x-ipad")}if(d.iOS){b.push("x-ios")}if(d.Android){b.push("x-android")}if(b.length){c.addClass(b)}return true};if(!a()){Ext.onReady(a)}})();Ext.util.TapRepeater=Ext.extend(Ext.util.Observable,{constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);this.addEvents("touchstart","tap","touchend");this.el.on({touchstart:this.onTouchStart,touchend:this.onTouchEnd,scope:this});if(this.preventDefault||this.stopDefault){this.el.on("tap",this.eventOptions,this)}Ext.util.TapRepeater.superclass.constructor.call(this)},interval:10,delay:250,preventDefault:true,stopDefault:false,timer:0,eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){Ext.destroy(this.el);this.purgeListeners()},onTouchStart:function(a){clearTimeout(this.timer);if(this.pressClass){this.el.addClass(this.pressClass)}this.tapStartTime=new Date();this.fireEvent("touchstart",this,a);this.fireEvent("tap",this,a);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.tap,this.delay||this.interval,this,[a])},tap:function(a){this.fireEvent("tap",this,a);this.timer=Ext.defer(this.tap,this.accelerate?this.easeOutExpo(Ext.util.Date.getElapsed(this.tapStartTime),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(e,a,g,f){return(e==f)?a+g:g*(-Math.pow(2,-10*e/f)+1)+a},onTouchEnd:function(a){clearTimeout(this.timer);this.el.removeClass(this.pressClass);this.fireEvent("touchend",this,a)}});if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}return v}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());Ext.util.JSON={encode:function(a){return JSON.stringify(a)},decode:function(a){return JSON.parse(a)}};Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.util.JSONP={queue:[],current:null,request:function(d){d=d||{};if(!d.url){return}var b=this;d.params=d.params||{};if(d.callbackKey){d.params[d.callbackKey]="Ext.util.JSONP.callback"}var c=Ext.urlEncode(d.params);var a=document.createElement("script");a.type="text/javascript";this.queue.push({url:d.url,script:a,callback:d.callback||function(){},scope:d.scope||window,params:c||null});if(!this.current){this.next()}},next:function(){this.current=null;if(this.queue.length){this.current=this.queue.shift();this.current.script.src=this.current.url+(this.current.params?("?"+this.current.params):"");document.getElementsByTagName("head")[0].appendChild(this.current.script)}},callback:function(a){this.current.callback.call(this.current.scope,a);document.getElementsByTagName("head")[0].removeChild(this.current.script);this.next()}};Ext.util.Scroller=Ext.extend(Ext.util.Observable,{bounces:(Ext.is.Android||Ext.is.Blackberry)?false:true,momentumResetTime:(Ext.is.Android||Ext.is.Blackberry)?1000:100,friction:0.3,acceleration:25,momentum:Ext.is.Blackberry?false:true,horizontal:false,vertical:true,snap:false,scrollbars:true,fps:60,springTension:0.3,ui:"dark",scrollToEasing:"cubic-bezier(0.4, .75, 0.5, .95)",scrollToDuration:300,snapDuration:150,preventActualScroll:false,translateOpen:(Ext.is.Android||Ext.is.Blackberry)?"translate(":"translate3d(",translateClose:(Ext.is.Android||Ext.is.Blackberry)?")":", 0px)",constructor:function(f,d){f=Ext.get(f);var g=this,a=Ext.ScrollManager.get(f.id);if(a){return Ext.apply(a,d)}d=d||{};Ext.apply(g,d);g.addEvents("scrollstart","scrollend","scroll");Ext.util.Scroller.superclass.constructor.call(g);a=g.scroller=this.el=f;this.id=f.id;Ext.ScrollManager.register(this);a.addClass("x-scroller");g.parent=a.parent();g.parent.addClass("x-scroller-parent");g.offset={x:0,y:0};g.omega=1-(g.friction/10);var h=g.eventTarget?Ext.get(g.eventTarget):g.parent;h.on({touchstart:g.onTouchStart,scrollstart:g.onScrollStart,scroll:g.onScroll,scrollend:g.onScrollEnd,horizontal:g.horizontal,vertical:g.vertical,scope:g});if(g.bounces!==false){var e=g.bounces==="both"||g.bounces===true,b=e||g.bounces==="horizontal",c=e||g.bounces==="vertical";g.bounces={horizontal:b,vertical:c}}if(g.scrollbars){if(g.horizontal){g.scrollbarX=new Ext.util.Scroller.Scrollbar(g,"horizontal")}if(g.vertical){g.scrollbarY=new Ext.util.Scroller.Scrollbar(g,"vertical")}}g.scroller.on({webkitTransitionEnd:g.onTransitionEnd,scope:g});return g},onTouchStart:function(f){var d=this,a=d.scroller,c=a.dom.style,b;if(!f||f.touches.length>1){return}d.updateBounds();d.followTouch=f.touch;if(d.animating){clearInterval(d.scrollInterval);if(d.inTransition){b=new WebKitCSSMatrix(window.getComputedStyle(a.dom).webkitTransform);c.webkitTransitionDuration="0ms";c.webkitTransform=d.translateOpen+b.m41+"px, "+b.m42+"px"+d.translateClose;d.offset={x:b.m41,y:b.m42};d.inTransition=false}d.snapToBounds(false);if(d.scrollbarX){d.scrollbarX.stop()}if(d.scrollbarY){d.scrollbarY.stop()}d.animating=false;d.doScrollEnd()}if(d.momentum){d.resetMomentum(f)}},onScrollStart:function(c,a){var b=this;if(!c||c.touch!=b.followTouch){return}if(b.momentum){b.addMomentum(c)}b.fireEvent("scrollstart",b,c)},onScroll:function(b,j){var d=this;if(!b||b.touch!=d.followTouch){return}b.stopEvent();var g=b.previousDeltaX,c=b.previousDeltaY,a=d.horizontal?(d.offset.x+g):0,k=d.vertical?(d.offset.y+c):0,h=d.constrainToBounds({x:a,y:k}),f;d.bouncing={x:false,y:false};if(d.bounces){if(d.bounces.horizontal&&h.x!=a){a=d.offset.x+(g/2);d.bouncing.x=true}else{a=h.x}if(d.bounces.vertical&&h.y!=k){k=d.offset.y+(c/2);d.bouncing.y=true}else{k=h.y}f={x:a,y:k}}else{f=h}d._scrollTo(f);if(d.momentum){d.addMomentum(b)}},doScrollEnd:function(){var a=this;if(a.scrollbarX){a.scrollbarX.hide(true)}if(a.scrollbarY){a.scrollbarY.hide(true)}a.fireEvent("scrollend",a,a.getOffset())},onScrollEnd:function(g,k){var j=this;if(g.touch!=j.followTouch){return}if(j.momentum){j.validateMomentum(g);if(j.momentumPoints.length>1){var b=j.momentumPoints,f=b.shift(),h=b.pop(),a={x:h.offset.x-f.offset.x,y:h.offset.y-f.offset.y},d=(h.time-f.time),c={x:a.x/(d/j.acceleration),y:a.y/(d/j.acceleration)};j.applyVelocity(c)}}if(!j.animating){j.snapToBounds(true)}if(!j.animating){j.doScrollEnd()}},onTransitionEnd:function(){var a=this;if(a.inTransition){a.scroller.dom.style.webkitTransitionDuration="0ms";a.inTransition=false;a.animating=false;a.doScrollEnd()}},scrollTo:function(e,a,d){var c=this;e=c.constrainToBounds({x:Math.round(-e.x||0),y:Math.round(-e.y||0)});clearInterval(c.scrollInterval);if(c.offset.x==e.x&&c.offset.y==e.y){return false}if(a&&!c.preventActualScroll){c.animating=true;c.inTransition=true;var b=c.scroller.dom.style;b.webkitTransitionTimingFunction=d||c.scrollToEasing;b.webkitTransitionDuration=(typeof a=="number")?(a+"ms"):(c.scrollToDuration+"ms");b.webkitTransform=c.translateOpen+e.x+"px, "+e.y+"px"+c.translateClose;c.offset=e;if(c.scrollbarX){c.scrollbarX.scrollTo(e,a,d||c.scrollToEasing)}if(c.scrollbarY){c.scrollbarY.scrollTo(e,a,d||c.scrollToEasing)}}else{c._scrollTo({x:e.x,y:e.y});c.doScrollEnd()}return c},_scrollTo:function(c){var b=this;b.offset={x:Math.round(c.x),y:Math.round(c.y)};if(!b.preventActualScroll){var a=b.scroller.dom.style;a.webkitTransitionDuration="0ms";a.webkitTransform=b.translateOpen+b.offset.x+"px, "+b.offset.y+"px"+b.translateClose;if(b.scrollbarX){b.scrollbarX.scrollTo(b.offset)}if(b.scrollbarY){b.scrollbarY.scrollTo(b.offset)}}b.fireEvent("scroll",b,b.getOffset())},getOffset:function(){return{x:-this.offset.x,y:-this.offset.y}},applyVelocity:function(d){d=d||{x:0,y:0};var c=this,f=c.offset,b=(new Date()).getTime(),a=c.deceleration={startTime:b,startOffset:{x:f.x,y:f.y},logFriction:Math.log(c.omega),velocity:d},g=c.constrainToBounds(f),e=c.bounce={};c.decelerating=true;c.bouncing={x:false,y:false};if(c.bounces){if(c.bounces.horizontal&&g.x!=f.x){e.horizontal={startTime:b-((1/c.springTension)*c.acceleration),startOffset:g.x,velocity:(f.x-g.x)*c.springTension*Math.E};d.x=0;c.bouncing.x=true}if(c.bounces.vertical&&g.y!=f.y){e.vertical={startTime:b-((1/c.springTension)*c.acceleration),startOffset:g.y,velocity:(f.y-g.y)*c.springTension*Math.E};d.y=0;c.bouncing.y=true}}c.animating=true;c.decelerating=true;c.scrollInterval=setInterval(function(){c.handleScrollFrame()},1000/this.fps)},handleScrollFrame:function(){var j=this,e=j.deceleration,n=j.bounce=j.bounce||{},c=j.offset,a=(new Date()).getTime(),f=(a-e.startTime),l=Math.pow(j.omega,f/j.acceleration),d={x:e.velocity.x*l,y:e.velocity.y*l},h={x:c.x,y:c.y},b={},m,g,k;if(Math.abs(d.x)<1&&Math.abs(d.y)<1){j.decelerating=false}if(!n.horizontal&&Math.abs(d.x)>=1){b.x=((e.velocity.x/e.logFriction)-(e.velocity.x*(l/e.logFriction)));h.x=e.startOffset.x-b.x}if(!n.vertical&&Math.abs(d.y)>=1){b.y=((e.velocity.y/e.logFriction)-(e.velocity.y*(l/e.logFriction)));h.y=e.startOffset.y-b.y}k=j.constrainToBounds(h);if(k.x!=h.x){if(j.bounces&&j.bounces.horizontal){if(!n.horizontal){n.horizontal={startTime:a,startOffset:k.x,velocity:d.x};j.bouncing.x=true}}else{h.x=k.x}e.velocity.x=0}if(k.y!=h.y){if(j.bounces&&j.bounces.vertical){if(!n.vertical){n.vertical={startTime:a,startOffset:k.y,velocity:d.y};j.bouncing.y=true}}else{h.y=k.y}e.velocity.y=0}if(n.horizontal&&n.horizontal.startTime!=a){f=(a-n.horizontal.startTime);m=(f/j.acceleration)*Math.pow(Math.E,-j.springTension*(f/j.acceleration));b.x=n.horizontal.velocity*m;g=n.horizontal.startOffset;if(Math.abs(b.x)<=1){b.x=0;delete n.horizontal}h.x=g+b.x}if(n.vertical&&n.vertical.startTime!=a){f=(a-n.vertical.startTime);m=(f/j.acceleration)*Math.pow(Math.E,-j.springTension*(f/j.acceleration));b.y=n.vertical.velocity*m;g=n.vertical.startOffset;if(Math.abs(b.y)<=1){b.y=0;delete n.vertical}h.y=g+b.y}if(!n.vertical&&!n.horizontal){j.bouncing={x:false,y:false}}j._scrollTo(h);if((!j.bounces||(!j.bouncing.x&&!j.bouncing.y))&&!j.decelerating){clearInterval(j.scrollInterval);j.animating=false;j.snapToBounds(false);if(!this.animating){j.doScrollEnd()}return}},setSnap:function(a){this.snap=a},snapToBounds:function(a,d){var b=this,c=b.constrainToBounds(b.offset);if(b.snap){if(b.snap===true){b.snap={x:50,y:50}}else{if(Ext.isNumber(b.snap)){b.snap={x:b.snap,y:b.snap}}}if(b.snap.y){c.y=Math.round(c.y/b.snap.y)*b.snap.y}if(b.snap.x){c.x=Math.round(c.x/b.snap.x)*b.snap.x}}if(c.x!=b.offset.x||c.y!=b.offset.y){if(b.snap){b.scrollTo({x:-c.x,y:-c.y},b.snapDuration,"ease-in-out")}else{if(a){b.applyVelocity()}else{b._scrollTo(c)}}}},updateBounds:function(b){var a=this;a.parentSize={width:a.parent.getWidth(true),height:a.parent.getHeight(true)};a.contentSize={width:a.scroller.dom.scrollWidth,height:a.scroller.dom.scrollHeight};a.size={width:Math.max(a.contentSize.width,a.parentSize.width),height:Math.max(a.contentSize.height,a.parentSize.height)};a.bounds={x:a.parentSize.width-a.size.width,y:a.parentSize.height-a.size.height};if(b){if(this.scrollTo(a.getOffset())!==false){a.doScrollEnd()}}if(a.scrollbarX){a.scrollbarX.update()}if(a.scrollbarY){a.scrollbarY.update()}},constrainToBounds:function(a){if(!this.bounds){this.updateBounds()}return{x:Math.min(Math.max(this.bounds.x,a.x),0),y:Math.min(Math.max(this.bounds.y,a.y),0)}},resetMomentum:function(a){this.momentumPoints=[];if(a){this.addMomentum(a)}},addMomentum:function(b){var a=this;a.validateMomentum(b);a.momentumPoints.push({time:b.time,offset:{x:a.offset.x,y:a.offset.y}})},validateMomentum:function(c){var a=this.momentumPoints,b=c.time;while(a.length){if(b-a[0].time<=this.momentumResetTime){break}a.shift()}},destroy:function(){var a=this;a.scroller.removeClass("x-scroller");a.parent.removeClass("x-scroller-parent");a.parent.un({touchstart:a.onTouchStart,scrollstart:a.onScrollStart,scrollend:a.onScrollEnd,scroll:a.onScroll,horizontal:a.horizontal,vertical:a.vertical,scope:a});clearInterval(a.scrollInterval);if(a.scrollbars){if(a.horizontal){a.scrollbarX.destroy()}if(a.vertical){a.scrollbarY.destroy()}}a.scroller.un({DOMSubtreeModified:a.updateBounds,webkitTransitionEnd:a.onTransitionEnd,scope:a});Ext.ScrollManager.unregister(this)}});Ext.ScrollManager=new Ext.AbstractManager();Ext.util.Scroller.Scrollbar=Ext.extend(Object,{minSize:4,size:0,offset:10,translateOpen:(Ext.is.Android||Ext.is.Blackberry)?"translate(":"translate3d(",translateClose:(Ext.is.Android||Ext.is.Blackberry)?")":", 0px)",constructor:function(a,c){var b=this;b.scroller=a;b.container=a.parent;b.direction=c;b.bar=b.container.createChild({cls:"x-scrollbar x-scrollbar-"+c+" x-scrollbar-"+a.ui});b.bar.on("webkitTransitionEnd",this.onTransitionEnd,this);b.hide()},destroy:function(){this.bar.un("webkitTransitionEnd",this.onTransitionEnd,this);this.bar.remove()},update:function(){var e=this,b=e.scroller,g=b.contentSize,f=b.parentSize,c=b.size,a,d;if(e.direction=="vertical"){if(g.height>f.height){e.size=Math.round((f.height*f.height)/c.height);e.autoShow=true}else{e.autoShow=false}}else{if(g.width>f.width){e.size=Math.round((f.width*f.width)/c.width);e.autoShow=true}else{e.autoShow=false}}},scrollTo:function(f,b,d){var e=this,c=e.scroller,a=e.bar.dom.style,j=0,h=0,k=e.size,g;if(!e.autoShow){return}if(e.hideTimeout){clearTimeout(e.hideTimeout);e.hideTimeout=null}if(e.hidden){e.show()}if(e.direction=="horizontal"){if(c.bouncing&&c.bouncing.x){g=c.constrainToBounds(f);k=Math.max(k-Math.abs(f.x-g.x),e.minSize);if(f.x>=0){j=g.x+e.offset}else{j=c.parentSize.width-k-e.offset}a.width=k+"px";e.resized=true}else{j=((c.parentSize.width-k-(e.offset*2))/c.bounds.x*c.offset.x)+e.offset;if(e.resized==undefined||e.resized){a.width=k+"px";e.resized=false}}}else{if(c.bouncing&&c.bouncing.y){g=c.constrainToBounds(f);k=Math.max(k-Math.abs(f.y-g.y),e.minSize);if(f.y>=0){h=g.y+e.offset}else{h=c.parentSize.height-k-e.offset}a.height=k+"px";e.resized=true}else{h=((c.parentSize.height-k-(e.offset*2))/c.bounds.y*c.offset.y)+e.offset;if(e.resized==undefined||e.resized){a.height=k+"px";e.resized=false}}}if(b){a.webkitTransitionDuration=(typeof b=="number"?b:c.scrollToDuration)+"ms, 0ms";a.webkitTransitionTimingFunction=d;e.inTransition=true}else{a.webkitTransitionDuration="";e.inTransition=false}a.webkitTransform=e.translateOpen+j+"px, "+h+"px"+this.translateClose},hide:function(a){var b=this;if(a){b.hideTimeout=setTimeout(function(){b.bar.setStyle("opacity","0");b.hidden=true;b.hideTimeout=null},1000)}else{b.bar.setStyle("opacity","0");b.hidden=true}},show:function(){this.bar.setStyle("opacity","1");this.hidden=false},onTransitionEnd:function(){this.inTransition=false},stop:function(){var c=this,b=c.bar.dom.style,a;if(this.inTransition){b.webkitTransitionDuration="";a=new WebKitCSSMatrix(window.getComputedStyle(c.bar.dom).webkitTransform);b.webkitTransform=c.translateOpen+a.m41+"px, "+a.m42+"px"+c.translateClose}}});Ext.util.Draggable=Ext.extend(Ext.util.Observable,{baseCls:"x-draggable",dragCls:"x-dragging",proxyCls:"x-draggable-proxy",direction:"both",delay:0,cancelSelector:null,disabled:false,revert:false,constrain:window,group:"base",grid:null,snap:null,proxy:null,stack:false,constrainRegion:null,dragging:false,vertical:false,horizontal:false,threshold:0,translateOpen:(Ext.is.Android||Ext.is.Blackberry)?"translate(":"translate3d(",translateClose:(Ext.is.Android||Ext.is.Blackberry)?")":", 0px)",constructor:function(b,a){a=a||{};Ext.apply(this,a);this.addEvents("dragstart","beforedragend","dragend","drag");this.el=Ext.get(b);Ext.util.Draggable.superclass.constructor.call(this);if(this.direction=="both"){this.horizontal=true;this.vertical=true}else{if(this.direction=="horizontal"){this.horizontal=true}else{this.vertical=true}}this.el.addClass(this.baseCls);this.tapEvent=(this.delay>0)?"taphold":"tapstart";this.initialRegion={top:0,left:0,right:0,bottom:0};if(!this.disabled){this.enable()}},onTapEvent:function(b,a){if(this.cancelSelector&&b.getTarget(this.cancelSelector)){return}if(!this.dragging){this.canDrag=true}},prepareDrag:function(c){this.reset();if(this.constrain){if(this.constrain===window){var a=window.innerWidth,b=window.innerHeight;this.constrainRegion=new Ext.util.Region(0,a,b,0)}else{this.constrainRegion=Ext.fly(this.constrain).getPageBox(true)}}this.startRegion=this.getProxyEl().getPageBox(true);this.offsetToCorner={x:c.pageX-this.startRegion.left,y:c.pageY-this.startRegion.top}},onDragStart:function(a){this.prepareDrag(a);if(!this.dragging){this.el.addClass(this.dragCls);this.dragging=true;this.fireEvent("dragstart",this,a)}},onTouchMove:function(c){if(!this.canDrag){return}if(!this.dragging){if(Math.abs(c.deltaX)>=this.threshold||Math.abs(c.deltaY)>=this.threshold){this.onDragStart(c)}else{return}}var a=0,f=0,b=this.initialRegion,d=this.constrainRegion;if(this.horizontal){a=c.pageX-this.initialRegion.left-this.offsetToCorner.x}if(this.vertical){f=c.pageY-this.initialRegion.top-this.offsetToCorner.y}if(this.constrain){if(b.left+a<d.left){a=d.left-b.left}if(b.right+a>d.right){a=d.right-b.right}if(b.top+f<d.top){f=d.top-b.top}if(b.bottom+f>d.bottom){f=d.bottom-b.bottom}}this.transformTo(a,f);this.fireEvent("drag",this,c)},transformTo:function(b,f){var e=this,a=e.getProxyEl(),c=e.initialRegion,d=e.startPosition||{x:0,y:0};a.dom.style.webkitTransform=e.translateOpen+b+"px, "+f+"px"+e.translateClose;e.transform={x:b,y:f};e.position={x:d.x+b,y:d.y+f};e.region=new Ext.util.Region(c.top+f,c.right+b,c.bottom+f,c.left+b)},moveTo:function(a,b){this.transformTo(a-this.initialRegion.left,b-this.initialRegion.top)},reset:function(){var a=this.getProxyEl();this.startPosition=this.position={x:a.getLeft()||0,y:a.getTop()||0};this.transformTo(0,0);this.initialRegion=this.region=a.getPageBox(true);this.transform={x:0,y:0}},onTouchEnd:function(d){this.canDrag=false;this.dragging=false;this.fireEvent("beforedragend",this,d);var b=this.getProxyEl();if(this.revert&&!this.cancelRevert&&this.transform){new Ext.Anim({from:{"-webkit-transform":"translate3d("+this.transform.x+"px, "+this.transform.y+"px, 0px)"},to:{"-webkit-transform":"translate3d(0px, 0px, 0px)"},duration:200}).run(b)}else{if(this.transform){var c=b.dom.style,a=this.position;c.webkitTransform=null;c.left=a.x+"px";c.top=a.y+"px"}}this.transform=this.startPosition=null;this.el.removeClass(this.dragCls);this.fireEvent("dragend",this,d)},enable:function(){this.el.on(this.tapEvent,this.onTapEvent,this,{horizontal:this.horizontal,vertical:this.vertical});this.el.on({touchmove:this.onTouchMove,touchend:this.onTouchEnd,scope:this});this.disabled=false},disable:function(){this.el.un(this.tapEvent,this.onTapEvent,this);this.disabled=true},destroy:function(){this.el.removeClass(this.baseCls);this.purgeListeners();this.el.un(this.tapEvent,this.onTapEvent,this,{holdThreshold:this.delay});this.el.un({touchmove:this.onTouchMove,touchend:this.onTouchEnd,scope:this})},getProxyEl:function(){return this.proxy||this.el}});Ext.util.Droppable=Ext.extend(Ext.util.Observable,{baseCls:"x-droppable",activeCls:"x-drop-active",invalidCls:"x-drop-invalid",hoverCls:"x-drop-hover",validDropMode:"intersect",disabled:false,group:"base",tolerance:null,constructor:function(b,a){a=a||{};Ext.apply(this,a);this.addEvents("dropactivate","dropdeactivate","dropenter","dropleave","drop");this.el=Ext.get(b);Ext.util.Droppable.superclass.constructor.call(this);if(!this.disabled){this.enable()}this.el.addClass(this.baseCls)},onDragStart:function(a,b){if(a.group===this.group){this.monitoring=true;this.el.addClass(this.activeCls);this.region=this.el.getPageBox(true);a.on({drag:this.onDrag,beforedragend:this.onBeforeDragEnd,dragend:this.onDragEnd,scope:this});if(this.isDragOver(a)){this.setCanDrop(true,a,b)}this.fireEvent("dropactivate",this,a,b)}else{a.on({dragend:function(){this.el.removeClass(this.invalidCls)},scope:this,single:true});this.el.addClass(this.invalidCls)}},isDragOver:function(a,b){return this.region[this.validDropMode](a.region)},onDrag:function(a,b){this.setCanDrop(this.isDragOver(a),a,b)},setCanDrop:function(c,a,b){if(c&&!this.canDrop){this.canDrop=true;this.el.addClass(this.hoverCls);this.fireEvent("dropenter",this,a,b)}else{if(!c&&this.canDrop){this.canDrop=false;this.el.removeClass(this.hoverCls);this.fireEvent("dropleave",this,a,b)}}},onBeforeDragEnd:function(a,b){a.cancelRevert=this.canDrop},onDragEnd:function(a,b){this.monitoring=false;this.el.removeClass(this.activeCls);a.un({drag:this.onDrag,beforedragend:this.onBeforeDragEnd,dragend:this.onDragEnd,scope:this});if(this.canDrop){this.canDrop=false;this.el.removeClass(this.hoverCls);this.fireEvent("drop",this,a,b)}this.fireEvent("dropdeactivate",this,a,b)},enable:function(){if(!this.mgr){this.mgr=Ext.util.Observable.observe(Ext.util.Draggable)}this.mgr.on({dragstart:this.onDragStart,scope:this});this.disabled=false},disable:function(){this.mgr.un({dragstart:this.onDragStart,scope:this});this.disabled=true}});Ext.util.Sortable=Ext.extend(Ext.util.Observable,{baseCls:"x-sortable",direction:"vertical",cancelSelector:null,constrain:window,group:"base",revert:true,itemSelector:null,handleSelector:null,disabled:false,delay:0,sorting:false,vertical:false,horizontal:false,constructor:function(b,a){a=a||{};Ext.apply(this,a);this.addEvents("sortstart","sortend","sortchange");this.el=Ext.get(b);Ext.util.Sortable.superclass.constructor.call(this);if(this.direction=="horizontal"){this.horizontal=true}else{if(this.direction=="vertical"){this.vertical=true}else{this.horizontal=this.vertical=true}}this.el.addClass(this.baseCls);this.tapEvent=(this.delay>0)?"taphold":"tapstart";if(!this.disabled){this.enable()}},onTapEvent:function(c,a){if(this.cancelSelector&&c.getTarget(this.cancelSelector)){return}if(this.handleSelector&&!c.getTarget(this.handleSelector)){return}if(!this.sorting){var b=c.getTarget(this.itemSelector);if(b){this.onSortStart(c,b)}}},onSortStart:function(c,b){this.sorting=true;var a=new Ext.util.Draggable(b,{delay:this.delay,revert:this.revert,direction:this.direction,constrain:this.constrain===true?this.el:this.constrain});a.on({drag:this.onDrag,dragend:this.onDragEnd,scope:this});this.dragEl=b;this.calculateBoxes();a.canDrag=true;a.onDragStart(c);this.fireEvent("sortstart",this,c)},calculateBoxes:function(){this.items=[];var b=this.el.select(this.itemSelector,false),f=b.length,a,e,c,d;for(a=0;a<f;a++){c=b[a];if(c!=this.dragEl){e=Ext.fly(c).getPageBox(true);e.el=c;this.items.push(e)}}},onDrag:function(l,c){var g=this.items,f=g.length,h=l.region,d=false,b,a,j,k;for(b=0;b<f;b++){k=g[b];a=h.intersect(k);if(a){if(this.vertical&&Math.abs(a.top-a.bottom)>(h.bottom-h.top)/2){if(h.bottom>k.top&&k.top>h.top){l.el.insertAfter(k.el)}else{l.el.insertBefore(k.el)}d=true}else{if(this.horizontal&&Math.abs(a.left-a.right)>(h.right-h.left)/2){if(h.right>k.left&&k.left>h.left){l.el.insertAfter(k.el)}else{l.el.insertBefore(k.el)}d=true}}if(d){l.reset();l.moveTo(h.left,h.top);this.calculateBoxes();this.fireEvent("sortchange",this,l.el,this.el.select(this.itemSelector,false).indexOf(l.el.dom));return}}}},onDragEnd:function(a,b){a.destroy();this.sorting=false;this.fireEvent("sortend",this,a,b)},enable:function(){this.el.on(this.tapEvent,this.onTapEvent,this,{holdThreshold:this.delay});this.disabled=false},disable:function(){this.el.un(this.tapEvent,this.onTapEvent,this);this.disabled=true}});(function(){Date.useStrict=false;function b(d){var c=Array.prototype.slice.call(arguments,1);return d.replace(/\{(\d+)\}/g,function(e,f){return c[f]})}Date.formatCodeToRegex=function(d,c){var e=Date.parseCodes[d];if(e){e=typeof e=="function"?e():e;Date.parseCodes[d]=e}return e?Ext.applyIf({c:e.c?b(e.c,c||"{0}"):e.c},e):{g:0,c:null,s:Ext.util.Format.escapeRegex(d)}};var a=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{"M$":function(d,c){var e=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");var f=(d||"").match(e);return f?new Date(((f[1]||"")+f[2])*1):null}},parseRegexes:[],formatFunctions:{"M$":function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(c){return Date.monthNames[c].substring(0,3)},getShortDayName:function(c){return Date.dayNames[c].substring(0,3)},getMonthNumber:function(c){return Date.monthNumbers[c.substring(0,1).toUpperCase()+c.substring(1,3).toLowerCase()]},formatCodes:{d:"Ext.util.Format.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"Ext.util.Format.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"Ext.util.Format.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.util.Format.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.util.Format.leftPad(this.getHours(), 2, '0')",i:"Ext.util.Format.leftPad(this.getMinutes(), 2, '0')",s:"Ext.util.Format.leftPad(this.getSeconds(), 2, '0')",u:"Ext.util.Format.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var j="Y-m-dTH:i:sP",g=[],f=0,d=j.length;f<d;++f){var h=j.charAt(f);g.push(h=="T"?"'T'":Date.getFormatCode(h))}return g.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(n,c,l,j,f,g,e){j=j||0;f=f||0;g=g||0;e=e||0;var k=new Date(n,c-1,l,j,f,g,e);return n==k.getFullYear()&&c==k.getMonth()+1&&l==k.getDate()&&j==k.getHours()&&f==k.getMinutes()&&g==k.getSeconds()&&e==k.getMilliseconds()},parseDate:function(d,f,c){var e=Date.parseFunctions;if(e[f]==null){Date.createParser(f)}return e[f](d,Ext.isDefined(c)?c:Date.useStrict)},getFormatCode:function(d){var c=Date.formatCodes[d];if(c){c=typeof c=="function"?c():c;Date.formatCodes[d]=c}return c||("'"+Ext.util.Format.escape(d)+"'")},createFormat:function(g){var f=[],c=false,e="";for(var d=0;d<g.length;++d){e=g.charAt(d);if(!c&&e=="\\"){c=true}else{if(c){c=false;f.push("'"+Ext.util.Format.escape(e)+"'")}else{f.push(Date.getFormatCode(e))}}}Date.formatFunctions[g]=new Function("return "+f.join("+"))},createParser:function(){var c=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = Ext.num(y, Ext.num(def.y, dt.getFullYear()));","m = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));","d = Ext.num(d, Ext.num(def.d, dt.getDate()));","h  = Ext.num(h, Ext.num(def.h, dt.getHours()));","i  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));","s  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));","ms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = new Date(y, 0, 1, h, i, s, ms);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y, m, d, h, i, s, ms);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(l){var e=Date.parseRegexes.length,n=1,f=[],k=[],j=false,d="",h=0,g,m;for(;h<l.length;++h){d=l.charAt(h);if(!j&&d=="\\"){j=true}else{if(j){j=false;k.push(Ext.util.Format.escape(d))}else{g=a(d,n);n+=g.g;k.push(g.s);if(g.g&&g.c){if(g.last){m=g}else{f.push(g.c)}}}}}if(m){f.push(m)}Date.parseRegexes[e]=new RegExp("^"+k.join("")+"$");Date.parseFunctions[l]=new Function("input","strict",b(c,e,f.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var c=[],d=0;d<7;c.push(Date.getShortDayName(d)),++d){}return{g:0,c:null,s:"(?:"+c.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var c=[],d=0;d<12;c.push(Date.getShortMonthName(d)),++d){}return Ext.applyIf({s:"("+c.join("|")+")"},a("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return a("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:function(){return a("A")},A:{calcLast:true,g:1,c:"if (results[{0}] == 'AM') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM)"},g:function(){return a("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return a("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.util.Format.leftPad(hr, 2, '0') + Ext.util.Format.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.util.Format.leftPad(hr, 2, '0') + Ext.util.Format.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e=[],c=[a("Y",1),a("m",2),a("d",3),a("h",4),a("i",5),a("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",a("P",8).c,"}else{",a("O",8).c,"}","}"].join("\n")}];for(var f=0,d=c.length;f<d;++f){e.push(c[f].c)}return{g:1,c:e.join(""),s:[c[0].s,"(?:","-",c[1].s,"(?:","-",c[2].s,"(?:","(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}());Ext.apply(Date.prototype,{dateFormat:function(a){if(Date.formatFunctions[a]==null){Date.createFormat(a)}return Date.formatFunctions[a].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a){return(this.getTimezoneOffset()>0?"-":"+")+Ext.util.Format.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(a?":":"")+Ext.util.Format.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var b=0,e=this.clone(),a=this.getMonth(),c;for(c=0,e.setDate(1),e.setMonth(0);c<a;e.setMonth(++c)){b+=e.getDaysInMonth()}return b+this.getDate()-1},getWeekOfYear:function(){var a=86400000,b=7*a;return function(){var d=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/a,c=Math.floor(d/7),e=new Date(c*b).getUTCFullYear();return c-Math.floor(Date.UTC(e,0,7)/b)+1}}(),isLeapYear:function(){var a=this.getFullYear();return !!((a&3)==0&&(a%100||(a%400==0&&a)))},getFirstDayOfMonth:function(){var a=(this.getDay()-(this.getDate()-1))%7;return(a<0)?(a+7):a},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var b=this.getMonth();return b==1&&this.isLeapYear()?29:a[b]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return new Date(this.getFullYear(),0,1).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(f){if(f){return this.clone().clearTime()}var b=this.getDate();this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(this.getDate()!=b){for(var a=1,e=this.add(Date.HOUR,a);e.getDate()!=b;a++,e=this.add(Date.HOUR,a)){}this.setDate(b);this.setHours(e.getHours())}return this},add:function(b,c){var e=this.clone();if(!b||c===0){return e}switch(b.toLowerCase()){case Date.MILLI:e.setMilliseconds(this.getMilliseconds()+c);break;case Date.SECOND:e.setSeconds(this.getSeconds()+c);break;case Date.MINUTE:e.setMinutes(this.getMinutes()+c);break;case Date.HOUR:e.setHours(this.getHours()+c);break;case Date.DAY:e.setDate(this.getDate()+c);break;case Date.MONTH:var a=this.getDate();if(a>28){a=Math.min(a,this.getFirstDateOfMonth().add("mo",c).getLastDateOfMonth().getDate())}e.setDate(a);e.setMonth(this.getMonth()+c);break;case Date.YEAR:e.setFullYear(this.getFullYear()+c);break}return e},between:function(c,a){var b=this.getTime();return c.getTime()<=b&&b<=a.getTime()}});Date.prototype.format=Date.prototype.dateFormat;Ext.data.Connection=Ext.extend(Ext.util.Observable,{method:"post",url:null,disableCaching:true,disableCachingParam:"_dc",timeout:30000,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",requests:{},constructor:function(a){a=a||{};Ext.apply(this,a);this.addEvents("beforerequest","requestcomplete","requestexception");Ext.data.Connection.superclass.constructor.call(this)},request:function(d){var m=this;if(m.fireEvent("beforerequest",m,d)!==false){var h=d.params,c=d.url||m.url,j,k,g,f=d.urlParams,b,q,r;if(Ext.isFunction(h)){h=h.call(d.scope||window,d)}if(Ext.isFunction(c)){c=c.call(d.scope||window,d)}k=d.rawData||d.xmlData||d.jsonData||null;if(d.jsonData&&!Ext.isPrimitive(d.jsonData)){k=Ext.encode(k)}h=Ext.isObject(h)?Ext.urlEncode(h):h;f=Ext.isObject(f)?Ext.urlEncode(f):f;b=(d.method||m.method||((h||k)?"POST":"GET")).toUpperCase();if(b==="GET"&&d.disableCaching!==false&&!m.disableCaching){c=Ext.urlAppend(c,d.disableCachingParam||m.disableCachingParam+"="+(new Date().getTime()))}if((b=="GET"||k)&&h){c=Ext.urlAppend(c,h);h=null}if(f){c=Ext.urlAppend(c,f)}if(d.autoAbort===true||m.autoAbort){m.abort()}r=this.getXhrInstance();r.open(b.toUpperCase(),c,true);g=Ext.apply({},d.headers||{},m.defaultHeaders||{});if(!g["Content-Type"]&&(k||h)){var p=m.defaultPostHeader,n=d.jsonData,a=d.xmlData;if(k){if(d.rawData){p="text/plain"}else{if(a&&a.length){p="text/xml"}else{if(n&&n.length){p="application/json"}}}}g["Content-Type"]=p}if(m.useDefaultXhrHeader&&!g["X-Requested-With"]){g["X-Requested-With"]=m.defaultXhrHeader}for(q in g){if(g.hasOwnProperty(q)){try{r.setRequestHeader(q,g[q])}catch(l){m.fireEvent("exception",q,g[q])}}}j={id:++Ext.data.Connection.requestId,xhr:r,headers:g,options:d,timeout:setTimeout(function(){j.timedout=true;m.abort(j)},d.timeout||m.timeout)};m.requests[j.id]=j;r.onreadystatechange=Ext.createDelegate(m.onStateChange,m,[j]);r.send(k||h||null);return j}else{return d.callback?d.callback.apply(d.scope,[d,undefined,undefined]):null}},getXhrInstance:function(){return new XMLHttpRequest()},isLoading:function(a){return a&&!{0:true,4:true}[a.xhr.readyState]},abort:function(a){if(a&&this.isLoading(a)){a.xhr.abort();clearTimeout(a.timeout);delete (a.timeout);a.aborted=true;this.onComplete(a)}else{if(!a){var b;for(b in this.requests){if(!this.requests.hasOwnProperty(b)){continue}this.abort(this.requests[b])}}}},onStateChange:function(a){if(a.xhr.readyState==4){clearTimeout(a.timeout);delete a.timeout;this.onComplete(a)}},onComplete:function(d){var a=d.xhr.status,c=d.options,e=true,b;if((a>=200&&a<300)||a==304){b=this.createResponse(d);this.fireEvent("requestcomplete",this,b,c);if(c.success){if(!c.scope){c.success(b,c)}else{c.success.call(c.scope,b,c)}}}else{e=false;switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:b=this.createException(d);break;default:b=this.createResponse(d)}this.fireEvent("requestexception",this,b,c);if(c.failure){if(!c.scope){c.failure(b,c)}else{c.failure.call(c.scope,b,c)}}}if(c.callback){if(!c.scope){c.callback(c,e,b)}else{c.callback.call(c.scope,c,e,b)}}delete this.requests[d.id]},createResponse:function(a){var g=a.xhr,b={},h=g.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),c=h.length,j,d,f,e;while(c--){j=h[c];d=j.indexOf(":");if(d>=0){f=j.substr(0,d).toLowerCase();if(j.charAt(d+1)==" "){++d}b[f]=j.substr(d+1)}}delete a.xhr;return{request:a,requestId:a.id,status:g.status,statusText:g.statusText,getResponseHeader:function(k){return b[k.toLowerCase()]},getAllResponseHeaders:function(){return b},responseText:g.responseText,responseXML:g.responseXML}},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}}});Ext.data.Connection.requestId=0;Ext.Ajax=new Ext.data.Connection({autoAbort:false});Ext.gesture.Manager=new Ext.AbstractManager({startEvent:"touchstart",moveEvent:"touchmove",endEvent:"touchend",init:function(){this.targets=[];if(!Ext.supports.Touch){Ext.apply(this,{startEvent:"mousedown",moveEvent:"mousemove",endEvent:"mouseup"})}this.followTouches=[];this.currentGestures=[];this.currentTargets=[];document.addEventListener(this.startEvent,this.onTouchStart,true);document.addEventListener(this.moveEvent,this.onTouchMove,false);document.addEventListener(this.endEvent,this.onTouchEnd,true);if(Ext.is.Blackberry){document.addEventListener("mousedown",this.onMouseDown,false)}},onMouseDown:function(a){a.stopPropagation();a.preventDefault()},onTouchStart:function(d){var b=Ext.gesture.Manager,a=[],c;b.locks={};c=d.target;b.currentTargets=[c];if(Ext.is.Android){if(!(/input|select|textarea/i.test(c.tagName))){d.preventDefault();d.stopPropagation()}}while(c){if(b.targets.indexOf(c)!=-1){a.unshift(c)}c=c.parentNode;b.currentTargets.push(c)}b.startEvent=d;b.handleTargets(a,d)},onTouchEnd:function(f){var d=Ext.gesture.Manager,g=d.currentGestures.slice(0),c=g.length,b,a;d.followTouches=[];d.startedChangedTouch=false;d.currentTargets=[];d.startEvent=null;for(b=0;b<c;b++){a=g[b];if(!f.stopped&&a.listenForEnd){a.onTouchEnd(f,f.changedTouches?f.changedTouches[0]:f)}d.stopGesture(a)}},onTouchMove:function(a){a.preventDefault()},startGesture:function(a){var b=this;if(a.listenForMove){a.onTouchMoveWrap=function(c){if(!c.stopped){a.onTouchMove(c,c.changedTouches?c.changedTouches[0]:c)}};a.target.addEventListener(b.moveEvent,a.onTouchMoveWrap,!!a.capture)}this.currentGestures.push(a)},stopGesture:function(a){if(a.listenForMove){a.target.removeEventListener(this.moveEvent,a.onTouchMoveWrap,!!a.capture)}this.currentGestures.remove(a)},handleTargets:function(a,f){var c=a.length,b,d;this.startedChangedTouch=false;this.startedTouches=Ext.supports.Touch?f.touches:[f];for(b=0;b<c;b++){if(f.stopped){break}d=a[b];this.handleTarget(d,f,true)}for(b=c-1;b>=0;b--){if(f.stopped){break}d=a[b];this.handleTarget(d,f,false)}if(this.startedChangedTouch){this.followTouches=this.followTouches.concat(Ext.supports.Touch?Ext.toArray(f.targetTouches):[f])}},handleTarget:function(g,f,a){var h=Ext.Element.data(g,"x-gestures")||[],d=h.length,c,b,j;for(c=0;c<d;c++){b=h[c];if((this.followTouches.length<b.touches)&&(Ext.supports.Touch?(f.targetTouches.length===b.touches):true)&&(!!b.capture===!!a)){this.startedChangedTouch=true;if(b.listenForStart){b.onTouchStart(f,f.changedTouches?f.changedTouches[0]:f)}this.startGesture(b);if(f.stopped){break}}}},addEventListener:function(g,b,f,d){g=Ext.getDom(g);var a=this.targets,c=this.getGestureName(b),h=Ext.Element.data(g,"x-gestures")||[],e;if(!c){throw"Trying to subscribe to unknown event "+b}if(a.indexOf(g)==-1){this.targets.push(g)}e=this.get(g.id+"-"+c);if(!e){e=this.create(Ext.apply({},d||{},{target:g,type:c}));h.push(e);Ext.Element.data(g,"x-gestures",h);if(this.startedChangedTouch&&this.currentTargets.contains(g)){if(e.listenForStart){e.onTouchStart(this.startEvent,this.startedTouches[0])}this.startGesture(e)}}e.addListener(b,f)},removeEventListener:function(f,b,e){f=Ext.getDom(f);var a=this.targets,c=this.getGestureName(b),g=Ext.Element.data(f,"x-gestures")||[],d;d=this.get(f.id+"-"+c);if(d){d.removeListener(b,e);if(!d.listeners){d.destroy();g.remove(d);Ext.Element.data(f,"x-gestures",g)}}},getGestureName:function(a){return this.names&&this.names[a]},registerType:function(d,a){var c=a.prototype.handles,b,e;this.types[d]=a;a[this.typeName]=d;if(!c){c=a.prototype.handles=[d]}this.names=this.names||{};for(b=0,e=c.length;b<e;b++){this.names[c[b]]=d}}});Ext.regGesture=function(){return Ext.gesture.Manager.registerType.apply(Ext.gesture.Manager,arguments)};Ext.TouchEventObjectImpl=Ext.extend(Object,{constructor:function(b,a){if(b){this.setEvent(b,a)}},setEvent:function(b,a){Ext.apply(this,{event:b,time:b.timeStamp});this.touches=b.touches||[b];this.changedTouches=b.changedTouches||[b];this.targetTouches=b.targetTouches||[b];if(a){this.target=a.target;Ext.apply(this,a)}else{this.target=b.target}return this},stopEvent:function(){this.stopPropagation();this.preventDefault()},stopPropagation:function(){this.event.stopped=true},preventDefault:function(){this.event.preventDefault()},getTarget:function(b,c,a){if(b){return Ext.fly(this.target).findParent(b,c,a)}else{return a?Ext.get(this.target):this.target}}});Ext.TouchEventObject=new Ext.TouchEventObjectImpl();Ext.gesture.Gesture=Ext.extend(Object,{listenForStart:true,listenForEnd:true,listenForMove:true,touches:1,constructor:function(a){a=a||{};Ext.apply(this,a);this.target=Ext.getDom(this.target);this.listeners={};if(!this.target){throw"Trying to bind a "+this.type+" event to element that does'nt exist: "+target}this.id=this.target.id+"-"+this.type;Ext.gesture.Gesture.superclass.constructor.call(this);Ext.gesture.Manager.register(this)},addListener:function(a,b){this.listeners[a]=this.listeners[a]||[];this.listeners[a].push(b)},removeListener:function(a,c){var b=this.listeners[a];if(b){b.remove(c);if(b.length==0){delete this.listeners[a]}for(a in this.listeners){if(this.listeners.hasOwnProperty(a)){return}}this.listeners=null}},fire:function(f,h,a){var d=this.listeners[f],g=d&&d.length,c=Ext.gesture.Manager.locks[f],b;if(c&&c!==this.id){return false}if(g){a=Ext.apply(a||{},{type:f,gesture:this,target:(h.target.nodeType==3)?h.target.parentNode:h.target});for(b=0;b<g;b++){d[b](h,a)}}return true},stop:function(){Ext.gesture.Manager.stopGesture(this)},lock:function(){var a=arguments,c=a.length,b;for(b=0;b<c;b++){Ext.gesture.Manager.locks[a[b]]=this.id}},unlock:function(){var a=arguments,c=a.length,b;for(b=0;b<c;b++){if(Ext.gesture.Manager.locks[a[b]]==this.id){delete Ext.gesture.Manager.locks[a[b]]}}},onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,destroy:function(){this.stop();this.listeners=null;Ext.gesture.Manager.unregister(this)}});Ext.gesture.Touch=Ext.extend(Ext.gesture.Gesture,{handles:["touchstart","touchmove","touchend","touchdown"],touchDownInterval:500,onTouchStart:function(b,c){var a=this;a.startX=a.previousX=c.pageX;a.startY=a.previousY=c.pageY;a.startTime=a.previousTime=b.timeStamp;a.fire("touchstart",b);a.lastEvent=b;if(a.listeners.touchdown){a.touchDownIntervalId=setInterval(Ext.createDelegate(a.touchDownHandler,a),a.touchDownInterval)}},onTouchMove:function(a,b){this.fire("touchmove",a,this.getInfo(b));this.lastEvent=a},onTouchEnd:function(a){this.fire("touchend",a,this.lastInfo);clearInterval(this.touchDownIntervalId)},touchDownHandler:function(){this.fire("touchdown",this.lastEvent,this.lastInfo)},getInfo:function(h){var n=this,m=n.startX,k=n.startY,l=n.previousX,j=n.previousY,g=h.pageX,e=h.pageY,f=g-m,d=e-k,a=n.startTime,o=n.previousTime,c=(new Date()).getTime(),b={startX:m,startY:k,previousX:l,previousY:j,pageX:g,pageY:e,deltaX:f,deltaY:d,absDeltaX:Math.abs(f),absDeltaY:Math.abs(d),previousDeltaX:g-l,previousDeltaY:e-j,time:c,startTime:a,previousTime:o,deltaTime:c-a,previousDeltaTime:c-o};n.previousTime=b.time;n.previousX=b.pageX;n.previousY=b.pageY;n.lastInfo=b;return b}});Ext.regGesture("touch",Ext.gesture.Touch);Ext.gesture.Tap=Ext.extend(Ext.gesture.Gesture,{handles:["tapstart","tapcancel","tap","doubletap","taphold","singletap"],cancelThreshold:5,doubleTapThreshold:800,singleTapThreshold:400,holdThreshold:1000,onTouchStart:function(b,c){var a=this;a.startX=c.pageX;a.startY=c.pageY;a.fire("tapstart",b,a.getInfo(c));if(this.listeners.taphold){a.timeout=setTimeout(function(){a.fire("taphold",b,a.getInfo(c));delete a.timeout},a.holdThreshold)}a.lastTouch=c},onTouchMove:function(b,c){var a=this;if(a.isCancel(c)){a.fire("tapcancel",b,a.getInfo(c));if(a.timeout){clearTimeout(a.timeout);delete a.timeout}a.stop()}a.lastTouch=c},onTouchEnd:function(c){var a=this,b=a.getInfo(a.lastTouch);a.fire("tap",c,b);if(a.lastTapTime&&c.timeStamp-a.lastTapTime<=a.doubleTapThreshold){a.lastTapTime=null;c.preventDefault();a.fire("doubletap",c,b)}else{a.lastTapTime=c.timeStamp}if(a.listeners.singletap&&a.singleTapThreshold&&!a.preventSingleTap){a.fire("singletap",c,b);a.preventSingleTap=true;setTimeout(function(){a.preventSingleTap=false},a.singleTapThreshold)}if(a.timeout){clearTimeout(a.timeout);delete a.timeout}},getInfo:function(a){return{pageX:a.pageX,pageY:a.pageY}},isCancel:function(b){var a=this;return(Math.abs(b.pageX-a.startX)>=a.cancelThreshold||Math.abs(b.pageY-a.startY)>=a.cancelThreshold)}});Ext.regGesture("tap",Ext.gesture.Tap);Ext.gesture.Swipe=Ext.extend(Ext.gesture.Gesture,{listenForEnd:false,swipeThreshold:35,swipeTime:1000,onTouchStart:function(a,b){this.startTime=a.timeStamp;this.startX=b.pageX;this.startY=b.pageY;this.lock("scroll","scrollstart","scrollend")},onTouchMove:function(g,h){var b=h.pageY-this.startY,d=h.pageX-this.startX,a=Math.abs(b),c=Math.abs(d),f=g.timeStamp-this.startTime;if(a-c>3||f>this.swipeTime){this.unlock("scroll","scrollstart","scrollend");this.stop()}else{if(c>this.swipeThreshold&&c>a){this.fire("swipe",g,{direction:(d<0)?"left":"right",distance:c,deltaTime:f,deltaX:d});this.stop()}}}});Ext.regGesture("swipe",Ext.gesture.Swipe);Ext.gesture.Scroll=Ext.extend(Ext.gesture.Touch,{handles:["scrollstart","scroll","scrollend"],scrollThreshold:35,horizontal:true,vertical:true,onTouchStart:function(a,b){this.startX=this.previousX=b.pageX;this.startY=this.previousY=b.pageY;this.startTime=this.previousTime=a.timeStamp;this.scrolling=false},onTouchMove:function(b,c){var a=this.getInfo(c);if(!this.scrolling){if(this.isScrolling(a)&&this.fire("scrollstart",b,a)){this.scrolling=true;this.lock("scroll","scrollstart","scrollend")}}else{this.fire("scroll",b,a)}},onTouchEnd:function(a){if(this.scrolling){this.fire("scrollend",a,this.lastInfo)}},isScrolling:function(a){return((this.horizontal&&a.absDeltaX>=this.scrollThreshold)||(this.vertical&&a.absDeltaY>=this.scrollThreshold))}});Ext.regGesture("scroll",Ext.gesture.Scroll);Ext.gesture.Pinch=Ext.extend(Ext.gesture.Gesture,{handles:["pinchstart","pinch","pinchend"],touches:2,onTouchStart:function(f){var b=this;if(Ext.supports.Touch&&f.targetTouches.length>=2){b.lock("swipe","scroll","scrollstart","scrollend","touchmove","touchend","touchstart","tap","tapstart","taphold","tapcancel","doubletap");b.pinching=true;var c=f.targetTouches,d=b.firstTouch=c[0],a=b.secondTouch=c[1];b.previousDistance=b.startDistance=b.getDistance();b.previousScale=1;b.fire("pinchstart",f,{distance:b.startDistance,scale:b.previousScale})}else{if(b.pinching){b.unlock("swipe","scroll","scrollstart","scrollend","touchmove","touchend","touchstart","tap","tapstart","taphold","tapcancel","doubletap");b.pinching=false}}},onTouchMove:function(a){if(this.pinching){this.fire("pinch",a,this.getPinchInfo())}},onTouchEnd:function(a){if(this.pinching){this.fire("pinchend",a,this.getPinchInfo())}},getPinchInfo:function(){var b=this,f=b.getDistance(),e=f/b.startDistance,d=b.firstTouch,a=b.secondTouch,c={scale:e,deltaScale:e-1,previousScale:b.previousScale,previousDeltaScale:e-b.previousScale,distance:f,deltaDistance:f-b.startDistance,startDistance:b.startDistance,previousDistance:b.previousDistance,previousDeltaDistance:f-b.previousDistance,firstTouch:d,secondTouch:a,firstPageX:d.pageX,firstPageY:d.pageY,secondPageX:a.pageX,secondPageY:a.pageY,midPointX:(d.pageX+a.pageX)/2,midPointY:(d.pageY+a.pageY)/2};b.previousScale=e;b.previousDistance=f;return c},getDistance:function(){var a=this;return Math.sqrt(Math.pow(Math.abs(a.firstTouch.pageX-a.secondTouch.pageX),2)+Math.pow(Math.abs(a.firstTouch.pageY-a.secondTouch.pageY),2))}});Ext.regGesture("pinch",Ext.gesture.Pinch);Ext.lib.Component=Ext.extend(Ext.util.Observable,{isComponent:true,renderTpl:null,tplWriteMode:"overwrite",baseCls:"x-component",disabledCls:"x-item-disabled",hidden:false,disabled:false,draggable:false,floatable:false,styleHtmlContent:false,styleHtmlCls:"x-html",allowDomMove:true,autoShow:false,autoRender:false,needsLayout:false,rendered:false,constructor:function(b){b=b||{};this.initialConfig=b;Ext.apply(this,b);this.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","resize","move","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();this.mons=[];this.renderData=this.renderData||{};this.renderSelectors=this.renderSelectors||{};this.initComponent();Ext.ComponentMgr.register(this);Ext.lib.Component.superclass.constructor.call(this);if(this.plugins){this.plugins=[].concat(this.plugins);for(var c=0,a=this.plugins.length;c<a;c++){this.plugins[c]=this.initPlugin(this.plugins[c])}}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo}}},initComponent:Ext.emptyFn,applyToMarkup:Ext.emptyFn,show:Ext.emptyFn,onShow:function(){var a=this.needsLayout;if(Ext.isObject(a)){this.doComponentLayout(a.width,a.height,a.isSetSize)}},initPlugin:function(a){if(a.ptype&&typeof a.init!="function"){a=Ext.PluginMgr.create(a)}else{if(typeof a=="string"){a=Ext.PluginMgr.create({ptype:a})}}a.init(this);return a},render:function(b,a){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(this.el){this.el=Ext.get(this.el)}b=this.initContainer(b);this.onRender(b,a);this.fireEvent("render",this);this.initContent();this.afterRender(b);this.fireEvent("afterrender",this);this.initEvents();if(this.autoShow){this.show()}if(this.hidden){this.onHide(false)}if(this.disabled){this.disable(true)}}return this},onRender:function(c,a){var d=this.el,b=[],f,e;a=this.getInsertPosition(a);if(!d){if(a){d=Ext.DomHelper.insertBefore(a,this.getElConfig(),true)}else{d=Ext.DomHelper.append(c,this.getElConfig(),true)}}else{if(this.allowDomMove!==false){c.dom.insertBefore(d.dom,a)}}b.push(this.baseCls);if(this.cmpCls){b.push(this.cmpCls)}else{this.cmpCls=this.baseCls}if(this.cls){b.push(this.cls);delete this.cls}if(this.ui){b.push(this.cmpCls+"-"+this.ui)}d.addClass(b);d.setStyle(this.initStyles());f=this.initRenderTpl();if(f){e=this.initRenderData();f.append(d,e)}this.el=d;this.applyRenderSelectors();this.rendered=true},afterRender:function(){this.getComponentLayout();if(this.x||this.y){this.setPosition(this.x,this.y)}if(this.styleHtmlContent){this.getTargetEl().addClass(this.styleHtmlCls)}if(!this.ownerCt){this.setSize(this.width,this.height)}},getElConfig:function(){return{tag:"div",id:this.id}},getInsertPosition:function(a){if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else{a=Ext.getDom(a)}}return a},initContainer:function(a){if(!a&&this.el){a=this.el.dom.parentNode;this.allowDomMove=false}this.container=Ext.get(a);if(this.ctCls){this.container.addClass(this.ctCls)}return this.container},initRenderData:function(){return Ext.applyIf(this.renderData,{baseCls:this.baseCls,cmpCls:this.cmpCls})},initRenderTpl:function(){var a=this.renderTpl;if(a){if(this.proto.renderTpl!==a){if(Ext.isArray(a)||typeof a==="string"){a=new Ext.XTemplate(a)}}else{if(Ext.isArray(this.proto.renderTpl)){a=this.proto.renderTpl=new Ext.XTemplate(a)}}}return a},initStyles:function(){var d={},a=Ext.Element,c,e,b,f;if(Ext.isString(this.style)){b=this.style.split(";");for(c=0,e=b.length;c<e;c++){if(!Ext.isEmpty(b[c])){f=b[c].split(":");d[Ext.util.Format.trim(f[0])]=Ext.util.Format.trim(f[1])}}}else{d=Ext.apply({},this.style)}if(this.padding!=undefined){d.padding=a.unitizeBox((this.padding===true)?5:this.padding)}if(this.margin!=undefined){d.margin=a.unitizeBox((this.margin===true)?5:this.margin)}if(this.border!=undefined){d.borderWidth=a.unitizeBox((this.border===true)?1:this.border)}delete this.style;return d},initContent:function(){var b=this.getTargetEl();if(this.html){b.update(Ext.DomHelper.markup(this.html));delete this.html}if(this.contentEl){var a=Ext.get(this.contentEl);a.show();b.appendChild(a.dom)}if(this.tpl){if(!this.tpl.isTemplate){this.tpl=new Ext.XTemplate(this.tpl)}if(this.data){this.tpl[this.tplWriteMode](b,this.data);delete this.data}}},initEvents:function(){var c=this.afterRenderEvents,b,a;if(c){for(b in c){if(!c.hasOwnProperty(b)){continue}a=c[b];if(this[b]&&this[b].on){this.mon(this[b],a)}}}},applyRenderSelectors:function(){var b=this.renderSelectors||{},c=this.el.dom,a;for(a in b){if(!b.hasOwnProperty(a)){continue}this[a]=Ext.get(Ext.DomQuery.selectNode(b[a],c))}},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.lib.Component.AUTO_ID))},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.el},isXType:function(b,a){if(Ext.isFunction(b)){b=b.xtype}else{if(Ext.isObject(b)){b=b.constructor.xtype}}return !a?("/"+this.getXTypes()+"/").indexOf("/"+b+"/")!=-1:this.constructor.xtype==b},getXTypes:function(){var a=this.constructor,b=[],d=this,c;if(!a.xtypes){while(d){c=d.constructor.xtype;if(c!=undefined){b.unshift(c)}d=d.constructor.superclass}a.xtypeChain=b;a.xtypes=b.join("/")}return a.xtypes},update:function(b,c,a){if(this.tpl&&!Ext.isString(b)){this.data=b;if(this.rendered){this.tpl[this.tplWriteMode](this.getTargetEl(),b||{})}}else{this.html=Ext.isObject(b)?Ext.DomHelper.markup(b):b;if(this.rendered){this.getTargetEl().update(this.html,c,a)}}if(this.rendered){this.doComponentLayout()}},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(){var b=!this.hidden,a=this.ownerCt;this.hiddenOwnerCt=false;if(this.destroyed){return false}if(b&&this.rendered&&a){while(a){if(a.hidden||a.collapsed){this.hiddenOwnerCt=a;b=false;break}a=a.ownerCt}}return b},enable:function(a){if(this.rendered){this.el.removeClass(this.disabledCls);this.el.dom.disabled=false;this.onEnable()}this.disabled=false;if(a!==true){this.fireEvent("enable",this)}return this},disable:function(a){if(this.rendered){this.el.addClass(this.disabledCls);this.el.dom.disabled=true;this.onDisable()}this.disabled=true;if(a!==true){this.fireEvent("disable",this)}return this},setDisabled:function(a){return this[a?"disable":"enable"]()},addClass:function(a){if(this.rendered){this.el.addClass(a)}else{this.cls=this.cls?this.cls+" "+a:a}return this},removeClass:function(a){if(this.rendered){this.el.removeClass(a)}else{if(this.cls){this.cls=this.cls.split(" ").remove(a).join(" ")}}return this},addListener:function(b,f,e,a){if(Ext.isString(b)&&(Ext.isObject(f)||a&&a.element)){if(a.element){var d=f,c;f={};f[b]=d;b=a.element;if(e){f.scope=e}for(c in a){if(!a.hasOwnProperty(c)){continue}if(this.eventOptionsRe.test(c)){f[c]=a[c]}}}if(this[b]&&this[b].on){this.mon(this[b],f)}else{this.afterRenderEvents=this.afterRenderEvents||{};this.afterRenderEvents[b]=f}}return Ext.lib.Component.superclass.addListener.apply(this,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloatable:Ext.emptyFn,isDraggable:Ext.emptyFn,isDroppable:Ext.emptyFn,onAdded:function(a,b){this.ownerCt=a;this.fireEvent("added",this,a,b)},onRemoved:function(){this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt},onEnable:Ext.emptyFn,onDisable:Ext.emptyFn,beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(b,a){if(Ext.isObject(b)){a=b.height;b=b.width}if(!this.rendered||!this.isVisible()){if(this.hiddenOwnerCt){var c=this.hiddenOwnerCt.layoutOnShow;c.remove(this);c.add(this)}this.needsLayout={width:b,height:a,isSetSize:true};if(!this.rendered){this.width=(b!==undefined)?b:this.width;this.height=(a!==undefined)?a:this.height}return this}this.doComponentLayout(b,a,true);return this},setCalculatedSize:function(b,a){if(Ext.isObject(b)){a=b.height;b=b.width}if(!this.rendered||!this.isVisible()){if(this.hiddenOwnerCt){var c=this.hiddenOwnerCt.layoutOnShow;c.remove(this);c.add(this)}this.needsLayout={width:b,height:a,isSetSize:false};return this}this.doComponentLayout(b,a);return this},doComponentLayout:function(d,a,b){var c=this.getComponentLayout();if(this.rendered&&c){d=(d!==undefined||this.collapsed===true)?d:this.width;a=(a!==undefined||this.collapsed===true)?a:this.height;if(b){this.width=d;this.height=a}c.layout(d,a)}return this},setComponentLayout:function(b){var a=this.componentLayout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.componentLayout=b;b.setOwner(this)},getComponentLayout:function(){if(!this.componentLayout||!this.componentLayout.isLayout){this.setComponentLayout(Ext.layout.LayoutManager.create(this.componentLayout,"autocomponent"))}return this.componentLayout},afterComponentLayout:Ext.emptyFn,setPosition:function(a,b){if(Ext.isObject(a)){b=a.y;a=a.x}if(!this.rendered){return this}if(a!==undefined||b!==undefined){this.el.setBox(a,b);this.onPosition(a,b);this.fireEvent("move",this,a,b)}return this},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},setDocked:function(a,b){this.dock=a;if(b&&this.ownerCt&&this.rendered){this.ownerCt.doComponentLayout()}return this},onDestroy:function(){if(this.monitorResize&&Ext.EventManager.resizeEvent){Ext.EventManager.resizeEvent.removeListener(this.setSize,this)}},destroy:function(){if(!this.isDestroyed){if(this.fireEvent("beforedestroy",this)!==false){this.destroying=true;this.beforeDestroy();if(this.ownerCt&&this.ownerCt.remove){this.ownerCt.remove(this,false)}if(this.rendered){this.el.remove()}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.purgeListeners();this.destroying=false;this.isDestroyed=true}}}});Ext.lib.Component.prototype.on=Ext.lib.Component.prototype.addListener;Ext.lib.Component.AUTO_ID=1000;Ext.Component=Ext.extend(Ext.lib.Component,{showAnimation:null,monitorOrientation:false,floatingCls:"x-floating",hideOnMaskTap:true,stopMaskTapEvent:true,centered:false,modal:false,initComponent:function(){this.addEvents("beforeorientationchange","orientationchange");if(this.fullscreen||this.floating){this.monitorOrientation=true;this.autoRender=true}if(this.fullscreen){this.width=window.innerWidth;this.height=window.innerHeight;this.cls=(this.cls||"")+" x-fullscreen";this.renderTo=document.body}},onRender:function(){Ext.Component.superclass.onRender.apply(this,arguments);if(this.monitorOrientation){this.el.addClass("x-"+Ext.orientation)}if(this.floating){this.setFloating(true)}if(this.draggable){this.setDraggable(this.draggable)}if(this.scroll){this.setScrollable(this.scroll)}},afterRender:function(){if(this.fullscreen){this.layoutOrientation(Ext.orientation,this.width,this.height)}Ext.Component.superclass.afterRender.call(this)},initEvents:function(){Ext.Component.superclass.initEvents.call(this);if(this.monitorOrientation){Ext.EventManager.onOrientationChange(this.setOrientation,this)}},afterComponentLayout:function(){var c=this.scrollEl,a=this.scroller,b;if(c){b=c.parent();if(a.horizontal){c.setStyle("min-width",b.getWidth(true)+"px");c.setHeight(b.getHeight(true)||null)}else{c.setStyle("min-height",b.getHeight(true)+"px");c.setWidth(b.getWidth(true)||null)}a.updateBounds(true)}if(this.fullscreen&&Ext.is.iPad){Ext.repaint()}},layoutOrientation:Ext.emptyFn,update:function(){Ext.Component.superclass.update.apply(this,arguments);var a=this.scroller;if(a&&a.updateBounds){a.updateBounds(true)}},show:function(a){var b=this.rendered;if((this.hidden||!b)&&this.fireEvent("beforeshow",this)!==false){if(this.anchorEl){this.anchorEl.hide()}if(!b&&this.autoRender){this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender)}this.hidden=false;if(this.rendered){this.onShow(a);this.fireEvent("show",this)}}return this},showBy:function(b,c,d,a){if(!this.floating){return this}if(b.isComponent){b=b.el}else{b=Ext.get(b)}this.x=0;this.y=0;this.show(c);if(a!==false){if(!this.anchorEl){this.anchorEl=this.el.createChild({cls:"x-anchor"})}this.anchorEl.show()}this.alignTo(b,d,20)},alignTo:function(f,e,g){var b=f.getPageBox(),r={width:window.innerWidth,height:window.innerHeight},m=this.getSize(),a={width:Math.min(m.width,r.width),height:Math.min(m.height,r.height)},s,k=2,d=["tl-bl","t-b","tr-br","l-r","l-r","r-l","bl-tl","b-t","br-tr"],q=this.anchorEl,h=[0,g],j,c,l=false,o=[0,0],p=b.left+(b.width/2),n=b.top+(b.height/2);if(p<=r.width*(1/3)){k=1;o[0]=25}else{if(p>=r.width*(2/3)){k=3;o[0]=-30}}if(n>=r.height*(2/3)){k+=6;h=[0,-g];o[1]=-10}else{if(e!==false&&n>=r.height*(1/3)){k+=3;h=(k<=5)?[g,0]:[-g,0];o=(k<=5)?[10,0]:[-10,0];l=true}else{o[1]=10}}s=d[k-1];j=this.el.getAlignToXY(f,s,h);if(l){if(j[0]<0){a.width=b.left-g}else{if(j[0]+a.width>r.width){a.width=r.width-b.right-g}}}else{if(j[1]<0){a.height=b.top-g}else{if(j[1]+a.height>r.height){a.height=r.height-b.bottom-g}}}if(a.width!=m.width){this.setSize(a.width)}else{if(a.height!=m.height){this.setSize(undefined,a.height)}}j=this.el.getAlignToXY(f,s,h);this.setPosition(j[0],j[1]);if(q){q.removeClass(["x-anchor-bottom","x-anchor-left","x-anchor-right","x-anchor-top"]);if(h[1]==g){c="x-anchor-top"}else{if(h[1]==-g){c="x-anchor-bottom"}else{if(h[0]==g){c="x-anchor-left"}else{c="x-anchor-right"}}}j=q.getAlignToXY(f,s,o);q.setXY(j);q.addClass(c)}return s},setCentered:function(b,d){this.centered=b;if(this.rendered&&d){var a,c;if(!this.ownerCt){a=(Ext.Element.getViewportWidth()/2)-(this.getWidth()/2);c=(Ext.Element.getViewportHeight()/2)-(this.getHeight()/2)}else{a=(this.ownerCt.getTargetEl().getWidth()/2)-(this.getWidth()/2);c=(this.ownerCt.getTargetEl().getHeight()/2)-(this.getHeight()/2)}this.setPosition(a,c)}return this},hide:function(a){if(!this.hidden&&this.fireEvent("beforehide",this)!==false){this.hidden=true;if(this.rendered){this.onHide(a,true)}}return this},onShow:function(a){this.el.show();Ext.Component.superclass.onShow.call(this,a);if(a===undefined||a===true){a=this.showAnimation}if(this.floating){this.el.dom.parentNode||this.el.appendTo(document.body);if(a){this.el.setStyle("opacity",0.01)}if(this.centered){this.setCentered(true,true)}else{this.setPosition(this.x,this.y)}if(this.modal){this.el.parent().mask()}if(this.hideOnMaskTap){Ext.getDoc().on("touchstart",this.onFloatingTouchStart,this,{capture:true})}}if(a){Ext.Anim.run(this,a,{out:false,autoClear:true});this.showAnimation=a}},onFloatingTouchStart:function(c,a){var b=Ext.getDoc();if(!this.el.contains(a)){b.on("touchend",function(d){this.hide();if(this.stopMaskTapEvent||Ext.fly(a).hasClass("x-mask")){d.stopEvent()}},this,{single:true,capture:true});c.stopEvent()}},onHide:function(b,a){if(b===undefined||b===true){b=this.showAnimation}if(this.hideOnMaskTap&&this.floating){Ext.getDoc().un("touchstart",this.onFloatingTouchStart,this)}if(b){Ext.Anim.run(this,b,{out:true,reverse:true,autoClear:true,scope:this,fireHideEvent:a,after:this.doHide})}else{this.doHide(null,{fireHideEvent:a})}},doHide:function(b,a){this.el.hide();if(this.floating&&this.modal){this.el.parent().unmask()}if(a&&a.fireHideEvent){this.fireEvent("hide",this)}},setScrollable:function(c){if(!this.rendered){this.scroll=c;return}Ext.destroy(this.scroller);if(c!==false){var e=Ext.isObject(c)?c.direction:c,d=e==="both",a=d||e==="horizontal",b=d||e===true||e==="vertical";c=Ext.apply({},Ext.isObject(c)?c:{},{momentum:true,horizontal:a,vertical:b});if(!this.scrollEl){this.scrollEl=this.getTargetEl().createChild();this.originalGetTargetEl=this.getTargetEl;this.getTargetEl=function(){return this.scrollEl}}this.scroller=new Ext.util.Scroller(this.scrollEl,c)}else{this.getTargetEl=this.originalGetTargetEl}},setFloating:function(b,a){this.floating=!!b;this.hidden=true;if(this.rendered){if(b!==false){this.el.addClass(this.floatingCls);if(a){this.show()}}else{this.el.removeClass(this.floatingCls);Ext.getDoc().un("touchstart",this.onFloatingTouchStart,this)}}else{if(b!==false){this.autoRender=true}}},setDraggable:function(a,b){this.draggable=a;if(this.rendered){if(a===false){if(this.dragObj){this.dragObj.disable()}}else{if(b){this.show()}if(this.dragObj){this.dragObj.enable()}else{this.dragObj=new Ext.util.Draggable(this.el,Ext.apply({},this.draggable||{}));this.relayEvents(this.dragObj,["dragstart","beforedragend","drag","dragend"])}}}},setOrientation:function(b,a,c){if(this.fireEvent("beforeorientationchange",this,b,a,c)!==false){if(this.orientation!=b){this.el.removeClass("x-"+this.orientation);this.el.addClass("x-"+b)}this.orientation=b;this.layoutOrientation(b,a,c);if(this.fullscreen){this.setSize(a,c)}if(this.floating&&this.centered){this.setCentered(true,true)}this.onOrientationChange(b,a,c);this.fireEvent("orientationchange",this,b,a,c)}},onOrientationChange:Ext.emptyFn,beforeDestroy:function(){if(this.floating&&this.modal&&!this.hidden){this.el.parent().unmask()}Ext.Component.superclass.beforeDestroy.call(this)},onDestroy:function(){if(this.monitorOrientation&&Ext.EventManager.orientationEvent){Ext.EventManager.orientationEvent.removeListener(this.setOrientation,this)}Ext.Component.superclass.onDestroy.call(this)}});Ext.BoxComponent=Ext.Component;Ext.reg("component",Ext.Component);Ext.reg("box",Ext.BoxComponent);Ext.lib.Container=Ext.extend(Ext.Component,{autoDestroy:true,defaultType:"panel",isContainer:true,baseCls:"x-container",initComponent:function(){this.addEvents("afterlayout","beforeadd","beforeremove","add","remove","beforecardswitch","cardswitch");this.layoutOnShow=new Ext.util.MixedCollection();Ext.lib.Container.superclass.initComponent.call(this);this.initItems()},initItems:function(){var a=this.items;this.items=new Ext.util.MixedCollection(false,this.getComponentId);if(a){if(!Ext.isArray(a)){a=[a]}this.add(a)}},afterRender:function(){this.getLayout();Ext.lib.Container.superclass.afterRender.apply(this,arguments)},setLayout:function(b){var a=this.layout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.layout=b;b.setOwner(this)},getLayout:function(){if(!this.layout||!this.layout.isLayout){this.setLayout(Ext.layout.LayoutManager.create(this.layout,"autocontainer"))}return this.layout},doLayout:function(){var a=this.getLayout();if(this.rendered&&a){a.layout()}return this},afterLayout:function(a){this.fireEvent("afterlayout",this,a)},prepareItems:function(a,c){if(!Ext.isArray(a)){a=[a]}var e,b,d;for(b=0,d=a.length;b<d;b++){e=a[b];if(c){e=this.applyDefaults(e)}a[b]=this.lookupComponent(e)}return a},applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b)){b=b.call(this,a)}if(Ext.isString(a)){a=Ext.ComponentMgr.get(a);Ext.apply(a,b)}else{if(!a.isComponent){Ext.applyIf(a,b)}else{Ext.apply(a,b)}}}return a},lookupComponent:function(a){if(Ext.isString(a)){return Ext.ComponentMgr.get(a)}else{return this.createComponent(a)}return a},createComponent:function(a,b){if(a.isComponent){return a}return Ext.create(a,b||this.defaultType)},getComponentId:function(a){return a.getItemId()},add:function(){var f=Array.prototype.slice.call(arguments),d=-1;if(typeof f[0]=="number"){d=f.shift()}var a=f.length>1;if(a||Ext.isArray(f[0])){var g=a?f:f[0],b=[],c,e,j;for(c=0,e=g.length;c<e;c++){j=g[c];if(!j){throw"Trying to add a null item as a child of Container with itemId/id: "+this.getItemId()}if(d!=-1){j=this.add(d+c,j)}else{j=this.add(j)}b.push(j)}return b}var h=this.prepareItems(f[0],true)[0];d=(d!==-1)?d:this.items.length;if(this.fireEvent("beforeadd",this,h,d)!==false&&this.onBeforeAdd(h)!==false){this.items.insert(d,h);h.onAdded(this,d);this.onAdd(h);this.fireEvent("add",this,h,d)}return h},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(b,a){return this.add(b,a)},onBeforeAdd:function(a){if(a.ownerCt){a.ownerCt.remove(a,false)}if(this.hideBorders===true){a.border=(a.border===true)}},remove:function(a,b){var d=this.getComponent(a);if(d&&this.fireEvent("beforeremove",this,d)!==false){this.doRemove(d,b);this.fireEvent("remove",this,d)}return d},doRemove:function(c,b){var d=this.layout,a=d&&this.rendered;this.items.remove(c);c.onRemoved();if(a){d.onRemove(c)}this.onRemove(c);if(b===true||(b!==false&&this.autoDestroy)){c.destroy()}if(a){d.afterRemove(c)}},removeAll:function(b){var f,d=this.items.items.slice(),a=[],e=d.length,c;for(c=0;c<e;c++){f=d[c];this.remove(f,b);if(f.ownerCt!==this){a.push(f)}}return a},getRefItems:function(a){var b=this.items.items.slice(),e=b.length,c,d;if(a){for(c=0;c<e;c++){d=b[c];if(d.getRefItems){b=b.concat(d.getRefItems(true))}}}return b},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.items.get(a)},query:function(a){return Ext.ComponentQuery.query(a,this)},child:function(a){return this.query("> "+a)[0]||null},down:function(a){return this.query(a)[0]||null},show:function(){Ext.lib.Container.superclass.show.call(this);var e=this.layoutOnShow,d=e.getCount(),b=0,a,c;for(;b<d;b++){c=e.get(b);a=c.needsLayout;if(Ext.isObject(a)){c.doComponentLayout(a.width,a.height,a.isSetSize)}}e.clear()},beforeDestroy:function(){var a;if(this.items){a=this.items.first();while(a){this.doRemove(a,true);a=this.items.first()}}Ext.destroy(this.layout);Ext.lib.Container.superclass.beforeDestroy.call(this)}});Ext.Container=Ext.extend(Ext.lib.Container,{animation:null,afterLayout:function(a){if(this.floating&&this.centered){this.setCentered(true,true)}if(this.scroller){this.scroller.updateBounds()}Ext.Container.superclass.afterLayout.call(this,a)},getActiveItem:function(){if(this.layout&&this.layout.type=="card"){return this.layout.activeItem}else{return null}},setCard:function(a,b){this.layout.setActiveItem(a,b);return this},onBeforeCardSwitch:function(a,c,b,d){return this.fireEvent("beforecardswitch",this,a,c,b,d)},onCardSwitch:function(a,c,b,d){return this.fireEvent("cardswitch",this,a,c,b,d)},disable:function(){Ext.Container.superclass.disable.call(this);this.el.mask()},enable:function(){Ext.Container.superclass.enable.call(this);this.el.unmask()}});Ext.reg("container",Ext.Container);Ext.lib.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",isPanel:true,componentLayout:"dock",renderTpl:['<div class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>'],initComponent:function(){this.addEvents("bodyresize");Ext.applyIf(this.renderSelectors,{body:"."+this.baseCls+"-body"});Ext.lib.Panel.superclass.initComponent.call(this)},initItems:function(){Ext.lib.Panel.superclass.initItems.call(this);var a=this.dockedItems;this.dockedItems=new Ext.util.MixedCollection(false,this.getComponentId);if(a){this.addDocked(a)}},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.dockedItems.get(a)},getComponent:function(a){var b=Ext.lib.Panel.superclass.getComponent.call(this,a);if(b==undefined){b=this.getDockedComponent(a)}return b},initBodyStyles:function(){var a=Ext.isString(this.bodyStyle)?this.bodyStyle.split(";"):[],b=Ext.Element;if(this.bodyPadding!=undefined){a.push("padding: "+b.unitizeBox((this.bodyPadding===true)?5:this.bodyPadding))}if(this.bodyMargin!=undefined){a.push("margin: "+b.unitizeBox((this.bodyMargin===true)?5:this.bodyMargin))}if(this.bodyBorder!=undefined){a.push("border-width: "+b.unitizeBox((this.bodyBorder===true)?1:this.bodyBorder))}delete this.bodyStyle;return a.length?a.join(";"):undefined},initRenderData:function(){return Ext.applyIf(Ext.lib.Panel.superclass.initRenderData.call(this),{bodyStyle:this.initBodyStyles(),bodyCls:this.bodyCls})},addDocked:function(a,e){a=this.prepareItems(a);var d,b,c;for(b=0,c=a.length;b<c;b++){d=a[b];if(e!==undefined){this.dockedItems.insert(e+b,d)}else{this.dockedItems.add(d)}d.onAdded(this,b);this.onDockedAdd(d)}if(this.rendered){this.doComponentLayout()}},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,insertDocked:function(b,a){this.addDocked(a,b)},removeDocked:function(d,b){if(!this.dockedItems.contains(d)){return d}var c=this.componentLayout,a=c&&this.rendered;if(a){c.onRemove(d)}this.dockedItems.remove(d);d.onRemoved();this.onDockedRemove(d);if(b===true||(b!==false&&this.autoDestroy)){d.destroy()}if(a){c.afterRemove(d)}this.doComponentLayout();return d},getDockedItems:function(){if(this.dockedItems&&this.dockedItems.items.length){return this.dockedItems.items.slice()}return[]},getTargetEl:function(){return this.body},getRefItems:function(a){var f=Ext.lib.Panel.superclass.getRefItems.call(this,a),c=this.getDockedItems(),e=c.length,b=0,d;f=f.concat(c);if(a){for(;b<e;b++){d=c[b];if(d.getRefItems){f=f.concat(d.getRefItems(true))}}}return f}});Ext.Panel=Ext.extend(Ext.lib.Panel,{scroll:false,fullscreen:false});Ext.reg("panel",Ext.Panel);Ext.Button=Ext.extend(Ext.Component,{initComponent:function(){this.addEvents("tap","beforetap");Ext.Button.superclass.initComponent.call(this);this.createAutoHandler()},hidden:false,disabled:false,iconAlign:"left",iconAlign:"left",baseCls:"x-button",pressedCls:"x-button-pressed",badgeText:"",badgeCls:"x-badge",hasBadgeCls:"x-hasbadge",labelCls:"x-button-label",ui:"normal",isButton:true,pressedDelay:0,iconMaskCls:"x-icon-mask",iconMask:false,afterRender:function(c,a){var e=this;Ext.Button.superclass.afterRender.call(e,c,a);var g=e.text,d=e.icon,b=e.iconCls,f=e.badgeText;e.text=e.icon=e.iconCls=e.badgeText=null;e.setText(g);e.setIcon(d);e.setIconClass(b);if(e.iconMask&&e.iconEl){e.iconEl.addClass(e.iconMaskCls)}e.setBadge(f)},initEvents:function(){var a=this;Ext.Button.superclass.initEvents.call(a);a.mon(a.el,{scope:a,tap:a.onPress,tapstart:a.onTapStart,tapcancel:a.onTapCancel})},onTapStart:function(){var a=this;if(!a.disabled){if(a.pressedDelay){a.pressedTimeout=setTimeout(function(){a.el.addClass(a.pressedCls)},Ext.isNumber(a.pressedDelay)?a.pressedDelay:100)}else{a.el.addClass(a.pressedCls)}}},onTapCancel:function(){var a=this;if(a.pressedTimeout){clearTimeout(a.pressedTimeout);delete a.pressedTimeout}a.el.removeClass(a.pressedCls)},setHandler:function(b,a){this.handler=b;this.scope=a;return this},setText:function(b){var a=this;if(a.rendered){if(!a.textEl&&b){a.textEl=a.el.createChild({tag:"span",html:b,cls:this.labelCls})}else{if(a.textEl&&b!=a.text){if(b){a.textEl.setHTML(b)}else{a.textEl.remove();a.textEl=null}}}}a.text=b;return a},setIcon:function(a){var b=this;if(b.rendered){if(!b.iconEl&&a){b.iconEl=b.el.createChild({tag:"img",src:Ext.BLANK_IMAGE_URL,style:"background-image: "+(a?"url("+a+")":"")});b.setIconAlign(b.iconAlign)}else{if(b.iconEl&&a!=b.icon){if(a){b.iconEl.setStyle("background-image",a?"url("+a+")":"");b.setIconAlign(b.iconAlign)}else{b.setIconAlign(false);b.iconEl.remove();b.iconEl=null}}}}b.icon=a;return b},setIconClass:function(a){var b=this;if(b.rendered){if(!b.iconEl&&a){b.iconEl=b.el.createChild({tag:"img",src:Ext.BLANK_IMAGE_URL,cls:a});b.setIconAlign(b.iconAlign)}else{if(b.iconEl&&a!=b.iconCls){if(a){if(b.iconCls){b.iconEl.removeClass(b.iconCls)}b.iconEl.addClass(a);b.setIconAlign(b.iconAlign)}else{b.setIconAlign(false);b.iconEl.remove();b.iconEl=null}}}}b.iconCls=a;return b},setIconAlign:function(d){var c=this,a=["top","right","bottom","left"],d=((a.indexOf(d)==-1||!d)&&d!==false)?c.iconAlign:d,b;if(c.rendered&&c.iconEl){c.el.removeClass("x-iconalign-"+c.iconAlign);if(d){c.el.addClass("x-iconalign-"+d)}}c.iconAlign=(d===false)?c.iconAlign:d;return c},setBadge:function(b){var a=this;if(a.rendered){if(!a.badgeEl&&b){a.badgeEl=a.el.createChild({tag:"span",cls:a.badgeCls,html:b});a.el.addClass(a.hasBadgeCls)}else{if(a.badgeEl&&b!=a.badgeText){if(b){a.badgeEl.setHTML(b);a.el.addClass(a.hasBadgeCls)}else{a.badgeEl.remove();a.badgeEl=null;a.el.removeClass(a.hasBadgeCls)}}}}a.badgeText=b;return a},getText:function(){return this.text},getBadgeText:function(){return this.badgeText},onDisable:function(){this.onDisableChange(true)},onEnable:function(){this.onDisableChange(false)},onDisableChange:function(a){var b=this;if(b.el){b.el[a?"addClass":"removeClass"](b.disabledClass);b.el.dom.disabled=a}b.disabled=a},onPress:function(b){var a=this;if(!a.disabled&&this.fireEvent("beforetap")!==false){setTimeout(function(){if(!a.preventCancel){a.onTapCancel()}a.callHandler(b);a.fireEvent("tap",a,b)},10)}},callHandler:function(b){var a=this;if(a.handler){a.handler.call(a.scope||a,a,b)}},createAutoHandler:function(){var a=this,b=a.autoEvent;if(b){if(typeof b=="string"){b={name:b,scope:a.scope||a}}a.addEvents(b.name);a.setHandler(function(){b.scope.fireEvent(b.name,a)},b.scope)}}});Ext.reg("button",Ext.Button);Ext.SegmentedButton=Ext.extend(Ext.Container,{defaultType:"button",cmpCls:"x-segmentedbutton",pressedCls:"x-button-pressed",allowMultiple:false,initComponent:function(){this.layout=Ext.apply({},this.layout||{},{type:"hbox",align:"stretch"});Ext.SegmentedButton.superclass.initComponent.call(this);if(this.allowDepress===undefined){this.allowDepress=this.allowMultiple}this.addEvents("toggle")},initEvents:function(){Ext.SegmentedButton.superclass.initEvents.call(this);this.mon(this.el,{tap:this.onTap,capture:true,scope:this})},afterLayout:function(b){var a=this;Ext.SegmentedButton.superclass.afterLayout.call(a,b);if(!a.initialized){a.items.each(function(d,c){a.setPressed(d,!!d.pressed,true)});if(a.allowMultiple){a.pressedButtons=a.getPressedButtons()}a.initialized=true}},onTap:function(b,a){if(!this.disabled&&(a=b.getTarget(".x-button"))){this.setPressed(a.id,this.allowDepress?undefined:true)}},getPressed:function(){return this.allowMultiple?this.getPressedButtons():this.pressedButton},setPressed:function(a,d,b){var c=this;a=c.getComponent(a);if(!a||!a.isButton||a.disabled){if(!c.allowMultiple&&c.pressedButton){c.setPressed(c.pressedButton,false)}return}if(!Ext.isBoolean(d)){d=!a.pressed}if(d){if(!c.allowMultiple){if(c.pressedButton&&c.pressedButton!==a){c.pressedButton.el.removeClass(c.pressedCls);c.pressedButton.pressed=false;if(b!==true){c.fireEvent("toggle",c,c.pressedButton,false)}}c.pressedButton=a}a.el.addClass(c.pressedCls);a.pressed=true;a.preventCancel=true;if(c.initialized&&b!==true){c.fireEvent("toggle",c,a,true)}}else{if(!d){if(!c.allowMultiple&&a===c.pressedButton){c.pressedButton=null}if(a.pressed){a.el.removeClass(c.pressedCls);a.pressed=false;if(b!==true){c.fireEvent("toggle",c,a,false)}}}}if(c.allowMultiple&&c.initialized){c.pressedButtons=c.getPressedButtons()}},getPressedButtons:function(b){var a=this.items.filterBy(function(c){return c.isButton&&!c.disabled&&c.pressed});return a.items},disable:function(){this.items.each(function(a){a.disable()});Ext.SegmentedButton.superclass.disable.apply(this,arguments)},enable:function(){this.items.each(function(a){a.enable()},this);Ext.SegmentedButton.superclass.enable.apply(this,arguments)}});Ext.reg("segmentedbutton",Ext.SegmentedButton);Ext.DataPanel=Ext.extend(Ext.Panel,{blockRefresh:false,initComponent:function(){if(Ext.isString(this.tpl)||Ext.isArray(this.tpl)){this.tpl=new Ext.XTemplate(this.tpl)}this.store=Ext.StoreMgr.lookup(this.store);this.all=new Ext.CompositeElementLite();this.instances=new Ext.util.MixedCollection();if(this.components){if(Ext.isFunction(this.components)){this.components=[{config:this.components}]}else{if(Ext.isObject(this.components)){this.components=[this.components]}}if(!this.tpl){this.tpl=new Ext.XTemplate('<tpl for="."><div class="x-list-item"></div></tpl>',{compiled:true});this.itemSelector=".x-list-item"}}this.addEvents("refresh");Ext.DataPanel.superclass.initComponent.call(this)},afterRender:function(){Ext.DataPanel.superclass.afterRender.call(this);var e=this.components,d,b,a,c;if(e){for(b=0,d=e.length;b<d;b++){a=e[b];if(a.listeners){a.delegateCls=Ext.id(null,"x-cmp-");a.listeners.delegate=(a.targetSelector||this.itemSelector)+" > ."+a.delegateCls;this.mon(this.getTemplateTarget(),a.listeners)}}}if(this.store){this.bindStore(this.store,true)}},getStore:function(){return this.store},refresh:function(c){if(c==undefined){c=true}if(!c&&this.blockRefresh===true){return}if(!this.rendered){return}var b=this.getTemplateTarget(),a=this.getRenderRecords();if(a.length<1){this.all.clear()}else{this.tpl.overwrite(b,this.collectData(a,0));this.all.fill(Ext.query(this.itemSelector,b.dom))}this.updateItems(0);this.fireEvent("refresh",this,a)},getRenderRecords:function(){return this.store.getRange()},getTemplateTarget:function(){return this.scrollEl||this.body},prepareData:function(e,c,b){var a=this.addRecordToData,d=!!a,f=Ext.isString(a)?a:"record";if(d){e[f]=b}return e},collectData:function(a,e){var c=[],b,d=a.length;for(b=0;b<d;b++){c[c.length]=this.prepareData(a[b].data,e+b,a[b])}return c},bindStore:function(a,b){if(!this.rendered){this.store=a;return}if(!b&&this.store){if(a!==this.store&&this.store.autoDestroy){this.store.destroyStore()}else{this.store.un({scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh})}if(!a){this.store=null}}if(a){a=Ext.StoreMgr.lookup(a);a.on({scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh})}this.store=a;if(a){this.refresh(false)}},onBeforeLoad:Ext.emptyFn,bufferRender:function(a,b){var c=document.createElement("div");this.tpl.overwrite(c,this.collectData(a,b));return Ext.query(this.itemSelector,c)},onUpdate:function(f,a){var b=this.store.indexOf(a),e,c,d;if(b>-1){e=this.isSelected(b);c=this.all.elements[b];d=this.bufferRender([a],b)[0];this.all.replaceElement(b,d,true);if(e){this.selected.replaceElement(c,d);this.all.item(b).addClass(this.selectedClass)}this.updateItems(b,b)}},onAdd:function(f,d,e){if(this.all.getCount()===0){this.refresh(false);return}var c=this.bufferRender(d,e),g,b=this.all.elements;if(e<this.all.getCount()){g=this.all.item(e).insertSibling(c,"before",true);b.splice.apply(b,[e,0].concat(c))}else{g=this.all.last().insertSibling(c,"after",true);b.push.apply(b,c)}this.updateItems(e)},onRemove:function(c,a,b){this.deselect(b);this.onRemoveItem(this.all.item(b),b);this.all.removeElement(b,true);if(this.store.getCount()===0){this.refresh(false)}if(this.components){this.cleanInstances()}},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a))},updateItems:function(d,c){var b=this.all.elements;d=d||0;c=c||((c===0)?0:(b.length-1));for(var a=d;a<=c;a++){b[a].viewIndex=a;if(this.components){this.createInstances(b[a])}this.onUpdateItem(b[a],a)}if(this.components){this.cleanInstances()}},onUpdateItem:Ext.emptyFn,onRemoveItem:Ext.emptyFn,createInstances:function(f){var h=Ext.id(f),e=this.components,d=e.length,c,b,a,g;for(c=0;c<d;c++){b=e[c];g=b.targetSelector?Ext.fly(f).down(b.targetSelector,true):f;if(g){if(Ext.isObject(b.config)){a=Ext.create(b.config,"button")}else{if(Ext.isFunction(b.config)){a=b.config.call(this,this.getRecord(f),f,f.viewIndex)}}if(a){this.instances.add(a);a.addClass(b.delegateCls);a.render(g);a.doComponentLayout()}}}},cleanInstances:function(){this.instances.each(function(a){if(!document.getElementById(a.id)){this.instances.remove(a);a.destroy()}},this)},onDataChanged:function(){this.refresh(false)},findItemFromChild:function(a){return Ext.fly(a).findParent(this.itemSelector,this.getTemplateTarget())},getRecords:function(b){var e=[],d=b,a=d.length,c;for(c=0;c<a;c++){e[e.length]=this.store.getAt(d[c].viewIndex)}return e},getRecord:function(a){return this.store.getAt(a.viewIndex)},getNode:function(b){if(Ext.isString(b)){return document.getElementById(b)}else{if(Ext.isNumber(b)){return this.all.elements[b]}else{if(b instanceof Ext.data.Model){var a=this.store.indexOf(b);return this.all.elements[a]}}}return b},getNodes:function(e,a){var d=this.all.elements,b=[],c;e=e||0;a=!Ext.isDefined(a)?Math.max(d.length-1,0):a;if(e<=a){for(c=e;c<=a&&d[c];c++){b.push(d[c])}}else{for(c=e;c>=a&&d[c];c--){b.push(d[c])}}return b},indexOf:function(a){a=this.getNode(a);if(Ext.isNumber(a.viewIndex)){return a.viewIndex}return this.all.indexOf(a)},onDestroy:function(){this.all.clear();Ext.DataPanel.superclass.onDestroy.call(this);this.bindStore(null)}});Ext.reg("datapanel",Ext.DataPanel);Ext.DataView=Ext.extend(Ext.DataPanel,{scroll:"vertical",selectedCls:"x-item-selected",pressedCls:"x-item-pressed",pressedDelay:100,emptyText:"",deferEmptyText:true,tapEvent:"singletap",last:false,initComponent:function(){this.selected=new Ext.CompositeElementLite();Ext.DataView.superclass.initComponent.call(this);this.addEvents("itemtap","itemdoubletap","itemswipe","containertap","selectionchange","beforeselect")},afterRender:function(){var a=this;Ext.DataView.superclass.afterRender.call(a);var b={tapstart:a.onTapStart,tapcancel:a.onTapCancel,touchend:a.onTapCancel,doubletap:a.onDoubleTap,swipe:a.onSwipe,scope:a};b[this.tapEvent]=a.onTap;a.mon(a.getTemplateTarget(),b)},refresh:function(){if(!this.rendered){return}var a=this.getTemplateTarget();a.update("");this.clearSelections(false,true);if(this.store.getRange().length<1&&(!this.deferEmptyText||this.hasSkippedEmptyText)){a.update(this.emptyText)}this.hasSkippedEmptyText=true;Ext.DataView.superclass.refresh.call(this)},findTarget:function(a){return a.getTarget(this.itemSelector,this.getTemplateTarget())},onTap:function(c){var b=this.findTarget(c);if(b){Ext.fly(b).removeClass(this.pressedCls);var a=this.indexOf(b);if(this.onItemTap(b,a,c)!==false){this.fireEvent("itemtap",this,a,b,c)}}else{if(this.fireEvent("containertap",this,c)!==false){this.onContainerTap(c)}}},onTapStart:function(d,a){var c=this,b=this.findTarget(d);if(b){if(c.pressedDelay){if(c.pressedTimeout){clearTimeout(c.pressedTimeout)}c.pressedTimeout=setTimeout(function(){Ext.fly(b).addClass(c.pressedCls)},Ext.isNumber(c.pressedDelay)?c.pressedDelay:100)}else{Ext.fly(b).addClass(c.pressedCls)}}},onTapCancel:function(d,a){var c=this,b=this.findTarget(d);if(c.pressedTimeout){clearTimeout(c.pressedTimeout);delete c.pressedTimeout}if(b){Ext.fly(b).removeClass(c.pressedCls)}},onContainerTap:function(a){this.clearSelections()},onDoubleTap:function(b){var a=this.findTarget(b);if(a){this.fireEvent("itemdoubletap",this,this.indexOf(a),a,b)}},onSwipe:function(b){var a=this.findTarget(b);if(a){this.fireEvent("itemswipe",this,this.indexOf(a),a,b)}},onItemTap:function(b,a,c){if(this.pressedTimeout){clearTimeout(this.pressedTimeout);delete this.pressedTimeout}if(this.multiSelect){this.doMultiSelection(b,a,c);c.preventDefault()}else{if(this.singleSelect){this.doSingleSelection(b,a,c);c.preventDefault()}}return true},doSingleSelection:function(b,a,c){if(this.isSelected(a)){this.deselect(a)}else{this.select(a,false)}},doMultiSelection:function(b,a,c){if(this.isSelected(a)){this.deselect(a)}else{this.select(a,true)}},getSelectionCount:function(){return this.selected.elements.length},getSelectedNodes:function(){return this.selected.elements},getSelectedIndexes:function(){var b=[],d=this.selected.elements,a=d.length,c;for(c=0;c<a;c++){b.push(d[c].viewIndex)}return b},getSelectedRecords:function(){var d=[],c=this.selected.elements,a=c.length,b;for(b=0;b<a;b++){d[d.length]=this.store.getAt(c[b].viewIndex)}return d},clearSelections:function(a,b){if((this.multiSelect||this.singleSelect)&&this.getSelectionCount()>0){if(!b){this.selected.removeClass(this.selectedCls)}this.selected.clear();this.last=false;if(!a){this.fireEvent("selectionchange",this,this.selected.elements,this.getSelectedRecords())}}},isSelected:function(a){return this.selected.contains(this.getNode(a))},deselect:function(a){if(this.isSelected(a)){a=this.getNode(a);this.selected.removeElement(a);if(this.last==a.viewIndex){this.last=false}Ext.fly(a).removeClass(this.selectedCls);this.fireEvent("selectionchange",this,this.selected.elements,[])}},select:function(d,f,b){if(Ext.isArray(d)){if(!f){this.clearSelections(true)}for(var c=0,a=d.length;c<a;c++){this.select(d[c],true,true)}if(!b){this.fireEvent("selectionchange",this,this.selected.elements,this.getSelectedRecords())}}else{var e=this.getNode(d);if(!f){this.clearSelections(true)}if(e&&!this.isSelected(e)){if(this.fireEvent("beforeselect",this,e,this.selected.elements)!==false){Ext.fly(e).addClass(this.selectedCls);this.selected.add(e);this.last=e.viewIndex;if(!b){this.fireEvent("selectionchange",this,this.selected.elements,this.getSelectedRecords())}}}}},selectRange:function(c,a,b){if(!b){this.clearSelections(true)}this.select(this.getNodes(c,a),true)},onBeforeLoad:function(){if(this.loadingText){this.clearSelections(false,true);this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>");this.all.clear()}},onDataChanged:function(){Ext.DataView.superclass.onDataChanged.apply(this,arguments);if(this.scroller){this.scroller.updateBounds(true)}},onDestroy:function(){this.selected.clear();Ext.DataView.superclass.onDestroy.call(this)}});Ext.DataView.prototype.setStore=Ext.DataView.prototype.bindStore;Ext.reg("dataview",Ext.DataView);Ext.List=Ext.extend(Ext.DataView,{cmpCls:"x-list",pinHeaders:(Ext.is.Android||Ext.is.Blackberry)?false:true,indexBar:false,grouped:false,clearSelectionOnDeactivate:true,renderTpl:['<div class="{baseCls}-body"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','<tpl if="grouped"><h3 class="x-list-header x-list-header-swap x-hidden-display"></h3></tpl>',"</div>"],groupTpl:['<tpl for=".">','<div class="x-list-group x-group-{id}">','<h3 class="x-list-header">{group}</h3>','<div class="x-list-group-items">',"{items}","</div>","</div>","</tpl>"],disclosure:false,initComponent:function(){if(this.scroll!==false){this.scroll={direction:"vertical",scrollbars:false}}if(this.grouped){this.itemTpl=this.tpl;if(Ext.isString(this.itemTpl)||Ext.isArray(this.itemTpl)){this.itemTpl=new Ext.XTemplate(this.itemTpl)}if(Ext.isString(this.groupTpl)||Ext.isArray(this.groupTpl)){this.tpl=new Ext.XTemplate(this.groupTpl)}}else{this.indexBar=false}if(this.indexBar){var a=Ext.apply({},Ext.isObject(this.indexBar)?this.indexBar:{},{xtype:"indexbar",dock:"right",overlay:true,stretch:true,alphabet:true});this.indexBar=new Ext.IndexBar(a);this.dockedItems=this.dockedItems||[];this.dockedItems.push(this.indexBar);this.cls=this.cls||"";this.cls+=" x-list-indexed"}else{if(this.scroll){this.scroll.scrollbars=true}}Ext.List.superclass.initComponent.call(this);if(this.disclosure){if(Ext.isFunction(this.disclosure)){this.disclosure={scope:this,handler:this.disclosure}}this.components=this.components||[];this.components.push({config:Ext.apply({},this.disclosure.config||{},{xtype:"button",baseCls:"x-disclosure"}),listeners:{tap:this.onDisclosureTap,scope:this}})}this.on("deactivate",this.onDeactivate,this);this.addEvents("disclose")},onRender:function(){if(this.grouped){Ext.applyIf(this.renderData,{grouped:true});Ext.applyIf(this.renderSelectors,{header:".x-list-header-swap"})}Ext.List.superclass.onRender.apply(this,arguments)},onDeactivate:function(){if(this.clearSelectionOnDeactivate){this.clearSelections()}},afterRender:function(){if(!this.grouped){this.el.addClass("x-list-flat")}this.getTemplateTarget().addClass("x-list-parent");Ext.List.superclass.afterRender.call(this)},initEvents:function(){Ext.List.superclass.initEvents.call(this);if(this.grouped){if(this.pinHeaders&&this.scroll){this.mon(this.scroller,{scrollstart:this.onScrollStart,scroll:this.onScroll,scope:this})}if(this.indexBar){this.mon(this.indexBar,{index:this.onIndex,scope:this})}}},onDisclosureTap:function(f,c){var d=this.findItemFromChild(c);if(d){var a=this.getRecord(d),b=this.indexOf(d);this.fireEvent("disclose",a,d,b);if(Ext.isObject(this.disclosure)&&this.disclosure.handler){this.disclosure.handler.call(this,a,d,b)}}},setActiveGroup:function(b){var a=this;if(b){if(!a.activeGroup||a.activeGroup.header!=b.header){a.header.setHTML(b.header.getHTML());a.header.show()}}else{a.header.hide()}this.activeGroup=b},getClosestGroups:function(g){var a=this.groupOffsets,d=a.length,f,b,e,c;for(b=0;b<d;b++){f=a[b];if(f.offset>g.y){c=f;break}e=f}return{current:e,next:c}},updateItems:function(){Ext.List.superclass.updateItems.apply(this,arguments);this.updateOffsets()},afterLayout:function(){Ext.List.superclass.afterLayout.apply(this,arguments);this.updateOffsets()},updateOffsets:function(){if(this.grouped){this.groupOffsets=[];var c=this.body.query("h3.x-list-header"),b=c.length,d,a;for(a=0;a<b;a++){d=Ext.get(c[a]);d.setDisplayMode(Ext.Element.VISIBILITY);this.groupOffsets.push({header:d,offset:d.dom.offsetTop})}}},onScrollStart:function(){var a=this.scroller.getOffset();this.closest=this.getClosestGroups(a);this.setActiveGroup(this.closest.current)},onScroll:function(a,d,c){if(!this.closest){this.closest=this.getClosestGroups(d)}if(!this.headerHeight){this.headerHeight=this.header.getHeight()}if(d.y<=0){if(this.activeGroup){this.setActiveGroup(false);this.closest.next=this.closest.current}return}else{if((this.closest.next&&d.y>this.closest.next.offset)||(d.y<this.closest.current.offset)){this.closest=this.getClosestGroups(d);this.setActiveGroup(this.closest.current)}}if(this.closest.next&&d.y>0&&this.closest.next.offset-d.y<=this.headerHeight){var b=this.headerHeight-(this.closest.next.offset-d.y);this.header.setStyle("-webkit-transform","translate3d(0, -"+b+"px, 0)");this.transformed=true}else{if(this.transformed){this.header.setStyle("-webkit-transform",null);this.transformed=false}}},onIndex:function(e,g,f){var k=e.get("key").toLowerCase(),c=this.store.getGroups(),h=c.length,j,d,b,a;for(d=0;d<h;d++){j=c[d];a=this.getGroupId(j);if(a==k||a>k){b=a;break}else{b=a}}b=this.body.down(".x-group-"+a);if(b){this.scroller.scrollTo({x:0,y:b.getOffsetsTo(this.scrollEl)[1]},false,null,true)}},getGroupId:function(a){return a.name.toLowerCase()},collectData:function(e,l){if(!this.grouped){return Ext.List.superclass.collectData.call(this,e,l)}var g=[],d=this.store.getGroups(),h=d.length,b,a,j,k,f;for(f=0,h=d.length;f<h;f++){k=d[f];b=k.children;for(j=0,a=b.length;j<a;j++){b[j]=b[j].data}g.push({group:k.name,id:this.getGroupId(k),items:this.itemTpl.apply(b)})}return g},onUpdate:function(b,a){if(this.grouped){this.refresh()}else{Ext.List.superclass.onUpdate.apply(this,arguments)}},onAdd:function(c,a,b){if(this.grouped){this.refresh()}else{Ext.List.superclass.onAdd.apply(this,arguments)}},onRemove:function(c,a,b){if(this.grouped){this.refresh()}else{Ext.List.superclass.onRemove.apply(this,arguments)}}});Ext.reg("list",Ext.List);Ext.IndexBar=Ext.extend(Ext.DataPanel,{cmpCls:"x-indexbar",direction:"vertical",tpl:'<tpl for="."><span class="x-indexbar-item">{value}</span></tpl>',itemSelector:"span.x-indexbar-item",letters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],listPrefix:"",componentLayout:"autocomponent",initComponent:function(){this.componentLayout=this.getComponentLayout();if(!this.store){this.store=new Ext.data.Store({model:"IndexBarModel"})}if(this.alphabet==true){this.ui=this.ui||"alphabet"}if(this.direction=="horizontal"){this.horizontal=true}else{this.vertical=true}this.addEvents("index");Ext.IndexBar.superclass.initComponent.call(this)},afterRender:function(){Ext.IndexBar.superclass.afterRender.call(this);if(this.alphabet===true){this.loadAlphabet()}if(this.vertical){this.el.addClass(this.cmpCls+"-vertical")}else{if(this.horizontal){this.el.addClass(this.cmpCls+"-horizontal")}}},loadAlphabet:function(){var e=this.letters,a=e.length,d=[],b,c;for(b=0;b<a;b++){c=e[b];d.push({key:c.toLowerCase(),value:c})}this.store.loadData(d)},refresh:function(){if(!this.rendered){return}var c=this.getTemplateTarget(),b=this.getRenderRecords();if(b.length<1){this.all.clear()}else{var a=this.collectData(b,0);if(this.listPrefix.length>0){a.unshift({key:"",value:this.listPrefix})}this.tpl.overwrite(c,a);this.all.fill(Ext.query(this.itemSelector,c.dom))}this.updateItems(0);this.fireEvent("refresh",this,b)},initEvents:function(){Ext.IndexBar.superclass.initEvents.call(this);this.mon(this.body,{touchstart:this.onTouchStart,touchend:this.onTouchEnd,touchmove:this.onTouchMove,scope:this})},onTouchStart:function(b,a){this.el.addClass(this.cmpCls+"-pressed");this.pageBox=this.body.getPageBox();this.onTouchMove(b)},onTouchEnd:function(b,a){this.el.removeClass(this.cmpCls+"-pressed")},onTouchMove:function(c){var b,a,d=this.pageBox;if(!d){d=this.pageBox=this.body.getPageBox()}if(this.vertical){if(c.pageY>d.bottom||c.pageY<d.top){return}b=Ext.Element.fromPoint(d.left+(d.width/2),c.pageY)}else{if(this.horizontal){if(c.pageX>d.right||c.pageX<d.left){return}b=Ext.Element.fromPoint(c.pageX,d.top+(d.height/2))}}if(b){a=this.getRecord(b.dom);if(a){this.fireEvent("index",a,b,this.indexOf(b))}}}});Ext.reg("indexbar",Ext.IndexBar);Ext.regModel("IndexBarModel",{fields:["key","value"]});Ext.Toolbar=Ext.extend(Ext.Container,{isToolbar:true,defaultType:"button",baseCls:"x-toolbar",titleCls:"x-toolbar-title",ui:"dark",layout:null,titleEl:null,initComponent:function(){this.layout=Ext.apply({},this.layout||{},{type:"hbox",align:"center"});Ext.Toolbar.superclass.initComponent.call(this)},afterRender:function(){Ext.Toolbar.superclass.afterRender.call(this);if(this.title){this.titleEl=this.el.createChild({cls:this.titleCls,html:this.title})}},setTitle:function(a){this.title=a;if(this.rendered){if(!this.titleEl){this.titleEl=this.el.createChild({cls:this.titleCls,html:this.title})}this.titleEl.setHTML(a)}},showTitle:function(){if(this.titleEl){this.titleEl.show()}},hideTitle:function(){if(this.titleEl){this.titleEl.hide()}}});Ext.reg("toolbar",Ext.Toolbar);Ext.Spacer=Ext.extend(Ext.Component,{initComponent:function(){if(!this.width){this.flex=1}Ext.Spacer.superclass.initComponent.call(this)},onRender:function(){Ext.Spacer.superclass.onRender.apply(this,arguments);if(this.flex){this.el.setStyle("-webkit-box-flex",this.flex)}}});Ext.reg("spacer",Ext.Spacer);Ext.Sheet=Ext.extend(Ext.Panel,{baseCls:"x-sheet",centered:false,floating:true,modal:true,hideOnMaskTap:false,draggable:false,monitorOrientation:true,hidden:true,arrive:"bottom",depart:"bottom",arrivalEffect:"slide",departEffect:"slide",transitions:{bottom:"up",top:"down",right:"left",left:"right"},animSheet:function(a){var d=null,b=this,c=b.transitions,e=Ext.Anim.prototype.opposites||{};if(a&&this[a]){if(a=="arrive"){d=(typeof b.arrivalEffect=="string")?{type:b.arrivalEffect||"slide",direction:c[b.arrive]||"up"}:b.arrivalEffect}else{if(a=="depart"){d=(typeof b.departEffect=="string")?{type:b.departEffect||"slide",direction:c[b.depart]||"down"}:b.departEffect}}}return d},orient:function(a,k,d){if(!this.container||this.centered||!this.floating){return this}var g=this,e=g.initialConfig||{},l={width:e.width,height:e.height},j={x:e.x,y:e.y},c=g.el.getPageBox(),f,b=0;if(g.container.dom==document.body){f={width:window.innerWidth,height:window.innerHeight};b=document.body.scrollTop}else{f=g.container.getPageBox()}f.centerY=f.height/2;f.centerX=f.width/2;if(j.x!=undefined||j.y!=undefined){j.x=j.x||0;j.y=j.y||0}else{if(/^(bottom|top)/i.test(g.arrive)){l.width=g.stretchX?f.width:Math.min(200,Math.max(l.width||c.width||f.width,f.width));l.height=Math.min(l.height||0,f.height)||undefined;l=g.setSize(l).getSize();j.x=f.centerX-l.width/2;j.y=g.arrive=="top"?0:f.height-l.height+b}else{if(/^(left|right)/i.test(g.arrive)){l.height=g.stretchY?f.height:Math.min(200,Math.max(l.height||c.height||f.height,f.height));l.width=Math.min(l.width||0,f.width)||undefined;l=g.setSize(l).getSize();j.y=0;j.x=g.arrive=="left"?0:f.width-l.width}}}g.setPosition(j);return this},afterRender:function(){Ext.Sheet.superclass.afterRender.apply(this,arguments);this.el.setDisplayMode(Ext.Element.OFFSETS)},onShow:function(a){this.orient();return Ext.Sheet.superclass.onShow.call(this,a||this.animSheet("arrive"))},onOrientationChange:function(b,a,c){this.orient();Ext.Sheet.superclass.onOrientationChange.apply(this,arguments)},beforeDestroy:function(){delete this.showAnimation;this.hide(false);Ext.Sheet.superclass.beforeDestroy.call(this)}});Ext.reg("sheet",Ext.Sheet);Ext.ActionSheet=Ext.extend(Ext.Sheet,{cmpCls:"x-sheet-action",stretchY:true,stretchX:true,defaultType:"button",constructor:function(a){a=a||{};Ext.ActionSheet.superclass.constructor.call(this,Ext.applyIf({floating:true},a))}});Ext.reg("actionsheet",Ext.ActionSheet);Ext.TabBar=Ext.extend(Ext.Panel,{cmpCls:"x-tabbar",activeTab:null,defaultType:"tab",sortable:false,sortHoldThreshold:350,initComponent:function(){this.addEvents("change");this.layout=Ext.apply({},this.layout||{},{type:"hbox",align:"middle"});Ext.TabBar.superclass.initComponent.call(this);var a=this.cardLayout;if(a){this.cardLayout=null;this.setCardLayout(a)}},initEvents:function(){if(this.sortable){this.sortable=new Ext.util.Sortable(this.el,{itemSelector:".x-tab",direction:"horizontal",delay:this.sortHoldThreshold,constrain:true});this.mon(this.sortable,"sortchange",this.onSortChange,this)}this.mon(this.el,{touchstart:this.onTouchStart,scope:this});Ext.TabBar.superclass.initEvents.call(this)},onTouchStart:function(b,a){a=b.getTarget(".x-tab");if(a){this.onTabTap(Ext.getCmp(a.id))}},onSortChange:function(c,b,a){},onTabTap:function(a){if(!a.disabled){if(this.cardLayout){if(this.animation){var b={reverse:(this.items.indexOf(a)<this.items.indexOf(this.activeTab))?true:false};if(Ext.isObject(this.animation)){Ext.apply(b,this.animation)}else{Ext.apply(b,{type:this.animation})}}this.cardLayout.setActiveItem(a.card,b||this.animation)}this.activeTab=a;this.fireEvent("change",this,a,a.card)}},setCardLayout:function(a){if(this.cardLayout){this.mun(this.cardLayout.owner,{add:this.onCardAdd,remove:this.onCardRemove,scope:this})}this.cardLayout=a;if(a){this.mon(a.owner,{add:this.onCardAdd,remove:this.onCardRemove,scope:this})}},onCardAdd:function(b,c,a){c.tab=this.insert(a,{xtype:"tab",card:c})},onCardRemove:function(a,c){var b=this.items.items,f=b.length,d,e;for(d=0;d<f;d++){e=b[d];if(e.card===c){e.card=null;this.remove(e,true);return}}},getCardLayout:function(){return this.cardLayout}});Ext.reg("tabbar",Ext.TabBar);Ext.Tab=Ext.extend(Ext.Button,{isTab:true,baseCls:"x-tab",pressedCls:"x-tab-pressed",activeCls:"x-tab-active",active:false,initComponent:function(){this.addEvents("activate","deactivate");Ext.Tab.superclass.initComponent.call(this);var a=this.card;if(a){this.card=null;this.setCard(a)}},setCard:function(a){if(this.card){this.mun(this.card,{activate:this.activate,deactivate:this.deactivate,scope:this})}this.card=a;if(a){Ext.apply(this,a.tab||{});this.setText(this.title||a.title||this.text);this.setIconClass(this.iconCls||a.iconCls);this.setBadge(this.badgeText||a.badgeText);this.mon(a,{beforeactivate:this.activate,beforedeactivate:this.deactivate,scope:this})}},onRender:function(){Ext.Tab.superclass.onRender.apply(this,arguments);if(this.active){this.el.addClass(this.activeCls)}},getCard:function(){return this.card},activate:function(){this.active=true;if(this.el){this.el.addClass(this.activeCls)}this.fireEvent("activate",this)},deactivate:function(){this.active=false;if(this.el){this.el.removeClass(this.activeCls)}this.fireEvent("deactivate",this)}});Ext.reg("tab",Ext.Tab);Ext.TabPanel=Ext.extend(Ext.Panel,{animation:"slide",tabBarPosition:"top",cmpCls:"x-tabpanel",ui:"dark",initComponent:function(){var a=new Ext.layout.CardLayout(this.layout||{});this.layout=null;this.setLayout(a);this.tabBar=new Ext.TabBar(Ext.apply({},this.tabBar||{},{cardLayout:a,animation:this.animation,dock:this.tabBarPosition,ui:this.ui,sortable:this.sortable}));if(this.dockedItems&&!Ext.isArray(this.dockedItems)){this.dockedItems=[this.dockedItems]}else{if(!this.dockedItems){this.dockedItems=[]}}this.dockedItems.push(this.tabBar);Ext.TabPanel.superclass.initComponent.call(this)},getTabBar:function(){return this.tabBar}});Ext.reg("tabpanel",Ext.TabPanel);Ext.Carousel=Ext.extend(Ext.Panel,{baseCls:"x-carousel",indicator:true,ui:"dark",direction:"horizontal",initComponent:function(){this.layout={type:"card",sizeAllCards:true,hideInactive:false,extraCls:"x-carousel-item",targetCls:"x-carousel-body",setOwner:function(b){Ext.layout.CardLayout.superclass.setOwner.call(this,b)}};if(this.indicator){var a=Ext.isObject(this.indicator)?this.indicator:{};this.indicator=new Ext.Carousel.Indicator(Ext.apply({},a,{direction:this.direction,carousel:this,ui:this.ui}))}Ext.Carousel.superclass.initComponent.call(this)},afterRender:function(){Ext.Carousel.superclass.afterRender.call(this);this.mon(this.body,{scroll:this.onScroll,scrollend:this.onScrollEnd,horizontal:this.direction=="horizontal",vertical:this.direction=="vertical",scope:this});this.el.addClass(this.baseCls+"-"+this.direction)},afterLayout:function(){Ext.Carousel.superclass.afterLayout.apply(this,arguments);this.currentSize=this.body.getSize();this.currentScroll={x:0,y:0};this.updateCardPositions();var a=this.layout.getActiveItem();if(a&&this.indicator){this.indicator.onBeforeCardSwitch(this,a,null,this.items.indexOf(a))}},onScroll:function(b){this.currentScroll={x:b.deltaX,y:b.deltaY};var a=this.items.items.indexOf(this.layout.activeItem);if(this.direction=="horizontal"&&((a==0&&b.deltaX>0)||(a==this.items.length-1&&b.deltaX<0))){this.currentScroll.x=b.deltaX/2}else{if(this.direction=="vertical"&&((a==0&&b.deltaY>0)||(a==this.items.length-1&&b.deltaY<0))){this.currentScroll.y=b.deltaY/2}}this.updateCardPositions()},updateCardPositions:function(a){var g=this.items.items,f=g.length,c,b,e,d;for(c=0;c<f;c++){b=g[c];if(this.isCardInRange(b)){if(b.hidden){b.show()}e=b.el;d=e.dom.style;if(a){if(b===this.layout.activeItem){e.on("webkitTransitionEnd",this.onTransitionEnd,this,{single:true})}d.webkitTransitionDuration="300ms"}else{d.webkitTransitionDuration="0ms"}if(this.direction=="horizontal"){d.webkitTransform="translate3d("+this.getCardOffset(b)+"px, 0, 0)"}else{d.webkitTransform="translate3d(0, "+this.getCardOffset(b)+"px, 0)"}}else{if(!b.hidden){b.hide()}}}},getCardOffset:function(c){var d=this.getCardIndexOffset(c),b=this.currentSize,a=this.currentScroll;return this.direction=="horizontal"?(d*b.width)+a.x:(d*b.height)+a.y},getCardIndexOffset:function(a){return this.items.items.indexOf(a)-this.getActiveIndex()},isCardInRange:function(a){return Math.abs(this.getCardIndexOffset(a))<=2},getActiveIndex:function(){return this.items.indexOf(this.layout.activeItem)},onScrollEnd:function(d,b){var a,c;if(this.direction=="horizontal"){c=d.deltaX;a=d.previousDeltaX}else{c=d.deltaY;a=d.previousDeltaY}if(c<0&&Math.abs(c)>3&&a<=0&&this.layout.getNext()){this.next()}else{if(c>0&&Math.abs(c)>3&&a>=0&&this.layout.getPrev()){this.prev()}else{this.scrollToCard(this.layout.activeItem)}}},onBeforeCardSwitch:function(a){if(!this.customScroll&&this.items.indexOf(a)!=-1){var b=a.el.dom.style;b.webkitTransitionDuration=null;b.webkitTransform=null}return Ext.Carousel.superclass.onBeforeCardSwitch.apply(this,arguments)},scrollToCard:function(a){this.currentScroll={x:0,y:0};this.oldCard=this.layout.activeItem;if(a!=this.oldCard&&this.isCardInRange(a)&&this.onBeforeCardSwitch(a,this.oldCard,this.items.indexOf(a),true)!==false){this.layout.activeItem=a;if(this.direction=="horizontal"){this.currentScroll.x=-this.getCardOffset(a)}else{this.currentScroll.y=-this.getCardOffset(a)}}this.updateCardPositions(true)},onTransitionEnd:function(b,a){this.customScroll=false;this.currentScroll={x:0,y:0};if(this.oldCard&&this.layout.activeItem!=this.oldCard){this.onCardSwitch(this.layout.activeItem,this.oldCard,this.items.indexOf(this.layout.activeItem),true)}delete this.oldCard},onCardSwitch:function(a,c,b,d){this.currentScroll={x:0,y:0};this.updateCardPositions();Ext.Carousel.superclass.onCardSwitch.apply(this,arguments);a.fireEvent("activate",a)},next:function(){var a=this.layout.getNext();if(a){this.customScroll=true;this.scrollToCard(a)}return this},prev:function(){var a=this.layout.getPrev();if(a){this.customScroll=true;this.scrollToCard(a)}return this}});Ext.reg("carousel",Ext.Carousel);Ext.Carousel.Indicator=Ext.extend(Ext.Component,{baseCls:"x-carousel-indicator",initComponent:function(){if(this.carousel.rendered){this.render(this.carousel.body);this.onBeforeCardSwitch(null,null,this.carousel.items.indexOf(this.carousel.layout.getActiveItem()))}else{this.carousel.on("render",function(){this.render(this.carousel.body)},this,{single:true})}Ext.Carousel.Indicator.superclass.initComponent.call(this)},onRender:function(){Ext.Carousel.Indicator.superclass.onRender.apply(this,arguments);for(var a=0,b=this.carousel.items.length;a<b;a++){this.createIndicator()}this.mon(this.carousel,{beforecardswitch:this.onBeforeCardSwitch,add:this.onCardAdd,remove:this.onCardRemove,scope:this});this.mon(this.el,{tap:this.onTap,scope:this});this.el.addClass(this.baseCls+"-"+this.direction)},onTap:function(f,a){var b=this.el.getPageBox(),d=b.left+(b.width/2),c=b.top+(b.height/2);if((this.carousel.direction=="horizontal"&&f.pageX>d)||(this.carousel.direction=="vertical"&&f.pageY>c)){this.carousel.next()}else{this.carousel.prev()}},createIndicator:function(){this.indicators=this.indicators||[];this.indicators.push(this.el.createChild({tag:"span"}))},onBeforeCardSwitch:function(d,c,a,b){if(Ext.isNumber(b)&&b!=-1&&this.indicators[b]){this.indicators[b].radioClass("x-carousel-indicator-active")}},onCardAdd:function(){this.createIndicator()},onCardRemove:function(){this.indicators.pop().remove()}});Ext.reg("carouselindicator",Ext.Carousel.Indicator);Ext.Map=Ext.extend(Ext.Component,{baseCls:"x-map",getLocation:false,monitorResize:true,map:null,geo:null,maskMap:false,initComponent:function(){this.mapOptions=this.mapOptions||{};this.scroll=false;if(!(window.google||{}).maps){this.html="Google Maps API is required"}else{if(this.getLocation){this.geo=this.geo||new Ext.util.GeoLocation({autoLoad:false});this.geo.on({locationupdate:this.onGeoUpdate,locationerror:this.onGeoError,scope:this})}}Ext.Map.superclass.initComponent.call(this);this.addEvents("maprender","centerchange","typechange","zoomchange");if(this.geo){this.on({activate:this.onUpdate,scope:this,single:true});this.geo.updateLocation()}},onRender:function(b,a){Ext.Map.superclass.onRender.apply(this,arguments);this.el.setDisplayMode(Ext.Element.OFFSETS)},afterRender:function(){Ext.Map.superclass.afterRender.apply(this,arguments);this.renderMap()},onResize:function(a,b){Ext.Map.superclass.onResize.apply(this,arguments);if(this.map){google.maps.event.trigger(this.map,"resize")}},afterComponentLayout:function(){if(this.maskMap){this.el.mask(true);this.mask=true}},renderMap:function(){var b=this,c=(window.google||{}).maps;if(c){if(Ext.is.iPad){Ext.applyIf(b.mapOptions,{navigationControlOptions:{style:c.NavigationControlStyle.ZOOM_PAN}})}Ext.applyIf(b.mapOptions,{center:new c.LatLng(37.381592,-122.135672),zoom:12,mapTypeId:c.MapTypeId.ROADMAP});if(b.maskMap&&!b.mask){b.el.mask(true);b.mask=true}if(b.el&&b.el.dom&&b.el.dom.firstChild){Ext.fly(b.el.dom.firstChild).remove()}if(b.map){c.event.clearInstanceListeners(b.map)}b.map=new c.Map(b.el.dom,b.mapOptions);var a=c.event;a.addListener(b.map,"zoom_changed",Ext.createDelegate(b.onZoom,b));a.addListener(b.map,"maptypeid_changed",Ext.createDelegate(b.onTypeChange,b));a.addListener(b.map,"center_changed",Ext.createDelegate(b.onCenterChange,b));b.fireEvent("maprender",b,b.map)}},onGeoUpdate:function(b){var a;if(b){a=this.mapOptions.center=new google.maps.LatLng(b.latitude,b.longitude)}if(this.rendered){this.update(a)}else{this.on("activate",this.onUpdate,this,{single:true,data:a})}},onGeoError:function(a){},onUpdate:function(c,b,a){this.update((a||{}).data)},update:function(c){var a=this,b=(window.google||{}).maps;if(b){c=c||a.coords||new b.LatLng(37.381592,-122.135672);if(c&&!(c instanceof b.LatLng)&&"longitude" in c){c=new b.LatLng(c.latitude,c.longitude)}if(!a.hidden&&a.rendered){a.map||a.renderMap();if(a.map&&c instanceof b.LatLng){a.map.panTo(c)}}else{a.on("activate",a.onUpdate,a,{single:true,data:c})}}},onZoom:function(){this.mapOptions.zoom=(this.map&&this.map.getZoom?this.map.getZoom():this.mapOptions.zoom)||10;this.fireEvent("zoomchange",this,this.map,this.mapOptions.zoom)},onTypeChange:function(){this.mapOptions.mapTypeId=this.map&&this.map.getMapTypeId?this.map.getMapTypeId():this.mapOptions.mapTypeId;this.fireEvent("typechange",this,this.map,this.mapOptions.mapTypeId)},onCenterChange:function(){this.mapOptions.center=this.map&&this.map.getCenter?this.map.getCenter():this.mapOptions.center;this.fireEvent("centerchange",this,this.map,this.mapOptions.center)},getState:function(){return this.mapOptions},onDestroy:function(){Ext.destroy(this.geo);if(this.maskMap&&this.mask){this.el.unmask()}if(this.map&&(window.google||{}).maps){google.maps.event.clearInstanceListeners(this.map)}Ext.Map.superclass.onDestroy.call(this)}});Ext.reg("map",Ext.Map);Ext.NestedList=Ext.extend(Ext.Panel,{cmpCls:"x-nested-list",layout:"card",animation:"slide",backButton:null,backText:"Back",useTitleAsBackText:true,updateTitleText:true,displayField:"text",loadingText:"Loading...",emptyText:"No items available.",disclosure:false,clearSelectionDefer:200,getItemTextTpl:function(a){return"{"+this.displayField+"}"},getTitleTextTpl:function(a){return"{"+this.displayField+"}"},renderTitleText:function(b){if(!b.titleTpl){b.titleTpl=new Ext.XTemplate(this.getTitleTextTpl(b))}var a=b.getRecord();if(a){return b.titleTpl.applyTemplate(a.data)}else{if(b.isRoot){return this.title||this.backText}else{throw"No RecordNode passed into renderTitleText"}}},useToolbar:true,getDetailCard:function(b,a){return false},initComponent:function(){var b=Ext.StoreMgr.lookup(this.store),a=b.getRootNode(),c=a.getRecord()?this.renderTitleText(a):this.title||"";this.store=b;if(this.useToolbar){this.backButton=new Ext.Button({text:this.backText,ui:"back",handler:this.onBackTap,scope:this,hidden:true});if(!this.toolbar||!this.toolbar.isComponent){this.toolbar=Ext.apply({},this.toolbar||{},{dock:"top",xtype:"toolbar",ui:"light",title:c,items:[]});this.toolbar.items.unshift(this.backButton);this.toolbar=new Ext.Toolbar(this.toolbar);this.dockedItems=this.dockedItems||[];this.dockedItems.push(this.toolbar)}else{this.toolbar.insert(0,this.backButton)}}this.items=[this.getSubList(a)];Ext.NestedList.superclass.initComponent.call(this);this.on("itemtap",this.onItemTap,this);this.addEvents("listchange","leafitemtap")},getListConfig:function(b){var c=b.internalId,a=this.emptyText;return{itemId:c,xtype:"list",autoDestroy:true,recordNode:b,store:this.store.getSubStore(b),loadingText:this.loadingText,disclosure:this.disclosure,displayField:this.displayField,singleSelect:true,clearSelectionOnDeactivate:false,bubbleEvents:["itemtap","containertap","beforeselect","itemdoubletap","selectionchange"],itemSelector:".x-list-item",tpl:new Ext.XTemplate('<tpl for="."><div class="x-list-item <tpl if="leaf == true">x-list-item-leaf</tpl>"><span>',this.getItemTextTpl(b),"</span></div></tpl>"),emptyText:this.loadingText,deferEmptyText:false,refresh:function(){if(this.hasSkippedEmptyText){this.emptyText=a}Ext.List.prototype.refresh.apply(this,arguments)}}},getSubList:function(b){var a=this.items,c,d=b.internalId;if(a&&a.get){c=a.get(d)}if(c){return c}else{return this.getListConfig(b)}},addNextCard:function(b,e){var c,a=b?b.parentNode:null,d;if(b.leaf){d=this.getDetailCard(b,a);if(d){c=this.add(d)}}else{c=this.getSubList(b);c=this.add(c)}return c},setActivePath:function(o){var n=o.substr(0,1)==="/",h=0,e=this.store,p=e.tree,f,g,c,m,b;if(n){o=o.substr(1)}m=Ext.toArray(o.split("/"));b=m.length;if(n){var l=this.items,a=this.items.items,k=l.length;for(;k>1;k--){this.remove(a[k-1],true)}var d=a[0].recordNode;if(d.id!==m[0]){throw"rootNode doesn't match!"}h=1}for(;h<b;h++){if(m[h]!==""){f=p.getNodeById(m[h]);g=this.addNextCard(f);if(g){c=g}}}if(!c){throw"Card was not found when trying to add to NestedList."}this.setCard(c,false);this.syncToolbar()},syncToolbar:function(e){var g=e||this.getActiveItem(),h=this.items.indexOf(g),b=g.recordNode,a=b.parentNode,d=this.backButton,c=this.useTitleAsBackText&&a?this.renderTitleText(a):this.backText,f=(h!==0)?"show":"hide";if(d){d[f]();if(a){d.setText(c)}}if(this.toolbar&&this.updateTitleText){this.toolbar.setTitle(b&&b.getRecord()?this.renderTitleText(b):this.title||"");this.toolbar.doLayout()}},onItemTap:function(m,d,a,j){var l=m.getStore(),f=l.getAt(d),n=f.node,g=n?n.parentNode:null,h=this.displayField,c,b,k;k=this.addNextCard(n);if(n.leaf){this.fireEvent("leafitemtap",m,d,a,j,k)}if(k){b=this.items.indexOf(k);this.setCard(k,{type:this.animation});this.syncToolbar(k)}},onBackTap:function(){var g=this.getActiveItem(),h=this.items.indexOf(g);if(h!=0){var a=h-1,c=this.items.itemAt(a),k=c.recordNode,d=k.getRecord(),e=k?k.parentNode:null,f=this.backButton,b=(a!==0)?"show":"hide",j;this.setCard(c,{type:this.animation,reverse:true,after:function(l,m){this.remove(g);if(this.clearSelectionDefer){Ext.defer(c.clearSelections,this.clearSelectionDefer,c)}},scope:this});this.syncToolbar(c)}}});Ext.reg("nestedlist",Ext.NestedList);Ext.Picker=Ext.extend(Ext.Sheet,{cmpCls:"x-picker",stretchX:true,stretchY:true,hideOnMaskTap:false,doneText:"Done",showDoneButton:true,height:220,useTitles:false,defaultType:"pickerslot",initComponent:function(){this.layout={type:"hbox",align:"stretch"};if(this.slots){this.items=this.items?(Ext.isArray(this.items)?this.items:[this.items]):[];this.items=this.items.concat(this.slots)}if(this.useTitles){this.defaults=Ext.applyIf(this.defaults||{},{title:""})}this.on("slotpick",this.onSlotPick,this);this.addEvents("pick","change");if(this.showDoneButton){this.toolbar=new Ext.Toolbar(Ext.applyIf(this.buttonBar||{dock:"top"}));this.toolbar.add([{xtype:"spacer"},{xtype:"button",ui:"action",text:this.doneText,handler:this.onDoneTap,scope:this}]);this.dockedItems=this.dockedItems?(Ext.isArray(this.dockedItems)?this.dockedItems:[this.dockedItems]):[];this.dockedItems.push(this.toolbar)}Ext.Picker.superclass.initComponent.call(this);if(this.value){this.setValue(this.value,false)}},onDoneTap:function(){var a=this.animSheet("depart");Ext.apply(a,{after:function(){this.fireEvent("change",this,this.getValue())},scope:this});this.hide(a)},onSlotPick:function(c,b,a){this.fireEvent("pick",this,this.getValue(),c);return false},setValue:function(b,e){var c,f,a=this.items.items,d=a.length;if(!b){for(i=0;i<d;i++){a[i].setValue(0)}return this}for(c in b){f=this.child("[name="+c+"]");if(f){f.setValue(b[c],e)}}return this},getValue:function(){var e={},a=this.items.items,d=a.length,c,b;for(b=0;b<d;b++){c=a[b];e[c.name]=c.getValue()}return e}});Ext.regModel("x-textvalue",{fields:["text","value"]});Ext.Picker.Slot=Ext.extend(Ext.DataView,{isSlot:true,flex:1,name:null,displayField:"text",valueField:"value",align:"center",itemSelector:"li.x-picker-item",cmpCls:"x-picker-slot",renderTpl:['<div class="{baseCls}-body"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','<div class="x-picker-mask">','<div class="x-picker-bar"></div>',"</div>","</div>"],selectedIndex:0,getElConfig:function(){return{tag:"div",id:this.id,cls:"x-picker-"+this.align}},initComponent:function(){if(!this.name){throw"Each picker slot is required to have a name."}Ext.apply(this.renderSelectors,{mask:".x-picker-mask",bar:".x-picker-bar"});this.scroll={direction:"vertical",scrollbars:false,snapDuration:200,friction:0.9,acceleration:20,scrollToDuration:150,scrollToEasing:"ease-in"};this.tpl=new Ext.XTemplate(['<tpl for=".">','<li class="x-picker-item {cls} <tpl if="extra">x-picker-invalid</tpl>">{'+this.displayField+"}</li>","</tpl>"]);var d=this.data,f=[],c=d&&d.length,a,b,e;if(d&&Ext.isArray(d)&&c){for(a=0;a<c;a++){b=d[a];e={};if(Ext.isArray(b)){e[this.valueField]=b[0];e[this.displayField]=b[1]}else{if(Ext.isString(b)){e[this.valueField]=b;e[this.displayField]=b}else{if(Ext.isObject(b)){e=b}}}f.push(e)}this.store=new Ext.data.Store({model:"x-textvalue",data:f});this.tempStore=true}else{if(this.store){this.store=Ext.StoreMgr.lookup(this.store)}}this.enableBubble("slotpick");if(this.title){this.title=new Ext.Component({dock:"top",cmpCls:"x-picker-slot-title",html:this.title});this.dockedItems=this.title}Ext.Picker.Slot.superclass.initComponent.call(this);if(this.value!==undefined){this.setValue(this.value,false)}},setupBar:function(){this.body.setStyle({padding:""});var a=this.bar.getY()-this.body.getY();this.barHeight=this.bar.getHeight();this.body.setStyle({padding:a+"px 0"});this.slotPadding=a;this.scroller.updateBounds();this.scroller.setSnap(this.barHeight);this.setSelectedNode(this.selectedIndex,false)},afterComponentLayout:function(){Ext.defer(this.setupBar,200,this)},initEvents:function(){this.mon(this.scroller,{scrollend:this.onScrollEnd,scope:this})},onScrollEnd:function(a,b){this.selectedNode=this.getNode(Math.round(b.y/this.barHeight));this.selectedIndex=this.indexOf(this.selectedNode);this.fireEvent("slotpick",this,this.getValue(),this.selectedNode)},scrollToNode:function(c,a){var b=Ext.fly(c).getOffsetsTo(this.scrollEl)[1];this.scroller.scrollTo({y:b},a!==false?true:false)},onItemTap:function(a){Ext.Picker.Slot.superclass.onItemTap.apply(this,arguments);this.setSelectedNode(a)},getSelectedNode:function(){return this.selectedNode},setSelectedNode:function(b,a){if(Ext.isNumber(b)){b=this.getNode(b)}else{if(b.isModel){b=this.getNode(this.store.indexOf(b))}}if(b){this.selectedNode=b;this.selectedIndex=this.indexOf(b);this.scrollToNode(b,a)}},getValue:function(){var a=this.store.getAt(this.selectedIndex);return a?a.get(this.valueField):null},setValue:function(c,a){var b=this.store.find(this.valueField,c);if(b!=-1){if(!this.rendered){this.selectedIndex=b;return}this.setSelectedNode(b,a)}},onDestroy:function(){if(this.tempStore){this.store.destroyStore();this.store=null}Ext.Picker.Slot.superclass.onDestroy.call(this)}});Ext.reg("pickerslot",Ext.Picker.Slot);Ext.DatePicker=Ext.extend(Ext.Picker,{yearFrom:1980,yearTo:new Date().getFullYear(),monthText:"Month",dayText:"Day",yearText:"Year",slotOrder:["month","day","year"],initComponent:function(){var k=this.yearFrom,e=this.yearTo,f=[],j=[],b=[],g,c,d,a;if(k>e){c=k;k=e;e=c}for(d=k;d<=e;d++){f.push({text:d,value:d})}a=this.getDaysInMonth(1,new Date().getFullYear());for(d=0;d<a;d++){j.push({text:d+1,value:d+1})}for(d=0,g=Date.monthNames.length;d<g;d++){b.push({text:Date.monthNames[d],value:d+1})}this.slots=[];Ext.each(this.slotOrder,function(l){this.slots.push(this.createSlot(l,j,b,f))},this);if(this.value){var h=this.value;if(Ext.isDate(h)){this.value={day:h.getDay(),year:h.getFullYear(),month:h.getMonth()+1}}else{if(Ext.isObject(h)){this.value=h}}}Ext.DatePicker.superclass.initComponent.call(this)},createSlot:function(b,d,a,c){switch(b){case"year":return{name:"year",align:"center",data:c,title:this.useTitles?this.yearText:false,flex:3};case"month":return{name:b,align:"right",data:a,title:this.useTitles?this.monthText:false,flex:4};case"day":return{name:"day",align:"center",data:d,title:this.useTitles?this.dayText:false,flex:2}}},onSlotPick:function(f,e){var c=f.name,b,a,d;if(c==="month"||c==="year"){d=this.child("[name=day]");b=this.getValue();a=this.getDaysInMonth(b.getMonth()+1,b.getFullYear());d.store.clearFilter();d.store.filter({fn:function(g){return g.get("extra")===true||g.get("value")<=a}});d.scroller.updateBounds(true)}Ext.DatePicker.superclass.onSlotPick.call(this,f,e)},getValue:function(){var c=Ext.DatePicker.superclass.getValue.call(this),b=this.getDaysInMonth(c.month,c.year),a=Math.min(c.day,b);return new Date(c.year,c.month-1,a)},getDaysInMonth:function(c,b){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return c==2&&this.isLeapYear(b)?29:a[c-1]},isLeapYear:function(a){return !!((a&3)===0&&(a%100||(a%400===0&&a)))}});Ext.reg("datepicker",Ext.DatePicker);Ext.Media=Ext.extend(Ext.Container,{url:"",enableControls:true,autoResume:false,autoPause:true,preload:true,playing:false,afterRender:function(){var a=this.getConfiguration();Ext.apply(a,{src:this.url,preload:this.preload?"auto":"none"});if(this.enableControls){a.controls="controls"}if(this.loop){a.loop="loop"}this.media=this.el.createChild(a);Ext.Media.superclass.afterRender.call(this);this.on({scope:this,activate:this.onActivate,beforedeactivate:this.onDeactivate})},onActivate:function(){if(this.autoResume&&!this.playing){this.play()}},onDeactivate:function(){if(this.autoPause&&this.playing){this.pause()}},play:function(){this.media.dom.play();this.playing=true},pause:function(){this.media.dom.pause();this.playing=false},toggle:function(){if(this.playing){this.pause()}else{this.play()}}});Ext.reg("media",Ext.Media);Ext.Video=Ext.extend(Ext.Media,{poster:"",cmpCls:"x-video",afterRender:function(){Ext.Video.superclass.afterRender.call(this);if(this.poster){this.media.hide();this.ghost=this.el.createChild({cls:"x-video-ghost",style:"width: 100%; height: 100%; background: #000 url("+this.poster+") center center no-repeat; -webkit-background-size: 100% auto;"});this.ghost.on("tap",this.onGhostTap,this,{single:true})}},onGhostTap:function(){this.media.show();this.ghost.hide();this.play()},getConfiguration:function(){return{tag:"video",width:"100%",height:"100%"}}});Ext.reg("video",Ext.Video);Ext.Audio=Ext.extend(Ext.Media,{cmpCls:"x-audio",onActivate:function(){Ext.Audio.superclass.onActivate.call(this);if(Ext.is.Phone){this.media.show()}},onDeactivate:function(){Ext.Audio.superclass.onDeactivate.call(this);if(Ext.is.Phone){this.media.hide()}},getConfiguration:function(){var a=!this.enableControls;if(!Ext.supports.AudioTag){return{tag:"embed",type:"audio/mpeg",target:"myself",controls:"true",hidden:a}}else{return{tag:"audio",hidden:a}}}});Ext.reg("audio",Ext.Audio);Ext.MessageBox=Ext.extend(Ext.Sheet,{centered:true,renderHidden:true,bodyPadding:"6 0",ui:"dark",cmpCls:"x-msgbox",arrivalEffect:"pop",departEffect:"pop",defaultTextHeight:75,constructor:function(a){a=a||{};var c=a.ui||this.ui||"",b=a.cmpCls||this.cmpCls;delete a.html;this.titleBar=Ext.create({xtype:"toolbar",ui:c,dock:"top",cls:b+"-title",title:"&#160;"});this.buttonBar=Ext.create({xtype:"toolbar",ui:c,dock:"bottom",layout:{pack:"center"},cls:b+"-buttons"});a=Ext.apply({ui:c,dockedItems:[this.titleBar,this.buttonBar],renderSelectors:{body:"."+b+"-body",iconEl:"."+b+"-icon",msgContentEl:"."+b+"-content",msgEl:"."+b+"-text",inputsEl:"."+b+"-inputs",inputEl:"."+b+"-input-single",multiLineEl:"."+b+"-input-textarea"}},a||{});Ext.MessageBox.superclass.constructor.call(this,a)},renderTpl:['<div class="{cmpCls}-body"<tpl if="bodyStyle"> style="position:relative; {bodyStyle}"</tpl>>','<div class="{cmpCls}-icon x-hidden-display"></div>','<div class="{cmpCls}-content">','<div class="{cmpCls}-text"></div>','<div class="{cmpCls}-inputs x-hidden-display">','<input type="text" class="{cmpCls}-input {cmpCls}-input-single" />','<textarea class="{cmpCls}-input {cmpCls}-input-textarea"></textarea>',"</div>","</div>","</div>"],onClick:function(b){if(b){var a=b.config||{};if(typeof a.fn=="function"){a.fn.call(a.scope||null,b.itemId||b.text,a.input?a.input.dom.value:null,a)}if(a.cls){this.el.removeClass(a.cls)}if(a.input){a.input.dom.blur()}}this.hide()},show:function(c){var e,d,g={autocomplete:"off",autocapitalize:"off",autocorrect:"off",maxlength:0,autofocus:true,placeholder:"",type:"text"},a=/true|on/i;this.rendered||this.render(document.body);c=Ext.applyIf(c||{},{multiLine:false,prompt:false,value:"",modal:true});if(c.title){this.titleBar.setTitle(c.title);this.titleBar.show()}else{this.titleBar.hide()}if(this.inputsEl&&(c.multiLine||c.prompt)){this.inputsEl.show();if(this.multiLineEl&&c.multiLine){this.inputEl&&this.inputEl.hide();this.multiLineEl.show().setHeight(Ext.isNumber(c.multiLine)?parseFloat(c.multiLine):this.defaultTextHeight);c.input=this.multiLineEl}else{if(this.inputEl){this.inputEl.show();this.multiLineEl&&this.multiLineEl.hide();c.input=this.inputEl}}if(Ext.isObject(c.prompt)){Ext.apply(g,c.prompt)}for(d in g){if(g.hasOwnProperty(d)){e=g[d];c.input.dom.setAttribute(d.toLowerCase(),/^auto/i.test(d)?(a.test(e+"")?"on":"off"):e)}}}else{this.inputsEl&&this.inputsEl.hide()}this.setIcon(c.icon||"",false);this.updateText(c.msg,false);if(c.cls){this.el.addClass(c.cls)}this.modal=!!c.modal;var f=this.buttonBar,b=[];f.removeAll();Ext.each([].concat(c.buttons||Ext.MessageBox.OK),function(h){if(h){b.push(Ext.applyIf({config:c,scope:this,handler:this.onClick},h))}},this);f.add(b);if(f.rendered){f.doLayout()}Ext.MessageBox.superclass.show.call(this,c.animate);if(c.input){c.input.dom.value=c.value||"";if(a.test(g.autofocus+"")&&!("autofocus" in c.input.dom)){c.input.dom.focus()}}return this},onOrientationChange:function(){this.doComponentLayout();Ext.MessageBox.superclass.onOrientationChange.apply(this,arguments)},adjustScale:function(){Ext.apply(this,{maxWidth:window.innerWidth,maxHeight:window.innerHeight,minWidth:window.innerWidth*0.5,minHeight:window.innerHeight*0.5})},doComponentLayout:function(){this.adjustScale();return Ext.MessageBox.superclass.doComponentLayout.apply(this,arguments)},alert:function(d,c,b,a){return this.show({title:d,msg:c,buttons:Ext.MessageBox.OK,fn:b,scope:a,icon:Ext.MessageBox.INFO})},confirm:function(d,c,b,a){return this.show({title:d,msg:c,buttons:Ext.MessageBox.YESNO,fn:function(e){if(e=="yes"){b.apply(a)}},scope:a,icon:Ext.MessageBox.QUESTION})},prompt:function(g,f,c,b,e,d,a){return this.show({title:g,msg:f,buttons:Ext.MessageBox.OKCANCEL,fn:function(j,h){if(j=="ok"){c.call(b,h)}},scope:b,icon:Ext.MessageBox.QUESTION,prompt:a||true,multiLine:e,value:d})},updateText:function(b,a){if(this.msgEl){this.msgEl.update(b?String(b):"&#160;");if(a!==false){this.doComponentLayout()}}return this},setIcon:function(a,b){if(a){this.iconEl.show();this.iconEl.replaceClass(this.iconCls,a)}else{this.iconEl.replaceClass(this.iconCls,"x-hidden-display")}if(b!==false){this.doComponentLayout()}this.iconCls=a;return this}});(function(){var a=Ext.MessageBox;Ext.apply(a,{OK:{text:"OK",itemId:"ok",ui:"action"},CANCEL:{text:"Cancel",itemId:"cancel"},YES:{text:"Yes",itemId:"yes",ui:"action"},NO:{text:"No",itemId:"no"},INFO:"x-msgbox-info",WARNING:"x-msgbox-warning",QUESTION:"x-msgbox-question",ERROR:"x-msgbox-error"});Ext.apply(a,{OKCANCEL:[a.OK,a.CANCEL],YESNOCANCEL:[a.YES,a.NO,a.CANCEL],YESNO:[a.YES,a.NO]})})();Ext.reg("msgbox",Ext.MessageBox);Ext.Msg=new Ext.MessageBox();Ext.form.FormPanel=Ext.extend(Ext.Panel,{standardSubmit:false,cmpCls:"x-form",url:undefined,baseParams:undefined,waitTpl:new Ext.XTemplate('<div class="{cls}">{message}&hellip;</div>'),getElConfig:function(){return Ext.apply(Ext.form.FormPanel.superclass.getElConfig.call(this),{tag:"form"})},initComponent:function(){this.addEvents("submit","beforesubmit","exception");Ext.form.FormPanel.superclass.initComponent.call(this)},afterRender:function(){Ext.form.FormPanel.superclass.afterRender.call(this);this.el.on("submit",this.onSubmit,this)},onSubmit:function(b,a){if(!this.standardSubmit||this.fireEvent("beforesubmit",this,this.getValues(true))===false){if(b){b.stopEvent()}}},submit:function(a){var b=this.el.dom||{},d=Ext.apply({url:this.url||b.action,submitDisabled:false,method:b.method||"post",autoAbort:false,params:null,waitMsg:null,headers:null,success:null,failure:null},a||{}),c=this.getValues(this.standardSubmit||!d.submitDisabled);if(this.standardSubmit){if(b){if(d.url&&Ext.isEmpty(b.action)){b.action=d.url}b.method=(d.method||b.method).toLowerCase();b.submit()}return null}if(this.fireEvent("beforesubmit",this,c,a)!==false){if(d.waitMsg){this.showMask(d.waitMsg)}return Ext.Ajax.request({url:d.url,method:d.method,rawData:Ext.urlEncode(Ext.apply(Ext.apply({},this.baseParams||{}),d.params||{},c)),autoAbort:d.autoAbort,headers:Ext.apply({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},d.headers||{}),scope:this,callback:function(f,h,e){var g=e;this.hideMask();if(h){g=Ext.decode(g.responseText);h=!!g.success;if(h){if(typeof d.success=="function"){d.scope?d.success.call(d.scope,this,g):d.success(this,g)}this.fireEvent("submit",this,g);return}}if(typeof d.failure=="function"){d.scope?d.failure.call(d.scope,this,g):d.failure(this,g)}this.fireEvent("exception",this,g)}})}},loadRecord:function(a){if(a&&a.data){this.setValues(a.data);this.record=a}return this},loadModel:function(){return this.loadRecord.apply(this,arguments)},getRecord:function(){return this.record},updateModel:function(b,e){var a,c,d;if(b&&(a=b.fields)){c=this.getValues(e);for(d in c){if(c.hasOwnProperty(d)&&a.containsKey(d)){b.set(d,c[d])}}}return this},setValues:function(b){var a=this.getFields(),c,d;b=b||{};for(c in b){if(b.hasOwnProperty(c)&&c in a){d=a[c];d.setValue&&d.setValue(b[c])}}return this},getValues:function(d){var a=this.getFields(),e,b={},c;for(c in a){if(a.hasOwnProperty(c)){e=a[c];if(d&&e.disabled){continue}if(e.getValue){b[c]=e.getGroupValue?e.getGroupValue():e.getValue()}}}return b},reset:function(){var a=this.getFields(),b;for(b in a){if(a.hasOwnProperty(b)){a[b].reset()}}},getFields:function(){var a={};var b=function(c){if(c.isField){a[c.getName()]=c}if(c.isContainer){c.items.each(b)}};this.items.each(b);return a},showMask:function(a,b){a=Ext.isString(a)?{message:a,transparent:false}:a;if(a&&this.waitTpl){this.maskTarget=b=Ext.get(b||a.target)||this.el;b&&b.mask(!!a.transparent,this.waitTpl.apply(a))}return this},hideMask:function(){if(this.maskTarget){this.maskTarget.unmask();delete this.maskTarget}return this}});Ext.form.FormPanel.prototype.load=Ext.form.FormPanel.prototype.loadModel;Ext.reg("form",Ext.form.FormPanel);Ext.form.FieldSet=Ext.extend(Ext.Panel,{cmpCls:"x-form-fieldset",initComponent:function(){this.componentLayout=this.getLayout();Ext.form.FieldSet.superclass.initComponent.call(this)},afterLayout:function(a){Ext.form.FieldSet.superclass.afterLayout.call(this,a);if(this.title&&!this.titleEl){this.setTitle(this.title)}else{if(this.titleEl){this.el.insertFirst(this.titleEl)}}if(this.instructions&&!this.instructionsEl){this.setInstructions(this.instructions)}else{if(this.instructionsEl){this.el.appendChild(this.instructionsEl)}}},setTitle:function(a){if(this.rendered){if(!this.titleEl){this.titleEl=this.el.insertFirst({cls:this.cmpCls+"-title"})}this.titleEl.setHTML(a)}else{this.title=a}return this},setInstructions:function(a){if(this.rendered){if(!this.instructionsEl){this.instructionsEl=this.el.createChild({cls:this.cmpCls+"-instructions"})}this.instructionsEl.setHTML(a)}else{this.instructions=a}return this}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.Field=Ext.extend(Ext.Component,{ui:"text",isField:true,baseCls:"x-field",inputCls:undefined,focusClass:"x-field-focus",maxLength:0,placeHolder:undefined,autoComplete:undefined,autoCapitalize:undefined,autoFocus:undefined,autoCorrect:undefined,renderTpl:['<tpl if="label"><label <tpl if="fieldEl">for="{inputId}"</tpl> class="x-form-label"><span>{label}</span></label></tpl>','<tpl if="fieldEl"><input id="{inputId}" type="{type}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeHolder">placeholder="{placeHolder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="maxlength">maxlength="{maxlength}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoCapitalize">autocapitalize="{autoCapitalize}" </tpl>','<tpl if="autoCorrect">autocorrect="{autoCorrect}" </tpl>','<tpl if="autoFocus">autofocus="{autoFocus}" </tpl>',"/></tpl>",'<tpl if="showClear"><div class="x-field-clear x-hidden-display">&#215;</div></tpl>','<tpl if="maskField"><div class="x-field-mask"></div></tpl>'],disabled:false,isFormField:true,hasFocus:false,autoCreateField:true,inputType:"text",label:null,labelWidth:100,labelAlign:"left",required:false,maskField:false,initComponent:function(){this.label=this.label||this.fieldLabel;Ext.form.Field.superclass.initComponent.call(this);this.addEvents("focus","blur","change","keyup")},getName:function(){return this.name||this.id||""},applyRenderSelectors:function(){this.renderSelectors=Ext.applyIf(this.renderSelectors||{},{mask:".x-field-mask",labelEl:"label",clearEl:".x-field-clear",fieldEl:"."+Ext.util.Format.trim(this.renderData.fieldCls).replace(/ /g,".")});Ext.form.Field.superclass.applyRenderSelectors.call(this)},initRenderData:function(){var e=this,g=Ext.form.Field.superclass.initRenderData.call(this),f=e.autoComplete,c=e.autoCapitalize,d=e.autoFocus,a=e.autoCorrect;Ext.applyIf(g,{disabled:e.disabled,fieldCls:"x-input-"+e.inputType+(e.inputCls?" "+e.inputCls:""),fieldEl:!e.fieldEl&&e.autoCreateField,inputId:Ext.id(),label:e.label,labelAlign:"x-label-align-"+e.labelAlign,name:e.name||e.id,placeHolder:e.placeHolder,required:e.required,style:e.style,tabIndex:e.tabIndex,maxlength:e.maxLength,type:e.inputType,maskField:e.maskField,showClear:e.showClear});var b=/true|on/i;if(f!==undefined){g.autoComplete=b.test(f+"")?"on":"off"}if(c!==undefined){g.autoCapitalize=b.test(c+"")?"on":"off"}if(a!==undefined){g.autoCorrect=b.test(a+"")?"on":"off"}if(d!==undefined){g.autoFocus=b.test(d+"")?"on":"off";e.autoFocus=g.autoFocus=="on"}this.renderData=g;return g},onRender:function(){Ext.form.Field.superclass.onRender.apply(this,arguments);var a=[];if(this.required){a.push("x-field-required")}if(this.label){a.push("x-label-align-"+this.labelAlign)}this.el.addClass(a)},initEvents:function(){var a=this;Ext.form.Field.superclass.initEvents.call(a);if(a.fieldEl){a.mon(a.fieldEl,{focus:a.onFocus,blur:a.onBlur,keyup:a.onKeyUp,paste:a.checkClear,scope:a});if(a.maskField){a.mon(a.mask,{tap:a.onMaskTap,scope:a})}if(a.clearEl){a.mon(a.clearEl,{scope:this,tap:this.onClearTap})}}},onEnable:function(){this.el.removeClass(this.disabledClass);this.el.dom.disabled=false;this.fieldEl.dom.disabled=false;this.checkClear()},onDisable:function(){this.el.addClass(this.disabledClass);this.el.dom.disabled=true;this.fieldEl.dom.disabled=true;this.checkClear(true)},initValue:function(){if(this.value!==undefined){this.setValue(this.value)}this.originalValue=this.getValue()},isDirty:function(){if(this.disabled||!this.rendered){return false}return String(this.getValue())!==String(this.originalValue)},onClearTap:function(){this.setValue("")},checkClear:function(c){var b=this.clearEl,d=this.fieldEl,a=this.getValue();if(!(b&&d)){return}a=Ext.isEmpty(a)?"":String(a);if(c||a.length===0){b.addClass("x-hidden-display");d.removeClass("x-field-clearable")}else{b.removeClass("x-hidden-display");d.addClass("x-field-clearable")}},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initValue();this.checkClear();if(this.autoFocus&&!("autofocus" in this.fieldEl.dom)){this.focus()}},onKeyUp:function(a){this.checkClear();if(a.browserEvent.keyCode===13){this.blur();Ext.hideAddressBar()}this.fireEvent("keyup",this,a)},onMaskTap:function(a){this.mask.hide()},reset:function(){this.setValue(this.originalValue)},beforeFocus:Ext.emptyFn,undoNativeScroll:function(){var a=this.el.parent();while(a){if(a.getStyle("overflow")=="hidden"){a.dom.scrollTop=0;a.dom.scrollLeft=0}a=a.parent()}},onFocus:function(b){var a=this;setTimeout(function(){a.undoNativeScroll()},0);this.beforeFocus();if(this.focusClass){this.el.addClass(this.focusClass)}if(!this.hasFocus){this.hasFocus=true;this.startValue=this.getValue();this.fireEvent("focus",this)}Ext.getDoc().on("touchend",this.onDocTouchEnd,this,{capture:true})},onDocTouchEnd:function(b,a){if(!Ext.fly(b.target).hasClass("x-field-mask")&&a.tagName.toLowerCase()!="input"){this.blur();Ext.hideAddressBar()}},beforeBlur:Ext.emptyFn,onBlur:function(){Ext.getDoc().un("touchend",this.onDocTouchEnd,this);this.beforeBlur();if(this.focusClass){this.el.removeClass(this.focusClass)}this.hasFocus=false;var a=this.getValue();if(String(a)!=String(this.startValue)){this.fireEvent("change",this,a,this.startValue)}this.fireEvent("blur",this);this.checkClear();if(this.maskField){this.mask.show()}this.postBlur()},postBlur:Ext.emptyFn,getValue:function(){if(!this.rendered||!this.fieldEl){return this.value}return this.fieldEl.getValue()},focus:function(){if(this.rendered&&this.fieldEl&&this.fieldEl.dom.focus){this.fieldEl.dom.focus()}return this},blur:function(){if(this.rendered&&this.fieldEl&&this.fieldEl.dom.blur){this.fieldEl.dom.blur()}return this},setValue:function(a){this.value=a;if(this.rendered&&this.fieldEl){this.fieldEl.dom.value=(Ext.isEmpty(a)?"":a)}this.checkClear();return this}});Ext.reg("field",Ext.form.Field);Ext.form.Slider=Ext.extend(Ext.form.Field,{ui:"slider",inputCls:"x-slider",inputType:"slider",minValue:0,maxValue:100,animate:true,value:0,trackWidth:null,renderTpl:['<tpl if="label">','<label <tpl if="fieldEl">for="{inputId}"</tpl> class="x-form-label"><span>{label}</span></label>',"</tpl>",'<tpl if="fieldEl">','<div id="{inputId}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}"</tpl>','<tpl if="style">style="{style}" </tpl>',"/></tpl>"],increment:1,constructor:function(a){this.addEvents("beforechange","change","drag","dragend");Ext.form.Slider.superclass.constructor.call(this,a)},initComponent:function(){var e=this;e.values=[e.value];Ext.form.Slider.superclass.initComponent.apply(e,arguments);if(e.thumbs==undefined){var a=[],b=e.values,d=b.length,c,f=e.getThumbClass();for(c=0;c<d;c++){a[a.length]=new f({value:b[c],slider:e,listeners:{scope:e,drag:e.onDrag,dragend:e.onThumbDragEnd}})}e.thumbs=a}},getThumbClass:function(){return Ext.form.Slider.Thumb},setValue:function(e,b){var d=this,a=d.getThumb(),c=a.getValue(),f=d.constrain(e);if(d.fireEvent("beforechange",d,a,c,f)!==false){d.moveThumb(a,d.getPixelValue(f,a),b);a.setValue(f);d.doComponentLayout();d.fireEvent("change",d,a,c,f)}},constrain:function(e){var b=this.increment,g=Math.floor(Math.abs(e/b)),c=this.minValue+(g*b),a=Math.min(c+b,this.maxValue),f=e-c,d=a-e;return(f<d)?c:a},getValue:function(){return this.getThumb().getValue()},getThumb:function(){return this.thumbs[0]},getSliderValue:function(b,d){var f=d.el.getOuterWidth(),g=f/2,a=this.fieldEl.getWidth()-f,c=this.maxValue-this.minValue,e;this.trackWidth=(a>0)?a:this.trackWidth;e=c/this.trackWidth;return this.minValue+(e*(b-g))},getPixelValue:function(f,c){var e=c.el.getOuterWidth(),g=e/2,a=this.fieldEl.getWidth()-e,b=this.maxValue-this.minValue,d;this.trackWidth=(a>0)?a:this.trackWidth;d=this.trackWidth/b;return(d*(f-this.minValue))+g},renderThumbs:function(){var a=this.thumbs,c=a.length,b;for(b=0;b<c;b++){a[b].render(this.fieldEl)}},onThumbDragEnd:function(a){var c=this.getThumbValue(a),b=this;b.setValue(c);b.fireEvent("dragend",b,a.thumb,b.constrain(c))},getThumbValue:function(b){var d=b.thumb,e=this.fieldEl.getPageBox(),c=d.el.getPageBox(),f=c.width,g=f/2,a=(c.left-e.left)+g;return this.getSliderValue(a,d)},onDrag:function(a){var b=this.getThumbValue(a);this.fireEvent("drag",this,a.thumb,this.constrain(b))},onTap:function(d){if(!this.disabled){var b=this.fieldEl.getPageBox(),c=d.pageX-b.left,a=this.getNearest(c);this.setValue(this.getSliderValue(c,a),this.animate)}},moveThumb:function(b,c,a){var d=b.el.getOuterWidth()/2;if(a){new Ext.Anim({to:{left:(c-d)+"px"},duration:200,autoClear:false}).run(b.el)}else{b.el.setLeft(c-d)}},afterRender:function(a){var b=this;b.renderThumbs();Ext.form.Slider.superclass.afterRender.apply(b,arguments);b.fieldEl.on({scope:b,tap:b.onTap})},getNearest:function(a){return this.thumbs[0]},setThumbsDisabled:function(b){var a=this.thumbs,d=a.length,c=0;for(;c<d;c++){a[c].dragObj[b?"disable":"enable"]()}},disable:function(){Ext.form.Slider.superclass.disable.call(this);this.setThumbsDisabled(true)},enable:function(){Ext.form.Slider.superclass.enable.call(this);this.setThumbsDisabled(false)}});Ext.reg("slider",Ext.form.Slider);Ext.form.Slider.Thumb=Ext.extend(Ext.form.Field,{isField:false,baseCls:"x-thumb",autoCreateField:false,draggable:true,value:0,onRender:function(){this.draggable={direction:"horizontal",constrain:this.slider.fieldEl,revert:false,thumb:this};Ext.form.Slider.Thumb.superclass.onRender.apply(this,arguments)},setValue:function(a){this.value=a},getValue:function(){return this.value}});Ext.reg("thumb",Ext.form.Slider.Thumb);Ext.form.Toggle=Ext.extend(Ext.form.Slider,{minValue:0,maxValue:1,ui:"toggle",inputType:"toggle",minValueCls:"x-toggle-off",maxValueCls:"x-toggle-on",toggle:function(){var b=this,a=b.thumbs[0],c=a.getValue();b.setValue(c==b.minValue?b.maxValue:b.minValue)},setValue:function(b){var a=this;Ext.form.Toggle.superclass.setValue.apply(a,arguments);var c=a.fieldEl;if(a.constrain(b)===a.minValue){c.addClass(a.minValueCls);c.removeClass(a.maxValueCls)}else{c.addClass(a.maxValueCls);c.removeClass(a.minValueCls)}},onTap:function(){if(!this.disabled){this.toggle()}},getThumbClass:function(){return Ext.form.Toggle.Thumb}});Ext.reg("toggle",Ext.form.Toggle);Ext.form.Toggle.Thumb=Ext.extend(Ext.form.Slider.Thumb,{onRender:function(){Ext.form.Toggle.Thumb.superclass.onRender.apply(this,arguments);Ext.DomHelper.append(this.el,[{cls:"x-toggle-thumb-off",html:"<span>OFF</span>"},{cls:"x-toggle-thumb-on",html:"<span>ON</span>"},{cls:"x-toggle-thumb-thumb"}])}});Ext.form.TextField=Ext.extend(Ext.form.Field,{type:"text",maskField:Ext.is.iOS});Ext.reg("textfield",Ext.form.TextField);Ext.form.PasswordField=Ext.extend(Ext.form.Field,{maskField:Ext.is.iOS,inputType:"password",autoCapitalize:false});Ext.reg("passwordfield",Ext.form.PasswordField);Ext.form.EmailField=Ext.extend(Ext.form.TextField,{inputType:"email",autoCapitalize:false});Ext.reg("emailfield",Ext.form.EmailField);Ext.form.UrlField=Ext.extend(Ext.form.TextField,{inputType:"url",autoCapitalize:false});Ext.reg("urlfield",Ext.form.UrlField);Ext.form.SearchField=Ext.extend(Ext.form.Field,{inputType:"search"});Ext.reg("searchfield",Ext.form.SearchField);Ext.form.NumberField=Ext.extend(Ext.form.TextField,{inputType:"number",minValue:undefined,maxValue:undefined,stepValue:undefined,renderTpl:['<tpl if="label"><label <tpl if="fieldEl">for="{inputId}"</tpl> class="x-form-label"><span>{label}</span></label></tpl>','<tpl if="fieldEl"><input id="{inputId}" type="{type}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeholder">placeholder="{placeholder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="minValue != undefined">min="{minValue}" </tpl>','<tpl if="maxValue != undefined">max="{maxValue}" </tpl>','<tpl if="stepValue != undefined">step="{stepValue}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoCapitalize">autocapitalize="{autoCapitalize}" </tpl>','<tpl if="autoFocus">autofocus="{autoFocus}" </tpl>',"/></tpl>",'<tpl if="showClear"><div class="x-field-clear x-hidden-display"></div></tpl>','<tpl if="maskField"><div class="x-field-mask"></div></tpl>'],ui:"number",onRender:function(b,a){Ext.apply(this.renderData,{maxValue:this.maxValue,minValue:this.minValue,stepValue:this.stepValue});Ext.form.NumberField.superclass.onRender.call(this,b,a)}});Ext.reg("numberfield",Ext.form.NumberField);Ext.form.SpinnerField=Ext.extend(Ext.form.NumberField,{cmpCls:"x-spinner",minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,incrementValue:1,accelerate:true,defaultValue:0,cycle:false,disableInput:false,renderTpl:['<tpl if="label"><label <tpl if="fieldEl">for="{inputId}"</tpl> class="x-form-label"><span>{label}</span></label></tpl>','<tpl if="fieldEl">','<div class="{cmpCls}-body">','<div class="{cmpCls}-down"><span>-</span></div>','<input id="{inputId}" type="number" name="{name}" class="{fieldCls}"','<tpl if="disableInput">disabled </tpl>','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeholder">placeholder="{placeholder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="autoFocus">autofocus="{autoFocus}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>',"/>",'<div class="{cmpCls}-up"><span>+</span></div>',"</div>","</tpl>",'<div class="x-field-mask"></div>'],initComponent:function(){this.addEvents("spin","spindown","spinup");Ext.form.SpinnerField.superclass.initComponent.call(this)},onRender:function(b,a){var c=this;c.renderData.disableInput=c.disableInput;Ext.applyIf(c.renderSelectors,{spinUpEl:".x-spinner-up",spinDownEl:".x-spinner-down"});Ext.form.SpinnerField.superclass.onRender.call(c,b,a);c.downRepeater=c.createRepeater(c.spinDownEl,c.onSpinDown);c.upRepeater=c.createRepeater(c.spinUpEl,c.onSpinUp)},createRepeater:function(b,a){var c=new Ext.util.TapRepeater(b,{accelerate:this.accelerate});this.mon(c,{tap:a,touchstart:this.onTouchStart,touchend:this.onTouchEnd,preventDefault:true,scope:this});return c},onSpinDown:function(){if(!this.disabled){this.spin(true)}},onSpinUp:function(){if(!this.disabled){this.spin(false)}},onTouchStart:function(a){a.el.addClass("x-button-pressed")},onTouchEnd:function(a){a.el.removeClass("x-button-pressed")},spin:function(h){var e=this,f=parseFloat(e.getValue()),b=e.incrementValue,d=e.cycle,c=e.minValue,a=e.maxValue,g=h?"down":"up";if(h){f-=b}else{f+=b}f=(isNaN(f))?e.defaultValue:f;if(f<c){f=d?a:c}else{if(f>a){f=d?c:a}}e.setValue(f);this.fireEvent("spin"+g,this,f);this.fireEvent("spin",this,f,g)},destroy:function(){Ext.destroy(this.downRepeater,this.upRepeater);Ext.form.SpinnerField.superclass.destroy.call(this,arguments)}});Ext.reg("spinnerfield",Ext.form.SpinnerField);Ext.form.HiddenField=Ext.extend(Ext.form.Field,{inputType:"hidden",ui:"hidden",focus:Ext.emptyFn});Ext.reg("hidden",Ext.form.HiddenField);Ext.form.Checkbox=Ext.extend(Ext.form.Field,{inputType:"checkbox",ui:"checkbox",checked:false,inputValue:undefined,constructor:function(a){this.addEvents("check");Ext.form.Checkbox.superclass.constructor.call(this,a)},renderTpl:['<tpl if="label"><label <tpl if="fieldEl">for="{inputId}"</tpl> class="x-form-label"><span>{label}</span></label></tpl>','<tpl if="fieldEl"><input id="{inputId}" type="{type}" name="{name}" class="{fieldCls}" ','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="checked"> checked </tpl>','<tpl if="style">style="{style}" </tpl> value="{inputValue}" />',"</tpl>"],onRender:function(b,a){var c=this;Ext.apply(c.renderData,{inputValue:c.inputValue||c.value||"",checked:c.checked=/^(true|1|on)/i.test(String(c.checked))});Ext.form.Checkbox.superclass.onRender.call(c,b,a);if(c.fieldEl){c.mon(c.fieldEl,{change:c.onChange,scope:c});c.setValue(c.checked)}},onChange:function(){this.fireEvent("check",this,this.getValue())},getValue:function(){if(this.rendered){return this.fieldEl.dom.checked||false}return this.checked||false},setValue:function(a){var b=this.getValue();this.checked=/^(true|1|on)/i.test(String(a));if(this.rendered){this.fieldEl.dom.checked=this.fieldEl.dom.defaultChecked=this.checked}if(b!=this.checked){this.onChange()}}});Ext.reg("checkbox",Ext.form.Checkbox);Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",ui:"radio",getGroupValue:function(){var a=this.el.up("form")||Ext.getBody(),b=a.down("input[name="+this.fieldEl.dom.name+"]:checked",true);return b?b.value:null},setValue:function(c){if(typeof c=="boolean"){Ext.form.Radio.superclass.setValue.call(this,c)}else{if(this.rendered&&c!=undefined){var a=this.findMatchingRadio(c),b=a?a.up("."+this.renderData.baseCls):null;if(b){Ext.getCmp(b.id).setValue(true)}}}},findMatchingRadio:function(b){var a;this.getCheckEl().select("input[name="+this.fieldEl.dom.name+"]").each(function(c){if(c.dom.value==b){a=c;return false}});return a},getCheckEl:function(){if(this.inGroup){return this.el.up(".x-form-radio-group")}return this.el.up("form")||Ext.getBody()}});Ext.reg("radio",Ext.form.Radio);Ext.form.Select=Ext.extend(Ext.form.TextField,{ui:"select",valueField:"value",displayField:"text",maskField:true,prependText:"",initComponent:function(){var e=this;e.label=e.label||e.fieldLabel;var a=e.options,g=[],d=a&&a.length,b,c,f;if(a&&Ext.isArray(a)&&d){e.store=new Ext.data.Store({model:"x-textvalue",data:a})}else{if(e.store){e.store=Ext.StoreMgr.lookup(e.store)}}e.tabIndex=-1;Ext.form.Select.superclass.initComponent.call(e);e.addEvents("select")},onMaskTap:function(){if(this.disabled){return}var b=this;if(Ext.is.Phone){b.picker=new Ext.Picker({slots:[{align:"center",name:b.name,valueField:b.valueField,displayField:b.displayField,value:b.getValue(),store:b.store}],listeners:{change:b.onPickerChange,hide:b.onPickerHide,scope:b}});b.picker.show()}else{b.list=new Ext.List({store:b.store,tpl:['<tpl for=".">','<div class="x-list-item">','<span class="x-list-label">{'+b.displayField+"}</span>",'<span class="x-list-selected"></span>',"</div>","</tpl>"],cls:"x-select-overlay",itemSelector:".x-list-item",floating:true,stopMaskTapEvent:true,hideOnMaskTap:true,singleSelect:true,listeners:{selectionchange:b.onListSelect,scope:b}});b.list.showBy(b.el,"fade",false);var a=b.store.find(b.valueField,b.value);b.list.select(a!=-1?a:0,false,true)}},onListSelect:function(e,d,a){var c=this,b=a[0];if(b){c.setValue(b.get(c.valueField));c.fireEvent("select",c,c.getValue())}c.list.hide({type:"fade",out:true,after:function(){c.list.destroy()},scope:c})},onPickerChange:function(a,c){var b=this;b.setValue(c[b.name]);b.fireEvent("select",b,b.getValue())},onPickerHide:function(){this.picker.destroy()},getValue:function(){return this.value},initValue:function(){var a=this;a.setValue(a.value);a.originalValue=a.getValue()},setValue:function(b){var c=this,a=b?c.store.findRecord(c.valueField,b):c.store.getAt(0);if(a&&c.rendered){c.fieldEl.dom.value=c.prependText+" "+a.get(c.displayField);c.value=a.get(c.valueField)}else{c.value=b}return c},setOptions:function(b,a){var c=this;if(!b){c.store.clearData();c.setValue(null)}else{c.store.loadData(b,a)}}});Ext.reg("select",Ext.form.Select);Ext.form.TextArea=Ext.extend(Ext.form.TextField,{maskField:Ext.is.iOS,maxRows:undefined,autoCapitalize:false,renderTpl:['<tpl if="label"><label <tpl if="fieldEl">for="{inputId}"</tpl> class="x-form-label"><span>{label}</span></label></tpl>','<tpl if="fieldEl"><textarea id="{inputId}" type="{type}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeHolder">placeholder="{placeHolder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="maxRows != undefined">rows="{maxRows}" </tpl>','<tpl if="maxlength">maxlength="{maxlength}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoCapitalize">autocapitalize="{autoCapitalize}" </tpl>','<tpl if="autoFocus">autofocus="{autoFocus}" </tpl>',"></textarea></tpl>",'<tpl if="showClear"><div class="x-field-clear x-hidden-display"></div></tpl>','<tpl if="maskField"><div class="x-field-mask"></div></tpl>'],ui:"textarea",onRender:function(b,a){this.renderData.maxRows=this.maxRows;Ext.form.TextArea.superclass.onRender.call(this,b,a)}});Ext.reg("textarea",Ext.form.TextArea);Ext.form.DatePickerField=Ext.extend(Ext.form.Field,{ui:"select",datePickerConfig:null,maskField:true,initComponent:function(){this.tabIndex=-1;Ext.form.DatePickerField.superclass.initComponent.apply(this,arguments)},onMaskTap:function(){var b=this,a=Ext.apply(b.datePickerConfig||{},{value:b.value||null,listeners:{scope:b,change:b.onPickerChange,hide:b.onPickerHide}});b.datePicker=new Ext.DatePicker(a);b.datePicker.show()},onPickerChange:function(a,c){var b=this;b.setValue(c);b.fireEvent("select",b,b.getValue())},onPickerHide:function(){this.datePicker.destroy()},setValue:function(b){var a=this;if(Ext.isDate(b)){a.value=b}else{if(Ext.isObject(b)){a.value=new Date(b.year,b.month-1,b.day)}else{a.value=null}}if(a.rendered){a.fieldEl.dom.value=b?a.getValue(true):null}return a},getValue:function(b){var a=this.value||null;return(b&&Ext.isDate(a))?a.format(Ext.util.Format.defaultDateFormat):a},onDestroy:function(){if(this.datePicker){this.datePicker.destroy()}Ext.form.DatePickerField.superclass.onDestroy.call(this)}});Ext.reg("datepickerfield",Ext.form.DatePickerField);Ext.layout.LayoutManager=new Ext.AbstractManager({create:function(a,b){if(!a){a=b}if(Ext.isString(a)){return new this.types[a||b]}else{if(Ext.isObject(a)){if(a.isLayout){return a}else{return new this.types[a.type||b](a)}}}}});Ext.regLayout=function(){return Ext.layout.LayoutManager.registerType.apply(Ext.layout.LayoutManager,arguments)};Ext.layout.Layout=Ext.extend(Object,{type:"layout",isLayout:true,initialized:false,constructor:function(a){this.id=Ext.id(null,"ext-layout-");Ext.apply(this,a)},layout:function(){var a=this;a.layoutBusy=true;a.initLayout();if(a.beforeLayout.apply(a,arguments)!==false){a.onLayout.apply(a,arguments);a.afterLayout();a.owner.needsLayout=false;a.layoutBusy=false}},beforeLayout:function(){this.renderItems(this.getLayoutItems(),this.getTarget());return true},renderItems:function(a,e){var d=a.length,b=0,c;for(;b<d;b++){c=a[b];if(c&&!c.rendered){this.renderItem(c,b,e)}else{if(!this.isValidParent(c,e)){this.moveItem(c,b,e)}}}},renderItem:function(b,a,c){if(!b.rendered){b.render(c,a);this.configureItem(b,a);this.childrenChanged=true}},moveItem:function(b,a,c){if(typeof a=="number"){a=c.dom.childNodes[a]}c=c.dom||c;c.insertBefore(b.el.dom,a||null);b.container=c;this.configureItem(b,a);this.childrenChanged=true},initLayout:function(){if(!this.initialized&&!Ext.isEmpty(this.targetCls)){this.getTarget().addClass(this.targetCls)}this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},isValidParent:function(a,b){var c=a.el?a.el.dom:Ext.getDom(a);return b&&(c.parentNode==(b.dom||b))},configureItem:function(b,a){if(this.extraCls){b.el.addClass(this.extraCls)}},onLayout:Ext.emptyFn,afterLayout:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){if(this.extraCls&&a.rendered){a.el.removeClass(this.extraCls)}},destroy:function(){if(!Ext.isEmpty(this.targetCls)){var a=this.getTarget();if(a){a.removeClass(this.targetCls)}}this.onDestroy()}});Ext.layout.ComponentLayout=Ext.extend(Ext.layout.Layout,{type:"component",monitorChildren:true,beforeLayout:function(d,c){Ext.layout.ComponentLayout.superclass.beforeLayout.call(this);var b=this.owner,a=b.isVisible(),e;if(!a&&b.hiddenOwnerCt){e=b.hiddenOwnerCt.layoutOnShow;e.remove(b);e.add(b);b.needsLayout={width:d,height:c,isSetSize:false}}return a&&this.needsLayout(d,c)},needsLayout:function(c,a){this.lastComponentSize=this.lastComponentSize||{width:-Infinity,height:-Infinity};var b=this.childrenChanged;this.childrenChanged=false;return(b||this.lastComponentSize.width!==c||this.lastComponentSize.height!==a)},setElementSize:function(c,b,a){if(b!==undefined&&a!==undefined){c.setSize(b,a)}else{if(a!==undefined){c.setHeight(a)}else{if(b!==undefined){c.setWidth(b)}}}},getTarget:function(){return this.owner.el},setTargetSize:function(b,a){this.setElementSize(this.owner.el,b,a);this.lastComponentSize={width:b,height:a}},afterLayout:function(){var b=this.owner,e=b.layout,d=b.ownerCt,h,g,f,c,a;b.afterComponentLayout(this);if(e&&e.isLayout){e.layout()}if(d&&d.componentLayout&&d.componentLayout.monitorChildren&&!d.componentLayout.layoutBusy){d.componentLayout.childrenChanged=true;if(d.layout&&!d.layout.layoutBusy){if(d.layout.type=="autocontainer"){d.doComponentLayout(c,a)}else{d.layout.layout()}}}}});Ext.layout.AutoComponentLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"autocomponent",onLayout:function(b,a){this.setTargetSize(b,a)}});Ext.regLayout("autocomponent",Ext.layout.AutoComponentLayout);Ext.layout.DockLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"dock",extraCls:"x-docked",onLayout:function(a,p){var m=this,b=m.owner,d=b.ownerCt,j=b.layout,e=b.collapsed,f=b.contracted,k=b.expanded,h=m.headerItem,l=m.getTarget(),n=false,o=false,g;var c=m.info={boxes:[],size:{width:a,height:p},padding:{top:l.getPadding("t"),right:l.getPadding("r"),bottom:l.getPadding("b"),left:l.getPadding("l")},border:{top:l.getBorderWidth("t"),right:l.getBorderWidth("r"),bottom:l.getBorderWidth("b"),left:l.getBorderWidth("l")},bodyBox:{}};if(p===undefined||p===null||a===undefined||a===null||f){if((p===undefined&&a===undefined)&&(d&&d.layout&&(d.layout.type!="autocontainer"&&d.layout.type!="box"))){}else{if((p===undefined||p===null)&&(a===undefined||a===null)){o=true;n=true;if(!b.animCollapse||(!k&&!f)){m.setTargetSize(null,null)}m.updateBodyBox({width:null,height:null})}else{if(p===undefined||p===null){o=true;if(!b.animCollapse||(!k&&!f)){m.setTargetSize(a,null)}m.updateBodyBox({width:a,height:null})}else{n=true;if(!b.animCollapse||(!k&&!f)){m.setTargetSize(null,p)}m.updateBodyBox({width:null,height:p})}}if(!e&&j&&j.isLayout){j.layout()}m.dockItems(n,o);if(e){if(h){if(h.dock=="top"||h.dock=="bottom"){c.size.height=h.getHeight()}else{c.size.width=h.getWidths()}}else{c.size.height=0}}if(k||f){if(b.animCollapse){Ext.createDelegate(b.animCollapseFn,b,[c.size.width,c.size.height])()}else{Ext.createDelegate(b["after"+k?"Expand":"Collapse"],b)();m.setTargetSize(c.size.width,c.size.height)}}else{m.setTargetSize(c.size.width,c.size.height)}}}else{if(k||f){if(b.animCollapse){Ext.createDelegate(b.animCollapseFn,b,[a,p])()}else{Ext.createDelegate(b["after"+k?"Expand":"Collapse"],b)();m.setTargetSize(a,p)}}else{m.setTargetSize(a,p);m.dockItems()}}Ext.layout.DockLayout.superclass.onLayout.call(m,a,p)},afterLayout:function(){Ext.layout.DockLayout.superclass.afterLayout.call(this)},dockItems:function(h,a){this.calculateDockBoxes(h,a);var f=this.info,g=this.owner.collapsed,c=f.boxes,e=c.length,d,b;for(b=0;b<e;b++){d=c[b];if(g===true&&!d.isHeader){continue}d.item.setPosition(d.x,d.y)}if(h){f.bodyBox.width=null}if(a){f.bodyBox.height=null}this.updateBodyBox(f.bodyBox)},calculateDockBoxes:function(m,p){var v=this,x=v.getTarget(),l=v.getLayoutItems(),a=v.owner,b=a.contracted,o=a.expanded,f=a.body,s=v.info,k=s.size,c=l.length,g=s.padding,n=s.border,t,q,d,e,r,u,j;if(p){k.height=f.getHeight()+g.top+n.top+g.bottom+n.bottom}else{k.height=x.getHeight()}if(m){k.width=f.getWidth()+g.left+n.left+g.right+n.right}else{k.width=x.getWidth()}s.bodyBox={x:n.left+g.left,y:n.top+g.top,width:k.width-g.left-n.left-g.right-n.right,height:k.height-n.top-g.top-n.bottom-g.bottom};for(q=0;q<c;q++){t=l[q];if(t.isHeader){v.headerItem=t}d=v.initBox(t);if(p===true){d=v.adjustAutoBox(d,q)}else{d=v.adjustSizedBox(d,q)}s.boxes.push(d)}},adjustSizedBox:function(c,b){var a=this.info.bodyBox;switch(c.type){case"top":c.y=a.y;break;case"left":c.x=a.x;break;case"bottom":c.y=(a.y+a.height)-c.height;break;case"right":c.x=(a.x+a.width)-c.width;break}if(!c.overlay){switch(c.type){case"top":a.y+=c.height;a.height-=c.height;break;case"left":a.x+=c.width;a.width-=c.width;break;case"bottom":a.height-=c.height;break;case"right":a.width-=c.width;break}}return c},adjustAutoBox:function(c,f){var a=this.info,g=a.bodyBox,j=a.size,d=a.boxes,h=c.type,b,e;if(h=="top"||h=="bottom"){for(b=0;b<f;b++){e=d[b];if(e.stretched&&e.type=="left"||e.type=="right"){e.height+=c.height}else{if(e.type=="bottom"){e.y+=c.height}}}}switch(h){case"top":c.y=g.y;if(!c.overlay){g.y+=c.height}j.height+=c.height;break;case"bottom":c.y=(g.y+g.height);j.height+=c.height;break;case"left":c.x=g.x;if(!c.overlay){g.x+=c.width;g.width-=c.width}break;case"right":if(!c.overlay){g.width-=c.width}c.x=(g.x+g.width);break}return c},initBox:function(d){var b=this.info.bodyBox,a=(d.dock=="top"||d.dock=="bottom"),c={item:d,overlay:d.overlay,type:d.dock};if(d.stretch!==false){c.stretched=true;if(a){c.x=b.x;c.width=b.width;d.doComponentLayout(c.width-d.el.getMargin("lr"))}else{c.y=b.y;c.height=b.height;d.doComponentLayout(undefined,c.height-d.el.getMargin("tb"))}}else{d.doComponentLayout();c.width=d.getWidth();c.height=d.getHeight();if(a){c.x=(d.align=="right")?b.width-c.width:b.x}}if(c.width==undefined){c.width=d.getWidth()+d.el.getMargin("lr")}if(c.height==undefined){c.height=d.getHeight()+d.el.getMargin("tb")}return c},getLayoutItems:function(){return this.owner.getDockedItems()},updateBodyBox:function(f){var j=this,b=j.owner,g=j.owner.body,c=j.info,e=b.contracted,h=b.expanded,k=c.padding,d=c.border,a;if(Ext.isNumber(f.width)){f.width-=g.getMargin("lr")}if(Ext.isNumber(f.height)){f.height-=g.getMargin("tb")}j.setElementSize(g,f.width,f.height);g.setLeft(f.x-k.left-d.left);g.setTop(f.y-k.top-d.top)},configureItem:function(b,c){Ext.layout.DockLayout.superclass.configureItem.call(this,b,c);var a=b.el||Ext.get(b);if(this.extraCls){a.addClass(this.extraCls+"-"+b.dock)}},afterRemove:function(a){Ext.layout.DockLayout.superclass.afterRemove.call(this,a);if(this.extraCls){a.el.removeClass(this.extraCls+"-"+a.dock)}var b=a.el.dom;if(b){b.parentNode.removeChild(b)}this.childrenChanged=true}});Ext.regLayout("dock",Ext.layout.DockLayout);Ext.layout.FieldLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"field",onLayout:function(b,a){Ext.layout.FieldLayout.superclass.onLayout.call(this,owner,target);this.setTargetSize(b,a)},handleLabel:function(){this.owner.labelEl.setWidth(this.owner.labelWidth)}});Ext.regLayout("field",Ext.layout.FieldLayout);Ext.layout.ContainerLayout=Ext.extend(Ext.layout.Layout,{type:"container",getLayoutItems:function(){return this.owner&&this.owner.items&&this.owner.items.items||[]},afterLayout:function(){this.owner.afterLayout(this)},getTarget:function(){return this.owner.getTargetEl()}});Ext.layout.AutoContainerLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"autocontainer",onLayout:function(a,e){var b=this.getLayoutItems(),d=b.length,c;for(c=0;c<d;c++){b[c].doComponentLayout()}}});Ext.regLayout("auto",Ext.layout.AutoContainerLayout);Ext.regLayout("autocontainer",Ext.layout.AutoContainerLayout);Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{extraCls:"x-fit-item",targetCls:"x-layout-fit",type:"fit",onLayout:function(){Ext.layout.FitLayout.superclass.onLayout.call(this);if(this.owner.items.length){var b=this.getTargetBox(),a=this.owner.items.get(0);this.setItemBox(a,b);a.cancelAutoSize=true}},getTargetBox:function(){var d=this.getTarget(),b=d.getSize(),c={left:d.getPadding("l"),right:d.getPadding("r"),top:d.getPadding("t"),bottom:d.getPadding("b")},a={left:d.getBorderWidth("l"),right:d.getBorderWidth("r"),top:d.getBorderWidth("t"),bottom:d.getBorderWidth("b")};return{width:b.width-c.left-c.right-a.left-a.right,height:b.height-c.top-c.bottom-a.top-a.bottom,x:c.left+a.left,y:c.top+a.top}},setItemBox:function(b,a){if(b&&a.height>0){a.width=null;a.height-=b.el.getMargin("tb");b.setCalculatedSize(a);b.setPosition(a)}}});Ext.regLayout("fit",Ext.layout.FitLayout);Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{type:"card",sizeAllCards:false,hideInactive:true,beforeLayout:function(){this.activeItem=this.getActiveItem();return Ext.layout.CardLayout.superclass.beforeLayout.apply(this,arguments)},onLayout:function(){Ext.layout.FitLayout.superclass.onLayout.apply(this,arguments);var f=this.activeItem,b=this.getLayoutItems(),e=b.length,a=this.getTargetBox(),c,d;for(c=0;c<e;c++){d=b[c];this.setItemBox(d,a)}if(!this.firstActivated&&f){if(f.fireEvent("beforeactivate",f)!==false){f.fireEvent("activate",f)}this.firstActivated=true}},getActiveItem:function(){if(!this.activeItem&&this.owner){this.activeItem=this.parseActiveItem(this.owner.activeItem)}if(this.activeItem&&this.owner.items.items.indexOf(this.activeItem)!=-1){return this.activeItem}return null},parseActiveItem:function(a){if(a&&a.isComponent){return a}else{if(typeof a=="number"||a==undefined){return this.getLayoutItems()[a||0]}else{return this.owner.getComponent(a)}}},configureItem:function(b,a){Ext.layout.FitLayout.superclass.configureItem.call(this,b,a);if(this.hideInactive&&this.activeItem!==b){b.hide()}else{b.show()}},onRemove:function(a){if(a===this.activeItem){this.activeItem=null;if(this.owner.items.getCount()==0){this.firstActivated=false}}},getAnimation:function(b,a){var c=(b||{}).animation;if(c===false){return false}return c||a.animation},setActiveItem:function(b,f){var e=this,a=e.owner,g=Ext.getDoc(),d=e.activeItem,c;f=(f==undefined)?this.getAnimation(b,a):f;b=e.parseActiveItem(b);c=a.items.indexOf(b);if(c==-1){a.add(b)}if(b&&d!=b&&a.onBeforeCardSwitch(b,d,c,!!f)!==false){if(!b.rendered){this.layout()}if(b.fireEvent("beforeactivate",b,d)===false){return false}if(d&&d.fireEvent("beforedeactivate",d,b)===false){return false}if(b.hidden){b.show()}e.activeItem=b;if(f){g.on("click",Ext.emptyFn,e,{single:true,preventDefault:true});Ext.Anim.run(b,f,{out:false,autoClear:true,scope:e,after:function(){Ext.defer(function(){g.un("click",Ext.emptyFn,e)},50,e);b.fireEvent("activate",b,d);if(!d){a.onCardSwitch(b,d,c,true)}}});if(d){Ext.Anim.run(d,f,{out:true,autoClear:true,scope:e,after:function(){d.fireEvent("deactivate",d,b);if(e.hideInactive&&e.activeItem!=d){d.hide()}a.onCardSwitch(b,d,c,true)}})}}else{b.fireEvent("activate",b,d);if(d){d.fireEvent("deactivate",d,b);if(e.hideInactive){d.hide()}}a.onCardSwitch(b,d,c,false)}return b}return false},getNext:function(c){var a=this.getLayoutItems(),b=a.indexOf(this.activeItem);return a[b+1]||(c?a[0]:false)},next:function(b,a){return this.setActiveItem(this.getNext(a),b)},getPrev:function(c){var a=this.getLayoutItems(),b=a.indexOf(this.activeItem);return a[b-1]||(c?a[a.length-1]:false)},prev:function(b,a){return this.setActiveItem(this.getPrev(a),b)}});Ext.regLayout("card",Ext.layout.CardLayout);Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"box",targetCls:"x-layout-box",innerCls:"x-layout-box-inner",pack:"start",align:"center",direction:"normal",onLayout:function(){Ext.layout.BoxLayout.superclass.onLayout.call(this);if(this.pack==="left"||this.pack==="top"){this.pack="start"}else{if(this.pack==="right"||this.pack==="bottom"){this.pack="end"}}var d=this.getTarget(),c=d.parent(),b=(c.getWidth()-c.getPadding("lr")-c.getBorderWidth("lr"))+"px",a=(c.getHeight()-c.getPadding("tb")-c.getBorderWidth("tb"))+"px";d.setStyle({"-webkit-box-orient":this.orientation,"-webkit-box-direction":this.direction,"-webkit-box-pack":this.pack,"-webkit-box-align":this.align});if(this.orientation=="horizontal"){d.setStyle({"min-width":b,height:a})}else{d.setStyle({"min-height":a,width:b})}this.prepareFlexedItems();this.setFlexedItems()},prepareFlexedItems:function(){var a=this.getLayoutItems(),d=a.length,c,b;for(b=0;b<d;b++){c=a[b];if(c.flex!=undefined){c.el.setStyle("position","absolute");c.boxEl=this.createBoxEl(c)}else{c.doComponentLayout()}}},setFlexedItems:function(){var a=this.getLayoutItems(),d=a.length,c,b;for(b=0;b<d;b++){c=a[b];if(c.flex!=undefined){c.boxSize=c.boxEl.getSize()}}for(b=0;b<d;b++){c=a[b];if(c.flex!=undefined){c.el.setStyle("position","");if(this.align=="stretch"){c.setSize(c.boxSize)}else{if(this.orientation=="horizontal"){c.setWidth(c.boxSize.width)}else{c.setHeight(c.boxSize.height)}}c.boxEl.remove();delete c.boxEl;delete c.boxSize}}},getTarget:function(){var a=this.owner,b=this.innerCt;if(!b){if(a.scrollEl){b=a.scrollEl.addClass(this.innerCls)}else{b=a.getTargetEl().createChild({cls:this.innerCls})}this.innerCt=b}return b},createBoxEl:function(b){var a=b.el;return a.insertSibling({style:"margin-top: "+a.getMargin("tb")+"px; margin-left: "+a.getMargin("lr")+"px; -webkit-box-flex: "+b.flex})}});Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{orientation:"horizontal",});Ext.regLayout("hbox",Ext.layout.HBoxLayout);Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{orientation:"vertical"});Ext.regLayout("vbox",Ext.layout.VBoxLayout);